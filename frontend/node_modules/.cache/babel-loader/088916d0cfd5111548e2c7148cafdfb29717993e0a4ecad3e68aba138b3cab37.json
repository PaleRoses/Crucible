{"ast":null,"code":"var _jsxFileName = \"/home/valeria/Documents/Crucible/frontend/src/components/core/effects/ScrollingTextAnimation.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { motion, useScroll, useTransform } from 'framer-motion';\nimport { createUseStyles } from 'react-jss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = createUseStyles({\n  animatedContainer: {\n    position: 'relative',\n    width: '100%',\n    textAlign: props => props.textAlign || 'center',\n    margin: props => props.margin || '0 0 3rem 0',\n    zIndex: 2,\n    willChange: 'transform, opacity' // Enable hardware acceleration\n  },\n  content: {\n    width: '100%'\n  },\n  divider: props => ({\n    width: props.dividerWidth || '150px',\n    height: props.dividerHeight || '1px',\n    background: props.dividerBackground || 'linear-gradient(to right, rgba(160, 142, 97, 0), rgba(160, 142, 97, 0.6), rgba(160, 142, 97, 0))',\n    margin: props.dividerMargin || '1rem auto',\n    display: props.showDivider ? 'block' : 'none'\n  })\n});\n\n/**\n * ScrollingTextAnimation Component\n * \n * An optimized component that creates a smooth scroll-based animation\n * for text elements with improved performance on both mobile and desktop.\n */\nconst ScrollingTextAnimation = ({\n  children,\n  scrollConfig = {},\n  textAlign = 'center',\n  margin = '0 0 3rem 0',\n  showDivider = true,\n  dividerWidth = '150px',\n  dividerHeight = '1px',\n  dividerBackground,\n  dividerMargin = '1rem auto',\n  style = {},\n  className = ''\n}) => {\n  _s();\n  // Set default scroll configuration\n  const {\n    startPosition = 0,\n    endPosition = 300,\n    initialY = -100,\n    finalY = 0,\n    clampValues = true,\n    opacityValues = [1, 0.95, 0.9],\n    opacityScrollPositions = [startPosition, endPosition, endPosition + 100],\n    reverseDirection = false,\n    throttleAmount = 10 // Throttle in ms, new parameter\n  } = scrollConfig;\n  const containerRef = useRef(null);\n  const [isInView, setIsInView] = useState(false);\n\n  // Calculate the actual Y values considering direction\n  const yInputRange = [startPosition, endPosition];\n  const yOutputRange = reverseDirection ? [finalY, initialY] : [initialY, finalY];\n\n  // Use custom scroll with throttling\n  const {\n    scrollY\n  } = useScroll({\n    container: typeof window !== 'undefined' ? window : undefined,\n    layoutEffect: false,\n    // Use useEffect instead of layoutEffect for better performance\n    offset: ['start', 'end'],\n    // Only update animation values at most once every X ms\n    throttleDelay: throttleAmount\n  });\n\n  // Create transform values based on scroll position\n  const translateY = useTransform(scrollY, yInputRange, yOutputRange, {\n    clamp: clampValues\n  });\n\n  // Create opacity transform\n  const opacity = useTransform(scrollY, opacityScrollPositions, opacityValues, {\n    clamp: clampValues\n  });\n\n  // Intersection Observer to only animate when in viewport\n  useEffect(() => {\n    if (!containerRef.current || typeof IntersectionObserver === 'undefined') return;\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        setIsInView(entry.isIntersecting);\n      });\n    }, {\n      root: null,\n      rootMargin: '50px 0px',\n      threshold: 0.1\n    });\n    observer.observe(containerRef.current);\n    return () => {\n      if (containerRef.current) {\n        observer.unobserve(containerRef.current);\n      }\n    };\n  }, []);\n\n  // Create styles for component\n  const styleProps = {\n    textAlign,\n    margin,\n    showDivider,\n    dividerWidth,\n    dividerHeight,\n    dividerBackground,\n    dividerMargin\n  };\n  const classes = useStyles(styleProps);\n\n  // Performance optimization: only apply animations when in view\n  const animationStyle = isInView ? {\n    y: translateY,\n    opacity: opacity,\n    transition: \"y 0.1s linear, opacity 0.1s linear\" // Smooth transition between frames\n  } : {\n    // Initial state while not in view\n    y: reverseDirection ? finalY : initialY,\n    opacity: opacityValues[0]\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    ref: containerRef,\n    className: `${classes.animatedContainer} ${className}`,\n    style: {\n      ...style,\n      ...animationStyle,\n      transform: 'translateZ(0)' // Force GPU rendering\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.content,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), showDivider && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.divider\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n};\n_s(ScrollingTextAnimation, \"J7UOmoRUjwpzbnObphjX7edRLBs=\", false, function () {\n  return [useScroll, useTransform, useTransform, useStyles];\n});\n_c = ScrollingTextAnimation;\nexport default ScrollingTextAnimation;\nvar _c;\n$RefreshReg$(_c, \"ScrollingTextAnimation\");","map":{"version":3,"names":["React","useRef","useEffect","useState","motion","useScroll","useTransform","createUseStyles","jsxDEV","_jsxDEV","useStyles","animatedContainer","position","width","textAlign","props","margin","zIndex","willChange","content","divider","dividerWidth","height","dividerHeight","background","dividerBackground","dividerMargin","display","showDivider","ScrollingTextAnimation","children","scrollConfig","style","className","_s","startPosition","endPosition","initialY","finalY","clampValues","opacityValues","opacityScrollPositions","reverseDirection","throttleAmount","containerRef","isInView","setIsInView","yInputRange","yOutputRange","scrollY","container","window","undefined","layoutEffect","offset","throttleDelay","translateY","clamp","opacity","current","IntersectionObserver","observer","entries","forEach","entry","isIntersecting","root","rootMargin","threshold","observe","unobserve","styleProps","classes","animationStyle","y","transition","div","ref","transform","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/valeria/Documents/Crucible/frontend/src/components/core/effects/ScrollingTextAnimation.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport { motion, useScroll, useTransform } from 'framer-motion';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  animatedContainer: {\n    position: 'relative',\n    width: '100%',\n    textAlign: props => props.textAlign || 'center',\n    margin: props => props.margin || '0 0 3rem 0',\n    zIndex: 2,\n    willChange: 'transform, opacity', // Enable hardware acceleration\n  },\n  content: {\n    width: '100%'\n  },\n  divider: props => ({\n    width: props.dividerWidth || '150px',\n    height: props.dividerHeight || '1px',\n    background: props.dividerBackground || 'linear-gradient(to right, rgba(160, 142, 97, 0), rgba(160, 142, 97, 0.6), rgba(160, 142, 97, 0))',\n    margin: props.dividerMargin || '1rem auto',\n    display: props.showDivider ? 'block' : 'none'\n  })\n});\n\n/**\n * ScrollingTextAnimation Component\n * \n * An optimized component that creates a smooth scroll-based animation\n * for text elements with improved performance on both mobile and desktop.\n */\nconst ScrollingTextAnimation = ({\n  children,\n  scrollConfig = {},\n  textAlign = 'center',\n  margin = '0 0 3rem 0',\n  showDivider = true,\n  dividerWidth = '150px',\n  dividerHeight = '1px',\n  dividerBackground,\n  dividerMargin = '1rem auto',\n  style = {},\n  className = ''\n}) => {\n  // Set default scroll configuration\n  const {\n    startPosition = 0,\n    endPosition = 300,\n    initialY = -100,\n    finalY = 0,\n    clampValues = true,\n    opacityValues = [1, 0.95, 0.9],\n    opacityScrollPositions = [startPosition, endPosition, endPosition + 100],\n    reverseDirection = false,\n    throttleAmount = 10 // Throttle in ms, new parameter\n  } = scrollConfig;\n\n  const containerRef = useRef(null);\n  const [isInView, setIsInView] = useState(false);\n  \n  // Calculate the actual Y values considering direction\n  const yInputRange = [startPosition, endPosition];\n  const yOutputRange = reverseDirection ? [finalY, initialY] : [initialY, finalY];\n  \n  // Use custom scroll with throttling\n  const { scrollY } = useScroll({\n    container: typeof window !== 'undefined' ? window : undefined,\n    layoutEffect: false, // Use useEffect instead of layoutEffect for better performance\n    offset: ['start', 'end'],\n    // Only update animation values at most once every X ms\n    throttleDelay: throttleAmount\n  });\n  \n  // Create transform values based on scroll position\n  const translateY = useTransform(\n    scrollY,\n    yInputRange,\n    yOutputRange,\n    { clamp: clampValues }\n  );\n  \n  // Create opacity transform\n  const opacity = useTransform(\n    scrollY,\n    opacityScrollPositions,\n    opacityValues,\n    { clamp: clampValues }\n  );\n  \n  // Intersection Observer to only animate when in viewport\n  useEffect(() => {\n    if (!containerRef.current || typeof IntersectionObserver === 'undefined') return;\n    \n    const observer = new IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          setIsInView(entry.isIntersecting);\n        });\n      },\n      {\n        root: null,\n        rootMargin: '50px 0px',\n        threshold: 0.1\n      }\n    );\n    \n    observer.observe(containerRef.current);\n    \n    return () => {\n      if (containerRef.current) {\n        observer.unobserve(containerRef.current);\n      }\n    };\n  }, []);\n  \n  // Create styles for component\n  const styleProps = {\n    textAlign,\n    margin,\n    showDivider,\n    dividerWidth,\n    dividerHeight,\n    dividerBackground,\n    dividerMargin\n  };\n  \n  const classes = useStyles(styleProps);\n  \n  // Performance optimization: only apply animations when in view\n  const animationStyle = isInView ? {\n    y: translateY,\n    opacity: opacity,\n    transition: \"y 0.1s linear, opacity 0.1s linear\" // Smooth transition between frames\n  } : {\n    // Initial state while not in view\n    y: reverseDirection ? finalY : initialY,\n    opacity: opacityValues[0]\n  };\n  \n  return (\n    <motion.div \n      ref={containerRef}\n      className={`${classes.animatedContainer} ${className}`}\n      style={{ \n        ...style,\n        ...animationStyle,\n        transform: 'translateZ(0)' // Force GPU rendering\n      }}\n    >\n      <div className={classes.content}>\n        {children}\n      </div>\n      {showDivider && <div className={classes.divider} />}\n    </motion.div>\n  );\n};\n\nexport default ScrollingTextAnimation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/home/valeria/Documents/Crucible/frontend/src/components/sections/landingpage/LandingPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RefinedLandingPage = () => {\n  _s();\n  const [activeSection, setActiveSection] = useState(null);\n  const [expandedSection, setExpandedSection] = useState(null);\n  const [expandedSubsection, setExpandedSubsection] = useState(null);\n  const [cursorPosition, setCursorPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [showIntro, setShowIntro] = useState(false);\n  const [quoteVisible, setQuoteVisible] = useState(false);\n  const [currentQuote, setCurrentQuote] = useState(null);\n  const [moonDrawn, setMoonDrawn] = useState(0); // 0: not started, 1: drawing, 2: complete\n  const [animatingLayout, setAnimatingLayout] = useState(false); // New state to track layout animations\n\n  const canvasRef = useRef(null);\n  const moonCanvasRef = useRef(null);\n  const footerMoonRef = useRef(null);\n  const particlesRef = useRef([]);\n  const requestRef = useRef(null);\n  const moonAnimationRef = useRef(null);\n  const sectionsContainerRef = useRef(null); // New ref for the sections container\n\n  // Collection of poetic quotes by women\n  const quotes = [{\n    text: \"My candle burns at both ends;\\nIt will not last the night;\\nBut, ah my foes, and\\noh my friend â€”\\nit gives a\\nlovely\\nlight\",\n    author: \"Edna St. Vincent Millay\"\n  }, {\n    text: \"Out of the ash\\nI rise with my red hair\\nAnd I eat men like air.\",\n    author: \"Sylvia Plath\"\n  }, {\n    text: \"And he will come this, light insouciant lover,\\nblowing his bugles to a rising morrow,\\nto rend her veil, her wizened mind uncover,\\nto leave her conquered by life's stinging sorrow\",\n    author: \"Virginia McCormick\"\n  }, {\n    text: \"Hope is the thing with feathers\\nThat perches in the soul,\\nAnd sings the tune without the words,\\nAnd never stops at all.\",\n    author: \"Emily Dickinson\"\n  }, {\n    text: \"I have gone out, a possessed witch,\\nhaunting the black air, braver at night;\\ndreaming evil, I have done my hitch\\nover the plain houses, light by light.\",\n    author: \"Anne Sexton\"\n  }];\n\n  // Main sections - reduced to 3\n  const mainSections = [{\n    id: \"cycles\",\n    title: \"Cycles\",\n    description: \"Endless cycles of creation and destruction.\",\n    icon: \"circles\",\n    path: \"/cycles\",\n    expandable: true,\n    subsections: [{\n      id: \"new-world\",\n      title: \"New Cycle\",\n      description: \"Paint a new world onto an empty canvas\",\n      path: \"/cycles/new-world\"\n    }, {\n      id: \"revisit\",\n      title: \"Load Cycle\",\n      description: \"Revisit a fading echo\",\n      path: \"/cycles/revisit\"\n    }]\n  }, {\n    id: \"codex\",\n    title: \"Codex\",\n    description: \"Repository of knowledge and rules\",\n    icon: \"triangle\",\n    path: \"/codex\",\n    expandable: true,\n    subsections: [{\n      id: \"creator\",\n      title: \"Creators\",\n      description: \"The minds behind the mysteries.\",\n      path: \"/codex/creator\"\n    }, {\n      id: \"visualizations\",\n      title: \"Visualizations\",\n      description: \"Complex systems revealed through dynamic visual representations.\",\n      path: \"/codex/visualizations\",\n      expandable: true,\n      subsections: [{\n        id: \"creature-traits\",\n        title: \"Creature Trait Visualization\",\n        description: \"Explore how creatures adapt and evolve in response to environmental pressures.\",\n        path: \"/codex/visualizations/creature-traits\"\n      }, {\n        id: \"environmental\",\n        title: \"Environmental Visualization\",\n        description: \"Witness the formation and transformation of worlds and their ecosystems.\",\n        path: \"/codex/visualizations/environmental\"\n      }]\n    }, {\n      id: \"basics\",\n      title: \"Basics\",\n      description: \"Fundamental concepts and essential knowledge for beginners.\",\n      path: \"/codex/basics\"\n    }, {\n      id: \"advanced\",\n      title: \"Advanced\",\n      description: \"Complex theories and elaborate mechanics for seasoned explorers.\",\n      path: \"/codex/advanced\"\n    }]\n  }, {\n    id: \"characters\",\n    title: \"Characters\",\n    description: \"Beings shaped by their environments, each with a unique story to tell.\",\n    icon: \"targetCircle\",\n    path: \"/characters\"\n  }];\n\n  // Check if user has visited before\n  useEffect(() => {\n    const hasVisited = localStorage.getItem('hasVisitedCrescent');\n    const shouldShowIntro = !hasVisited;\n    setShowIntro(shouldShowIntro);\n    if (shouldShowIntro) {\n      // Select a random quote\n      const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];\n      setCurrentQuote(randomQuote);\n\n      // Fast 3-second intro sequence\n      setTimeout(() => setMoonDrawn(1), 200); // Start drawing moon quickly\n      setTimeout(() => setQuoteVisible(true), 400); // Show quote almost immediately\n      setTimeout(() => setMoonDrawn(2), 2500); // Complete moon animation at 2.5s\n      setTimeout(() => {\n        setQuoteVisible(false);\n        // Start fade out of intro\n        const introElement = document.querySelector('.intro-sequence');\n        if (introElement) introElement.classList.add('fade-out');\n      }, 2600);\n      setTimeout(() => {\n        setShowIntro(false);\n        setIsLoaded(true);\n      }, 3000); // Complete entire sequence at 3s\n\n      // Save that user has visited\n      localStorage.setItem('hasVisitedCrescent', 'true');\n    } else {\n      // Skip intro for returning visitors\n      setIsLoaded(true);\n    }\n  }, [quotes]); // Added quotes to dependency array\n\n  // Initialize particles\n  useEffect(() => {\n    particlesRef.current = Array(40).fill().map(() => ({\n      x: Math.random() * window.innerWidth,\n      y: Math.random() * window.innerHeight,\n      size: Math.random() * 1.5 + 0.5,\n      // Smaller particles\n      speedX: (Math.random() - 0.5) * 0.15,\n      speedY: (Math.random() - 0.5) * 0.15,\n      opacity: Math.random() * 0.3 + 0.05 // More subtle\n    }));\n    return () => {\n      if (requestRef.current) {\n        cancelAnimationFrame(requestRef.current);\n      }\n      if (moonAnimationRef.current) {\n        cancelAnimationFrame(moonAnimationRef.current);\n      }\n    };\n  }, []);\n\n  // Vector moon animation for intro\n  useEffect(() => {\n    if (!moonCanvasRef.current || moonDrawn === 0) return;\n    const canvas = moonCanvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const centerX = canvas.width / 2;\n    const centerY = canvas.height / 2;\n    const radius = 70;\n    let angle = 0;\n    let direction = 1; // 1 for drawing, -1 for undoing\n    let lastTimestamp = 0;\n\n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    const drawMoonAnimation = timestamp => {\n      if (!lastTimestamp) lastTimestamp = timestamp;\n      const deltaTime = timestamp - lastTimestamp;\n      lastTimestamp = timestamp;\n\n      // Speed control - faster animation to complete in ~2.3 seconds\n      const speed = 1.3 * deltaTime / 16.67; // Significantly faster\n\n      angle += speed * direction;\n\n      // Clear canvas\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      // Draw moon outline\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, 0, angle * Math.PI / 180, false);\n      ctx.strokeStyle = 'rgba(191, 173, 127, 0.7)';\n      ctx.lineWidth = 1.5;\n      ctx.stroke();\n\n      // Add subtle glow\n      ctx.shadowColor = 'rgba(191, 173, 127, 0.3)';\n      ctx.shadowBlur = 8;\n\n      // Reverse direction when full circle is drawn\n      if (angle >= 360 && direction === 1) {\n        direction = -1; // Start undoing\n      }\n\n      // Stop when animation is complete or when we reach moonDrawn state 2\n      if (angle <= 0 && direction === -1 || moonDrawn === 2) {\n        cancelAnimationFrame(moonAnimationRef.current);\n        return;\n      }\n      moonAnimationRef.current = requestAnimationFrame(drawMoonAnimation);\n    };\n    if (moonDrawn === 1) {\n      moonAnimationRef.current = requestAnimationFrame(drawMoonAnimation);\n    }\n    return () => {\n      if (moonAnimationRef.current) {\n        cancelAnimationFrame(moonAnimationRef.current);\n      }\n    };\n  }, [moonDrawn]);\n\n  // Static vector moon for footer\n  useEffect(() => {\n    if (!footerMoonRef.current) return;\n    const canvas = footerMoonRef.current;\n    const ctx = canvas.getContext('2d');\n    const drawFooterMoon = () => {\n      const centerX = canvas.width / 2;\n      const centerY = canvas.height / 2;\n      const radius = 70;\n\n      // Clear canvas\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      // Draw thin circle\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n      ctx.strokeStyle = 'rgba(191, 173, 127, 0.7)';\n      ctx.lineWidth = 1.5;\n\n      // Add subtle glow\n      ctx.shadowColor = 'rgba(191, 173, 127, 0.3)';\n      ctx.shadowBlur = 10;\n      ctx.stroke();\n\n      // Draw a few thin lines across for texture (very subtle)\n      ctx.beginPath();\n      ctx.moveTo(centerX - radius * 0.7, centerY - radius * 0.3);\n      ctx.lineTo(centerX + radius * 0.7, centerY + radius * 0.3);\n      ctx.strokeStyle = 'rgba(191, 173, 127, 0.2)';\n      ctx.lineWidth = 0.5;\n      ctx.stroke();\n      ctx.beginPath();\n      ctx.moveTo(centerX - radius * 0.5, centerY + radius * 0.5);\n      ctx.lineTo(centerX + radius * 0.5, centerY - radius * 0.5);\n      ctx.stroke();\n    };\n    drawFooterMoon();\n    window.addEventListener('resize', drawFooterMoon);\n    return () => {\n      window.removeEventListener('resize', drawFooterMoon);\n    };\n  }, []);\n\n  // Canvas animation for background particles\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    const animate = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      // Draw particles\n      particlesRef.current.forEach(particle => {\n        // Update position\n        particle.x += particle.speedX;\n        particle.y += particle.speedY;\n\n        // Wrap around screen\n        if (particle.x < 0) particle.x = canvas.width;\n        if (particle.x > canvas.width) particle.x = 0;\n        if (particle.y < 0) particle.y = canvas.height;\n        if (particle.y > canvas.height) particle.y = 0;\n\n        // Draw particle\n        ctx.beginPath();\n        ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\n        ctx.fillStyle = `rgba(191, 173, 127, ${particle.opacity})`;\n        ctx.fill();\n      });\n\n      // Draw cursor influence - very subtle glow\n      if (cursorPosition.x && cursorPosition.y) {\n        const gradient = ctx.createRadialGradient(cursorPosition.x, cursorPosition.y, 0, cursorPosition.x, cursorPosition.y, 80);\n        gradient.addColorStop(0, 'rgba(160, 142, 97, 0.03)');\n        gradient.addColorStop(1, 'rgba(160, 142, 97, 0)');\n        ctx.beginPath();\n        ctx.arc(cursorPosition.x, cursorPosition.y, 80, 0, Math.PI * 2);\n        ctx.fillStyle = gradient;\n        ctx.fill();\n      }\n      requestRef.current = requestAnimationFrame(animate);\n    };\n    animate();\n\n    // Resize handler\n    const handleResize = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    };\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      cancelAnimationFrame(requestRef.current);\n    };\n  }, [cursorPosition]);\n\n  // Track mouse movement\n  const handleMouseMove = e => {\n    setCursorPosition({\n      x: e.clientX,\n      y: e.clientY\n    });\n  };\n\n  // Skip intro\n  const handleSkipIntro = () => {\n    setShowIntro(false);\n    setIsLoaded(true);\n  };\n\n  // Navigate to section\n  const handleNavigate = (path, event, isExpandable) => {\n    if (isExpandable) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    // For demo purposes, just log the navigation\n    console.log(`Navigating to: ${path}`);\n    // In a real app, you'd use your routing library:\n    // window.location.href = path; or history.push(path);\n  };\n\n  // Handle section hover\n  const handleSectionHover = sectionId => {\n    setActiveSection(sectionId);\n  };\n\n  // Handle section click - for expanding sections\n  const handleSectionClick = (sectionId, event) => {\n    if (mainSections.find(section => section.id === sectionId && section.expandable)) {\n      event.stopPropagation();\n\n      // Set animating flag to true\n      setAnimatingLayout(true);\n\n      // If currently expanded, add collapse animation class first\n      if (expandedSection === sectionId) {\n        const container = document.querySelector(`.section-wrapper[data-id=\"${sectionId}\"] .subsections-container`);\n        if (container) {\n          // Add the collapse class to trigger the animation\n          container.classList.add('collapse');\n\n          // Calculate the current height of the section wrapper for smooth transition\n          const sectionWrapper = document.querySelector(`.section-wrapper[data-id=\"${sectionId}\"]`);\n          const sectionRow = sectionWrapper.querySelector('.section-row');\n          const currentHeight = sectionWrapper.offsetHeight;\n          const rowHeight = sectionRow.offsetHeight;\n\n          // Set explicit height to allow for transition\n          sectionWrapper.style.height = `${currentHeight}px`;\n\n          // Force a reflow to ensure the browser recognizes the style change\n          void sectionWrapper.offsetHeight;\n\n          // Set the target height (just the row)\n          sectionWrapper.style.height = `${rowHeight}px`;\n\n          // After animation completes, collapse the section and reset height to auto\n          setTimeout(() => {\n            setExpandedSection(null);\n\n            // Wait a bit more to reset the height to auto\n            setTimeout(() => {\n              sectionWrapper.style.height = 'auto';\n\n              // Reset animating flag\n              setAnimatingLayout(false);\n            }, 50);\n          }, 300);\n        } else {\n          setExpandedSection(null);\n          setAnimatingLayout(false);\n        }\n      } else {\n        // If another section is already expanded, collapse it first\n        if (expandedSection) {\n          const previousWrapper = document.querySelector(`.section-wrapper[data-id=\"${expandedSection}\"]`);\n          const previousRow = previousWrapper === null || previousWrapper === void 0 ? void 0 : previousWrapper.querySelector('.section-row');\n          const previousContainer = previousWrapper === null || previousWrapper === void 0 ? void 0 : previousWrapper.querySelector('.subsections-container');\n          if (previousWrapper && previousRow && previousContainer) {\n            // Set fixed height for transition\n            previousWrapper.style.height = `${previousWrapper.offsetHeight}px`;\n\n            // Force reflow\n            void previousWrapper.offsetHeight;\n\n            // Add collapse animation\n            previousContainer.classList.add('collapse');\n\n            // Set height to just the row\n            previousWrapper.style.height = `${previousRow.offsetHeight}px`;\n\n            // After animation, prepare to expand the new section\n            setTimeout(() => {\n              // Reset previous section\n              previousWrapper.style.height = 'auto';\n              previousContainer.classList.remove('collapse');\n\n              // Setup and expand the new section\n              expandNewSection(sectionId);\n            }, 300);\n          } else {\n            // Previous section doesn't have the expected structure,\n            // just expand the new section\n            expandNewSection(sectionId);\n          }\n        } else {\n          // No section is expanded, just expand the new one\n          expandNewSection(sectionId);\n        }\n      }\n    }\n  };\n\n  // Helper function to expand a section\n  const expandNewSection = sectionId => {\n    const sectionWrapper = document.querySelector(`.section-wrapper[data-id=\"${sectionId}\"]`);\n    const sectionRow = sectionWrapper.querySelector('.section-row');\n\n    // Set initial height to just the row height\n    const rowHeight = sectionRow.offsetHeight;\n    sectionWrapper.style.height = `${rowHeight}px`;\n\n    // Update the state to show the subsections\n    setExpandedSection(sectionId);\n\n    // After the DOM updates with the expanded content, transition to the full height\n    // Increased timeout to ensure DOM is fully updated\n    setTimeout(() => {\n      var _sectionWrapper$query;\n      // Force a reflow to ensure all elements are properly rendered\n      void sectionWrapper.offsetHeight;\n\n      // Calculate the new height with a small buffer (2px) to prevent any rounding issues\n      const subsectionsHeight = ((_sectionWrapper$query = sectionWrapper.querySelector('.subsections-container')) === null || _sectionWrapper$query === void 0 ? void 0 : _sectionWrapper$query.offsetHeight) || 0;\n      const newHeight = sectionRow.offsetHeight + subsectionsHeight + 2;\n      sectionWrapper.style.height = `${newHeight}px`;\n\n      // Use transitionend event instead of fixed timeout\n      const handleTransitionEnd = () => {\n        // Only set to auto after ensuring the transition is complete\n        requestAnimationFrame(() => {\n          sectionWrapper.style.height = 'auto';\n          setAnimatingLayout(false);\n        });\n        sectionWrapper.removeEventListener('transitionend', handleTransitionEnd);\n      };\n      sectionWrapper.addEventListener('transitionend', handleTransitionEnd);\n\n      // Backup timeout in case transitionend doesn't fire\n      const timeoutId = setTimeout(() => {\n        if (sectionWrapper.style.height !== 'auto') {\n          sectionWrapper.style.height = 'auto';\n          setAnimatingLayout(false);\n          sectionWrapper.removeEventListener('transitionend', handleTransitionEnd);\n        }\n      }, 500);\n    }, 100); // Increased from 50ms to 100ms\n  };\n\n  // Handle subsection hover/click - auto-expand\n  const handleSubsectionHover = (sectionId, event) => {\n    // Make sure we have a valid event object\n    if (event) {\n      event.stopPropagation();\n    }\n    const isClickEvent = event.type === 'click';\n    if (isClickEvent) {\n      setAnimatingLayout(true);\n    }\n\n    // If currently expanded and clicking the same subsection, add collapse animation first\n    if (expandedSubsection === sectionId && isClickEvent) {\n      const container = document.querySelector(`.subsection-wrapper[data-id=\"${sectionId}\"] .nested-subsections-container`);\n      if (container) {\n        // Add the collapse class to trigger the animation\n        container.classList.add('collapse');\n\n        // Calculate the current height of the subsection wrapper for smooth transition\n        const subsectionWrapper = document.querySelector(`.subsection-wrapper[data-id=\"${sectionId}\"]`);\n        const subsectionRow = subsectionWrapper.querySelector('.subsection-row');\n        const currentHeight = subsectionWrapper.offsetHeight;\n        const rowHeight = subsectionRow.offsetHeight;\n\n        // Set explicit height to allow for transition\n        subsectionWrapper.style.height = `${currentHeight}px`;\n\n        // Force a reflow to ensure the browser recognizes the style change\n        void subsectionWrapper.offsetHeight;\n\n        // Set the target height (just the row)\n        subsectionWrapper.style.height = `${rowHeight}px`;\n\n        // After animation completes, collapse the subsection and reset height to auto\n        setTimeout(() => {\n          setExpandedSubsection(null);\n          setTimeout(() => {\n            subsectionWrapper.style.height = 'auto';\n            if (isClickEvent) {\n              setAnimatingLayout(false);\n            }\n          }, 50);\n        }, 300);\n      } else {\n        setExpandedSubsection(null);\n        if (isClickEvent) {\n          setAnimatingLayout(false);\n        }\n      }\n    } else {\n      // For hover or first click, expand the subsection\n      if (sectionId !== expandedSubsection) {\n        // If another subsection is expanded, collapse it first\n        if (expandedSubsection && isClickEvent) {\n          const previousWrapper = document.querySelector(`.subsection-wrapper[data-id=\"${expandedSubsection}\"]`);\n          const previousRow = previousWrapper === null || previousWrapper === void 0 ? void 0 : previousWrapper.querySelector('.subsection-row');\n          const previousContainer = previousWrapper === null || previousWrapper === void 0 ? void 0 : previousWrapper.querySelector('.nested-subsections-container');\n          if (previousWrapper && previousRow && previousContainer) {\n            // Set fixed height for transition\n            previousWrapper.style.height = `${previousWrapper.offsetHeight}px`;\n\n            // Force reflow\n            void previousWrapper.offsetHeight;\n\n            // Add collapse animation\n            previousContainer.classList.add('collapse');\n\n            // Set height to just the row\n            previousWrapper.style.height = `${previousRow.offsetHeight}px`;\n\n            // After animation, prepare to expand the new subsection\n            setTimeout(() => {\n              // Reset previous subsection\n              previousWrapper.style.height = 'auto';\n              previousContainer.classList.remove('collapse');\n\n              // Expand new subsection\n              expandNewSubsection(sectionId, isClickEvent);\n            }, 300);\n          } else {\n            // Previous subsection doesn't have the expected structure,\n            // just expand the new subsection\n            expandNewSubsection(sectionId, isClickEvent);\n          }\n        } else {\n          // No subsection is expanded, just expand the new one\n          expandNewSubsection(sectionId, isClickEvent);\n        }\n      }\n    }\n  };\n\n  // Helper function to expand a subsection\n  const expandNewSubsection = (sectionId, isClickEvent) => {\n    const subsectionWrapper = document.querySelector(`.subsection-wrapper[data-id=\"${sectionId}\"]`);\n    if (subsectionWrapper && isClickEvent) {\n      const subsectionRow = subsectionWrapper.querySelector('.subsection-row');\n\n      // Set initial height to just the row height\n      const rowHeight = subsectionRow.offsetHeight;\n      subsectionWrapper.style.height = `${rowHeight}px`;\n    }\n\n    // Update the state to show the nested subsections\n    setExpandedSubsection(sectionId);\n\n    // After the DOM updates with the expanded content, transition to the full height\n    if (isClickEvent) {\n      setTimeout(() => {\n        const subsectionWrapper = document.querySelector(`.subsection-wrapper[data-id=\"${sectionId}\"]`);\n        if (subsectionWrapper) {\n          var _subsectionWrapper$qu;\n          const subsectionRow = subsectionWrapper.querySelector('.subsection-row');\n          const newHeight = subsectionRow.offsetHeight + (((_subsectionWrapper$qu = subsectionWrapper.querySelector('.nested-subsections-container')) === null || _subsectionWrapper$qu === void 0 ? void 0 : _subsectionWrapper$qu.offsetHeight) || 0);\n          subsectionWrapper.style.height = `${newHeight}px`;\n\n          // Reset to auto after transition completes\n          setTimeout(() => {\n            subsectionWrapper.style.height = 'auto';\n            setAnimatingLayout(false);\n          }, 400);\n        }\n      }, 50);\n    }\n  };\n\n  // Handle section leave\n  const handleSectionLeave = () => {\n    setActiveSection(null);\n  };\n\n  // Format quote with line breaks\n  const formatQuote = text => {\n    return text.split('\\n').map((line, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"quote-line\",\n      children: [line, i < text.split('\\n').length - 1 && /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 45\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 7\n    }, this));\n  };\n\n  // Render SVG icons for main sections\n  const renderIcon = iconType => {\n    switch (iconType) {\n      case 'circles':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icon-container\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"42\",\n            height: \"42\",\n            viewBox: \"0 0 42 42\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"21\",\n              cy: \"21\",\n              r: \"14\",\n              stroke: \"#A08E61\",\n              strokeWidth: \"1.5\",\n              opacity: \"0.9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"16\",\n              cy: \"21\",\n              r: \"9\",\n              stroke: \"#A08E61\",\n              strokeWidth: \"1.5\",\n              opacity: \"0.7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"26\",\n              cy: \"21\",\n              r: \"9\",\n              stroke: \"#A08E61\",\n              strokeWidth: \"1.5\",\n              opacity: \"0.7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 11\n        }, this);\n      case 'triangle':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icon-container\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"42\",\n            height: \"42\",\n            viewBox: \"0 0 42 42\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M21 7L35 32H7L21 7Z\",\n              stroke: \"#A08E61\",\n              strokeWidth: \"1.5\",\n              opacity: \"0.9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 11\n        }, this);\n      case 'targetCircle':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icon-container\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"42\",\n            height: \"42\",\n            viewBox: \"0 0 42 42\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"21\",\n              cy: \"21\",\n              r: \"14\",\n              stroke: \"#A08E61\",\n              strokeWidth: \"1.5\",\n              opacity: \"0.9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"21\",\n              cy: \"21\",\n              r: \"5\",\n              fill: \"#A08E61\",\n              opacity: \"0.7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 698,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"landing-container\",\n    onMouseMove: handleMouseMove,\n    onClick: showIntro ? handleSkipIntro : undefined,\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"background-canvas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 7\n    }, this), showIntro && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"intro-sequence\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"moon-animation\",\n        children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: moonCanvasRef,\n          width: \"200\",\n          height: \"200\",\n          className: \"moon-canvas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `quote-container ${quoteVisible ? 'visible' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quote-text\",\n          children: currentQuote && formatQuote(currentQuote.text)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quote-author\",\n          children: currentQuote && currentQuote.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skip-intro\",\n        children: \"tap to skip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `content-wrapper ${isLoaded ? 'loaded' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"main-title\",\n            children: \"CRESCENT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title-divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"subtitle\",\n            children: \"The world is locked into an endlessly recurring cycle of destruction and rebirth. Each new beginning brings a different world, shaped by the remnants of the past and the whims of the Moon.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: sectionsContainerRef,\n          className: `sections-container ${animatingLayout ? 'animating' : ''}`,\n          children: mainSections.map((section, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `section-wrapper ${expandedSection === section.id ? 'expanded-section' : ''}`,\n            \"data-id\": section.id,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `section-row ${activeSection === section.id ? 'active' : ''} ${expandedSection === section.id ? 'expanded' : ''}`,\n              onMouseEnter: () => handleSectionHover(section.id),\n              onMouseLeave: handleSectionLeave,\n              onClick: e => {\n                if (section.expandable) {\n                  handleSectionClick(section.id, e);\n                } else {\n                  handleNavigate(section.path, e);\n                }\n              },\n              style: {\n                animationDelay: `${index * 0.15 + 0.3}s`\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"section-icon-wrapper\",\n                  children: renderIcon(section.icon)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 774,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"section-text\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"section-title\",\n                    children: section.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 778,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"section-description\",\n                    children: section.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 779,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 21\n                }, this), section.expandable && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `expand-indicator ${expandedSection === section.id ? 'expanded' : ''}`,\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"16\",\n                    height: \"16\",\n                    viewBox: \"0 0 16 16\",\n                    fill: \"none\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M4 6L8 10L12 6\",\n                      stroke: \"#A08E61\",\n                      strokeWidth: \"1.5\",\n                      strokeLinecap: \"round\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 784,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 783,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 782,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"diagonal-cut\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 789,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 760,\n              columnNumber: 17\n            }, this), section.expandable && expandedSection === section.id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subsections-container\",\n              children: section.subsections.map(subsection => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `subsection-wrapper ${expandedSubsection === subsection.id ? 'expanded-subsection' : ''}`,\n                \"data-id\": subsection.id,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `subsection-row ${expandedSubsection === subsection.id ? 'active' : ''}`,\n                  onMouseEnter: e => handleSubsectionHover(subsection.id, e),\n                  onClick: e => subsection.expandable ? handleSubsectionHover(subsection.id, e) : handleNavigate(subsection.path, e),\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"subsection-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"subsection-title\",\n                      children: subsection.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 807,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"subsection-description\",\n                      children: subsection.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 808,\n                      columnNumber: 29\n                    }, this), subsection.expandable && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `expand-indicator small ${expandedSubsection === subsection.id ? 'expanded' : ''}`,\n                      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                        width: \"12\",\n                        height: \"12\",\n                        viewBox: \"0 0 16 16\",\n                        fill: \"none\",\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M4 6L8 10L12 6\",\n                          stroke: \"#A08E61\",\n                          strokeWidth: \"1.5\",\n                          strokeLinecap: \"round\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 812,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 811,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 810,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 806,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 801,\n                  columnNumber: 25\n                }, this), subsection.expandable && expandedSubsection === subsection.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"nested-subsections-container\",\n                  children: subsection.subsections.map(nestedSubsection => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"nested-subsection-row\",\n                    onClick: e => handleNavigate(nestedSubsection.path, e),\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"nested-subsection-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"nested-subsection-title\",\n                        children: nestedSubsection.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 829,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"nested-subsection-description\",\n                        children: nestedSubsection.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 830,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 828,\n                      columnNumber: 33\n                    }, this)\n                  }, nestedSubsection.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 823,\n                    columnNumber: 31\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 821,\n                  columnNumber: 27\n                }, this)]\n              }, subsection.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 796,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 19\n            }, this)]\n          }, section.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: footerMoonRef,\n          className: \"footer-moon\",\n          width: \"200\",\n          height: \"200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brand-mark\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"symbol\",\n            children: \"\\u25CA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 849,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"year\",\n            children: \"2025\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 850,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 848,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 846,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .landing-container {\n          position: relative;\n          width: 100vw;\n          min-height: 100vh;\n          overflow-x: hidden;\n          background-color: #080808;\n          display: flex;\n          justify-content: center;\n          align-items: flex-start;\n          font-family: 'Avenir', 'Avenir Next', sans-serif;\n          -webkit-font-smoothing: antialiased;\n        }\n        \n        .background-canvas {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          z-index: 1;\n        }\n        \n        /* Intro Sequence Styles */\n        .intro-sequence {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          z-index: 1000;\n          background-color: #080808;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          cursor: pointer;\n          transition: opacity 0.4s ease;\n        }\n        \n        .intro-sequence.fade-out {\n          opacity: 0;\n        }\n        \n        .moon-animation {\n          position: relative;\n          margin-bottom: 3rem;\n        }\n        \n        .moon-canvas {\n          display: block;\n        }\n        \n        .quote-container {\n          max-width: 500px;\n          text-align: center;\n          opacity: 0;\n          transform: translateY(10px);\n          transition: opacity 0.6s ease, transform 0.6s ease;\n          padding: 0 2rem;\n        }\n        \n        .quote-container.visible {\n          opacity: 1;\n          transform: translateY(0);\n        }\n        \n        .quote-text {\n          font-family: 'Garamond', 'Adobe Caslon Pro', serif;\n          font-size: 1.2rem;\n          line-height: 1.7;\n          color: rgba(191, 173, 127, 0.7);\n          margin-bottom: 1.5rem;\n          font-weight: 300;\n          letter-spacing: 0.02em;\n        }\n        \n        .quote-line {\n          display: inline-block;\n        }\n        \n        .quote-author {\n          font-size: 0.9rem;\n          color: rgba(224, 224, 224, 0.5);\n          letter-spacing: 0.1em;\n          text-align: right;\n          padding-right: 2rem;\n          font-weight: 300;\n        }\n        \n        .skip-intro {\n          position: absolute;\n          bottom: 2rem;\n          font-size: 0.7rem;\n          color: rgba(224, 224, 224, 0.3);\n          letter-spacing: 0.15em;\n          animation: pulse 2s infinite;\n          font-weight: 300;\n          text-transform: uppercase;\n        }\n        \n        /* Main Content Styles */\n        .content-wrapper {\n          z-index: 2;\n          width: 100%;\n          min-height: 100vh;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          opacity: 0;\n          transition: opacity 0.8s ease;\n        }\n        \n        .content-wrapper.loaded {\n          opacity: 1;\n        }\n        \n        .content-container {\n          width: 100%;\n          max-width: 900px;\n          margin: 0 auto;\n          padding: 4rem 2rem 2rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center; /* Center all content */\n        }\n        \n        .title-container {\n          text-align: center;\n          margin-bottom: 5rem; /* Increased spacing significantly */\n          width: 100%;\n        }\n        \n        .main-title {\n          font-size: 3.5rem; /* Slightly larger */\n          letter-spacing: 0.25em;\n          margin-bottom: 0.5rem;\n          color: #bfad7f;\n          font-weight: 300;\n          text-transform: uppercase;\n        }\n        \n        .title-divider {\n          height: 1px;\n          width: 150px; /* Wider divider */\n          background: linear-gradient(to right, rgba(160, 142, 97, 0), rgba(160, 142, 97, 0.6), rgba(160, 142, 97, 0));\n          margin: 0.5rem auto;\n        }\n        \n        .subtitle {\n          font-size: 1.1rem; /* Slightly larger */\n          color: rgba(224, 224, 224, 0.6);\n          font-family: 'Garamond', 'Adobe Caslon Pro', serif;\n          font-style: italic;\n          font-weight: 300;\n          margin-top: 0.75rem;\n          letter-spacing: 0.05em;\n        }\n        \n        /* Sections Container - Added transitions for all children */\n        .sections-container {\n          display: flex;\n          flex-direction: column;\n          gap: 2.5rem; /* Significantly increased spacing */\n          margin-bottom: 5rem; /* More space at bottom */\n          width: 100%;\n          max-width: 800px; /* Control maximum width */\n          position: relative; /* For absolute positioning of children if needed */\n        }\n        \n        /* Add transition during layout changes */\n        .sections-container.animating .section-wrapper {\n          transition: all 0.4s ease;\n        }\n        \n        /* Ensure smooth transitions when sections expand/collapse */\n        .section-wrapper {\n          position: relative;\n          width: 100%;\n          transition: height 0.4s ease, transform 0.4s ease, margin 0.4s ease;\n        }\n        \n        /* Add transitions for expanded section */\n        .section-wrapper.expanded-section {\n          z-index: 10; /* Ensure expanded section is on top */\n        }\n        \n        .section-row {\n          position: relative;\n          height: 6rem; /* Taller rows for main sections */\n          background-color: rgba(15, 15, 15, 0.5);\n          border: 1px solid rgba(160, 142, 97, 0.2);\n          border-radius: 3px;\n          cursor: pointer;\n          transition: all 0.4s ease;\n          overflow: hidden;\n          animation: fadeIn 0.8s ease backwards;\n          display: flex;\n          align-items: center;\n          padding-right: 3rem; /* Space for diagonal cut */\n          width: 100%;\n          will-change: transform, background-color, border-color, box-shadow;\n        }\n        \n        .section-row::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 1px;\n          background: linear-gradient(to right, rgba(160, 142, 97, 0.7), rgba(160, 142, 97, 0));\n          transition: width 0.6s ease;\n        }\n        \n        .section-row.active {\n          background-color: rgba(20, 20, 20, 0.7);\n          transform: translateX(10px);\n          box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3), 0 0 10px rgba(160, 142, 97, 0.15);\n          border-color: rgba(160, 142, 97, 0.4);\n        }\n        \n        .section-row.expanded {\n          background-color: rgba(25, 25, 30, 0.7);\n          border-color: rgba(160, 142, 97, 0.5);\n          box-shadow: 0 5px 25px rgba(0, 0, 0, 0.4), 0 0 15px rgba(160, 142, 97, 0.2);\n        }\n        \n        .section-row.active::before,\n        .section-row.expanded::before {\n          width: 100%;\n        }\n        \n        .section-content {\n          display: flex;\n          align-items: center;\n          width: 100%;\n          height: 100%;\n          position: relative;\n          z-index: 2;\n        }\n        \n        .section-icon-wrapper {\n          width: 90px; /* Wider for larger icons */\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        \n        .icon-container {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          transition: all 0.3s ease;\n        }\n        \n        .section-row.active .icon-container,\n        .section-row.expanded .icon-container {\n          transform: scale(1.1);\n        }\n        \n        .section-text {\n          flex: 1;\n          padding-right: 1.5rem;\n        }\n        \n        .section-title {\n          font-size: 1.4rem; /* Larger titles */\n          margin-bottom: 0.3rem;\n          color: #bfad7f;\n          font-weight: 300;\n          letter-spacing: 0.05em;\n          transition: all 0.3s ease;\n        }\n        \n        .section-row.active .section-title,\n        .section-row.expanded .section-title {\n          transform: translateY(-2px);\n        }\n        \n        .section-description {\n          font-size: 0.9rem; /* Slightly larger descriptions */\n          color: rgba(224, 224, 224, 0.6);\n          line-height: 1.5;\n          max-width: 90%;\n          font-family: 'Garamond', 'Adobe Caslon Pro', serif;\n          font-weight: 300;\n          letter-spacing: 0.02em;\n        }\n        \n        .expand-indicator {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          margin-right: 1rem;\n          transition: transform 0.3s ease;\n          opacity: 0.7;\n        }\n        \n        .expand-indicator.expanded {\n          transform: rotate(180deg);\n          opacity: 1;\n        }\n        \n        .section-row.active .expand-indicator {\n          opacity: 1;\n        }\n        \n        .expand-indicator.small {\n          position: absolute;\n          right: 0;\n          top: 0.75rem;\n          transform: scale(0.8);\n        }\n        \n        .expand-indicator.small.expanded {\n          transform: scale(0.8) rotate(180deg);\n        }\n        \n        .diagonal-cut {\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 40px;\n          height: 100%;\n          overflow: hidden;\n          z-index: 1;\n        }\n        \n        .diagonal-cut::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 80px;\n          height: 150%;\n          background-color: #080808;\n          transform: rotate(15deg) translateX(20px);\n        }\n        \n        .diagonal-cut::after {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 1px;\n          height: 150%;\n          background-color: rgba(160, 142, 97, 0.2);\n          transform: rotate(15deg) translateX(20px);\n        }\n        \n        /* Subsection Styles */\n        .subsections-container {\n          margin-top: 0.75rem;\n          margin-left: 3rem; /* More indentation */\n          animation: fadeDown 0.3s ease forwards;\n          position: relative;\n          z-index: 1;\n          will-change: transform, opacity;\n          transition: transform 0.4s ease, opacity 0.4s ease;\n        }\n        \n        .subsections-container.collapse {\n          animation: fadeUp 0.3s ease forwards;\n          z-index: 0;\n        }\n\n        .subsection-wrapper {\n          position: relative;\n          width: 100%;\n          transition: height 0.4s ease, transform 0.4s ease, margin 0.4s ease;\n        }\n        \n        /* Add transitions for expanded subsection */\n        .subsection-wrapper.expanded-subsection {\n          z-index: 5; /* Ensure expanded subsection is on top of others */\n        }\n        \n        .subsection-row {\n          background-color: rgba(15, 15, 15, 0.4);\n          border: 1px solid rgba(160, 142, 97, 0.15);\n          border-radius: 3px;\n          padding: 0.75rem 1rem;\n          margin-bottom: 0.5rem;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          will-change: transform, background-color, border-color;\n        }\n        \n        .subsection-row.active,\n        .subsection-row:hover {\n          background-color: rgba(20, 20, 20, 0.6);\n          border-color: rgba(160, 142, 97, 0.3);\n          transform: translateX(5px);\n        }\n        \n        .subsection-content {\n          display: flex;\n          flex-direction: column; /* Changed from row to column */\n          align-items: flex-start; /* Align items to the start of the flex container */\n          position: relative; /* Added for absolute positioning of the expand indicator */\n          width: 100%; /* Ensure full width */\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        .subsection-title {\n          font-size: 1rem;\n          color: #bfad7f;\n          font-weight: 300;\n          margin: 0 0 0.5rem 0; /* Added bottom margin */\n          width: 100%; /* Take full width */\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        .subsection-description {\n          font-size: 0.8rem;\n          color: rgba(224, 224, 224, 0.6);\n          margin: 0;\n          width: 100%; /* Take full width */\n          display: block; /* Always display the description */\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        /* Nested Subsection Styles */\n        .nested-subsections-container {\n          margin-top: 0.5rem;\n          margin-left: 1.5rem;\n          animation: fadeDown 0.3s ease forwards;\n          position: relative;\n          z-index: 1;\n          will-change: transform, opacity;\n          transition: transform 0.4s ease, opacity 0.4s ease;\n        }\n        \n        .nested-subsections-container.collapse {\n          animation: fadeUp 0.3s ease forwards;\n          z-index: 0;\n        }\n        \n        .nested-subsection-row {\n          background-color: rgba(15, 15, 15, 0.3);\n          border: 1px solid rgba(160, 142, 97, 0.1);\n          border-radius: 3px;\n          padding: 0.6rem 0.75rem;\n          margin-bottom: 0.4rem;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          will-change: transform, background-color, border-color;\n        }\n        \n        .nested-subsection-row:hover {\n          background-color: rgba(20, 20, 20, 0.5);\n          border-color: rgba(160, 142, 97, 0.25);\n          transform: translateX(3px);\n        }\n        \n        .nested-subsection-content {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n          width: 100%;\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        .nested-subsection-title {\n          font-size: 0.9rem;\n          color: rgba(224, 224, 224, 0.9);\n          font-weight: 300;\n          margin: 0 0 0.4rem 0; /* Added bottom margin */\n          width: 100%;\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        .nested-subsection-description {\n          font-size: 0.75rem;\n          color: rgba(224, 224, 224, 0.6);\n          margin: 0;\n          width: 100%;\n          display: block; /* Always display the description */\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        /* Footer Moon Section */\n        .footer-section {\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          padding: 2rem 0 4rem;\n          position: relative;\n        }\n        \n        .footer-moon {\n          margin-bottom: 2rem;\n        }\n        \n        .brand-mark {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          opacity: 0.4;\n          transition: opacity 0.3s ease;\n        }\n        \n        .brand-mark:hover {\n          opacity: 0.7;\n        }\n        \n        .symbol {\n          font-size: 1.2rem;\n          color: #a08e61;\n          margin-bottom: 0.25rem;\n        }\n        \n        .year {\n          font-size: 0.65rem;\n          color: rgba(224, 224, 224, 0.4);\n          letter-spacing: 0.2em;\n          font-weight: 300;\n        }\n        \n        /* Animations */\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateX(-15px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n        \n        @keyframes fadeDown {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n            pointer-events: none;\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n            pointer-events: auto;\n          }\n        }\n        \n        @keyframes fadeUp {\n          from {\n            opacity: 1;\n            transform: translateY(0);\n            pointer-events: none;\n          }\n          to {\n            opacity: 0;\n            transform: translateY(-10px);\n            pointer-events: none;\n          }\n        }\n        \n        /* Apply to all children in collapsing containers */\n        .subsections-container.collapse *,\n        .nested-subsections-container.collapse * {\n          transition: all 0.3s ease;\n        }\n        \n        @keyframes pulse {\n          0% {\n            opacity: 0.15;\n          }\n          50% {\n            opacity: 0.4;\n          }\n          100% {\n            opacity: 0.15;\n          }\n        }\n        \n        /* Responsive Adjustments */\n        @media (max-width: 768px) {\n          .main-title {\n            font-size: 2.5rem;\n            letter-spacing: 0.2em;\n          }\n          \n          .section-row {\n            height: 5.5rem;\n          }\n          \n          .section-icon-wrapper {\n            width: 70px;\n          }\n          \n          .icon-container svg {\n            transform: scale(0.9);\n          }\n          \n          .section-title {\n            font-size: 1.2rem;\n          }\n          \n          .section-description {\n            font-size: 0.85rem;\n          }\n          \n          .quote-text {\n            font-size: 1rem;\n          }\n          \n          .subsections-container {\n            margin-left: 2rem;\n          }\n          \n          .nested-subsections-container {\n            margin-left: 1rem;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .content-container {\n            padding: 2rem 1rem 1rem;\n          }\n          \n          .main-title {\n            font-size: 2rem;\n            letter-spacing: 0.15em;\n          }\n          \n          .subtitle {\n            font-size: 0.85rem;\n          }\n          \n          .section-row {\n            height: 5rem;\n          }\n          \n          .section-icon-wrapper {\n            width: 60px;\n          }\n          \n          .icon-container svg {\n            transform: scale(0.8);\n          }\n          \n          .section-title {\n            font-size: 1.1rem;\n          }\n          \n          .quote-text {\n            font-size: 0.9rem;\n            line-height: 1.6;\n          }\n          \n          .quote-author {\n            font-size: 0.8rem;\n          }\n          \n          .subsections-container {\n            margin-left: 1rem;\n          }\n          \n          .nested-subsections-container {\n            margin-left: 0.5rem;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 855,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 710,\n    columnNumber: 5\n  }, this);\n};\n_s(RefinedLandingPage, \"eC5jjTjAfk7K66lGbpQqhlNQJgQ=\");\n_c = RefinedLandingPage;\nexport default RefinedLandingPage;\nvar _c;\n$RefreshReg$(_c, \"RefinedLandingPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","RefinedLandingPage","_s","activeSection","setActiveSection","expandedSection","setExpandedSection","expandedSubsection","setExpandedSubsection","cursorPosition","setCursorPosition","x","y","isLoaded","setIsLoaded","showIntro","setShowIntro","quoteVisible","setQuoteVisible","currentQuote","setCurrentQuote","moonDrawn","setMoonDrawn","animatingLayout","setAnimatingLayout","canvasRef","moonCanvasRef","footerMoonRef","particlesRef","requestRef","moonAnimationRef","sectionsContainerRef","quotes","text","author","mainSections","id","title","description","icon","path","expandable","subsections","hasVisited","localStorage","getItem","shouldShowIntro","randomQuote","Math","floor","random","length","setTimeout","introElement","document","querySelector","classList","add","setItem","current","Array","fill","map","window","innerWidth","innerHeight","size","speedX","speedY","opacity","cancelAnimationFrame","canvas","ctx","getContext","centerX","width","centerY","height","radius","angle","direction","lastTimestamp","clearRect","drawMoonAnimation","timestamp","deltaTime","speed","beginPath","arc","PI","strokeStyle","lineWidth","stroke","shadowColor","shadowBlur","requestAnimationFrame","drawFooterMoon","moveTo","lineTo","addEventListener","removeEventListener","animate","forEach","particle","fillStyle","gradient","createRadialGradient","addColorStop","handleResize","handleMouseMove","e","clientX","clientY","handleSkipIntro","handleNavigate","event","isExpandable","preventDefault","stopPropagation","console","log","handleSectionHover","sectionId","handleSectionClick","find","section","container","sectionWrapper","sectionRow","currentHeight","offsetHeight","rowHeight","style","previousWrapper","previousRow","previousContainer","remove","expandNewSection","_sectionWrapper$query","subsectionsHeight","newHeight","handleTransitionEnd","timeoutId","handleSubsectionHover","isClickEvent","type","subsectionWrapper","subsectionRow","expandNewSubsection","_subsectionWrapper$qu","handleSectionLeave","formatQuote","split","line","i","className","children","fileName","_jsxFileName","lineNumber","columnNumber","renderIcon","iconType","viewBox","xmlns","cx","cy","r","strokeWidth","d","onMouseMove","onClick","undefined","ref","index","onMouseEnter","onMouseLeave","animationDelay","strokeLinecap","subsection","nestedSubsection","jsx","_c","$RefreshReg$"],"sources":["/home/valeria/Documents/Crucible/frontend/src/components/sections/landingpage/LandingPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst RefinedLandingPage = () => {\n  const [activeSection, setActiveSection] = useState(null);\n  const [expandedSection, setExpandedSection] = useState(null);\n  const [expandedSubsection, setExpandedSubsection] = useState(null);\n  const [cursorPosition, setCursorPosition] = useState({ x: 0, y: 0 });\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [showIntro, setShowIntro] = useState(false);\n  const [quoteVisible, setQuoteVisible] = useState(false);\n  const [currentQuote, setCurrentQuote] = useState(null);\n  const [moonDrawn, setMoonDrawn] = useState(0); // 0: not started, 1: drawing, 2: complete\n  const [animatingLayout, setAnimatingLayout] = useState(false); // New state to track layout animations\n  \n  const canvasRef = useRef(null);\n  const moonCanvasRef = useRef(null);\n  const footerMoonRef = useRef(null);\n  const particlesRef = useRef([]);\n  const requestRef = useRef(null);\n  const moonAnimationRef = useRef(null);\n  const sectionsContainerRef = useRef(null); // New ref for the sections container\n  \n  // Collection of poetic quotes by women\n  const quotes = [\n    {\n      text: \"My candle burns at both ends;\\nIt will not last the night;\\nBut, ah my foes, and\\noh my friend â€”\\nit gives a\\nlovely\\nlight\",\n      author: \"Edna St. Vincent Millay\"\n    },\n    {\n      text: \"Out of the ash\\nI rise with my red hair\\nAnd I eat men like air.\",\n      author: \"Sylvia Plath\"\n    },\n    {\n      text: \"And he will come this, light insouciant lover,\\nblowing his bugles to a rising morrow,\\nto rend her veil, her wizened mind uncover,\\nto leave her conquered by life's stinging sorrow\",\n      author: \"Virginia McCormick\"\n    },\n    {\n      text: \"Hope is the thing with feathers\\nThat perches in the soul,\\nAnd sings the tune without the words,\\nAnd never stops at all.\",\n      author: \"Emily Dickinson\"\n    },\n    {\n      text: \"I have gone out, a possessed witch,\\nhaunting the black air, braver at night;\\ndreaming evil, I have done my hitch\\nover the plain houses, light by light.\",\n      author: \"Anne Sexton\"\n    }\n  ];\n  \n  // Main sections - reduced to 3\n  const mainSections = [\n    {\n      id: \"cycles\",\n      title: \"Cycles\",\n      description: \"Endless cycles of creation and destruction.\",\n      icon: \"circles\",\n      path: \"/cycles\",\n      expandable: true,\n      subsections: [\n        {\n          id: \"new-world\",\n          title: \"New Cycle\",\n          description: \"Paint a new world onto an empty canvas\",\n          path: \"/cycles/new-world\"\n        },\n        {\n          id: \"revisit\",\n          title: \"Load Cycle\",\n          description: \"Revisit a fading echo\",\n          path: \"/cycles/revisit\"\n        }\n      ]\n    },\n    {\n      id: \"codex\",\n      title: \"Codex\",\n      description: \"Repository of knowledge and rules\",\n      icon: \"triangle\",\n      path: \"/codex\",\n      expandable: true,\n      subsections: [\n        {\n          id: \"creator\",\n          title: \"Creators\",\n          description: \"The minds behind the mysteries.\",\n          path: \"/codex/creator\"\n        },\n        {\n          id: \"visualizations\",\n          title: \"Visualizations\",\n          description: \"Complex systems revealed through dynamic visual representations.\",\n          path: \"/codex/visualizations\",\n          expandable: true,\n          subsections: [\n            {\n              id: \"creature-traits\",\n              title: \"Creature Trait Visualization\",\n              description: \"Explore how creatures adapt and evolve in response to environmental pressures.\",\n              path: \"/codex/visualizations/creature-traits\"\n            },\n            {\n              id: \"environmental\",\n              title: \"Environmental Visualization\",\n              description: \"Witness the formation and transformation of worlds and their ecosystems.\",\n              path: \"/codex/visualizations/environmental\"\n            }\n          ]\n        },\n        {\n          id: \"basics\",\n          title: \"Basics\",\n          description: \"Fundamental concepts and essential knowledge for beginners.\",\n          path: \"/codex/basics\"\n        },\n        {\n          id: \"advanced\",\n          title: \"Advanced\",\n          description: \"Complex theories and elaborate mechanics for seasoned explorers.\",\n          path: \"/codex/advanced\"\n        }\n      ]\n    },\n    {\n      id: \"characters\",\n      title: \"Characters\",\n      description: \"Beings shaped by their environments, each with a unique story to tell.\",\n      icon: \"targetCircle\",\n      path: \"/characters\"\n    }\n  ];\n  \n  // Check if user has visited before\n  useEffect(() => {\n    const hasVisited = localStorage.getItem('hasVisitedCrescent');\n    const shouldShowIntro = !hasVisited;\n    \n    setShowIntro(shouldShowIntro);\n    \n    if (shouldShowIntro) {\n      // Select a random quote\n      const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];\n      setCurrentQuote(randomQuote);\n      \n      // Fast 3-second intro sequence\n      setTimeout(() => setMoonDrawn(1), 200); // Start drawing moon quickly\n      setTimeout(() => setQuoteVisible(true), 400); // Show quote almost immediately\n      setTimeout(() => setMoonDrawn(2), 2500); // Complete moon animation at 2.5s\n      setTimeout(() => {\n        setQuoteVisible(false);\n        // Start fade out of intro\n        const introElement = document.querySelector('.intro-sequence');\n        if (introElement) introElement.classList.add('fade-out');\n      }, 2600);\n      setTimeout(() => {\n        setShowIntro(false);\n        setIsLoaded(true);\n      }, 3000); // Complete entire sequence at 3s\n      \n      // Save that user has visited\n      localStorage.setItem('hasVisitedCrescent', 'true');\n    } else {\n      // Skip intro for returning visitors\n      setIsLoaded(true);\n    }\n  }, [quotes]); // Added quotes to dependency array\n  \n  // Initialize particles\n  useEffect(() => {\n    particlesRef.current = Array(40).fill().map(() => ({\n      x: Math.random() * window.innerWidth,\n      y: Math.random() * window.innerHeight,\n      size: Math.random() * 1.5 + 0.5, // Smaller particles\n      speedX: (Math.random() - 0.5) * 0.15,\n      speedY: (Math.random() - 0.5) * 0.15,\n      opacity: Math.random() * 0.3 + 0.05 // More subtle\n    }));\n    \n    return () => {\n      if (requestRef.current) {\n        cancelAnimationFrame(requestRef.current);\n      }\n      if (moonAnimationRef.current) {\n        cancelAnimationFrame(moonAnimationRef.current);\n      }\n    };\n  }, []);\n  \n  // Vector moon animation for intro\n  useEffect(() => {\n    if (!moonCanvasRef.current || moonDrawn === 0) return;\n    \n    const canvas = moonCanvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const centerX = canvas.width / 2;\n    const centerY = canvas.height / 2;\n    const radius = 70;\n    let angle = 0;\n    let direction = 1; // 1 for drawing, -1 for undoing\n    let lastTimestamp = 0;\n    \n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    const drawMoonAnimation = (timestamp) => {\n      if (!lastTimestamp) lastTimestamp = timestamp;\n      const deltaTime = timestamp - lastTimestamp;\n      lastTimestamp = timestamp;\n      \n      // Speed control - faster animation to complete in ~2.3 seconds\n      const speed = 1.3 * deltaTime / 16.67; // Significantly faster\n      \n      angle += speed * direction;\n      \n      // Clear canvas\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      // Draw moon outline\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, 0, angle * Math.PI / 180, false);\n      ctx.strokeStyle = 'rgba(191, 173, 127, 0.7)';\n      ctx.lineWidth = 1.5;\n      ctx.stroke();\n      \n      // Add subtle glow\n      ctx.shadowColor = 'rgba(191, 173, 127, 0.3)';\n      ctx.shadowBlur = 8;\n      \n      // Reverse direction when full circle is drawn\n      if (angle >= 360 && direction === 1) {\n        direction = -1; // Start undoing\n      }\n      \n      // Stop when animation is complete or when we reach moonDrawn state 2\n      if ((angle <= 0 && direction === -1) || moonDrawn === 2) {\n        cancelAnimationFrame(moonAnimationRef.current);\n        return;\n      }\n      \n      moonAnimationRef.current = requestAnimationFrame(drawMoonAnimation);\n    };\n    \n    if (moonDrawn === 1) {\n      moonAnimationRef.current = requestAnimationFrame(drawMoonAnimation);\n    }\n    \n    return () => {\n      if (moonAnimationRef.current) {\n        cancelAnimationFrame(moonAnimationRef.current);\n      }\n    };\n  }, [moonDrawn]);\n  \n  // Static vector moon for footer\n  useEffect(() => {\n    if (!footerMoonRef.current) return;\n    \n    const canvas = footerMoonRef.current;\n    const ctx = canvas.getContext('2d');\n    \n    const drawFooterMoon = () => {\n      const centerX = canvas.width / 2;\n      const centerY = canvas.height / 2;\n      const radius = 70;\n      \n      // Clear canvas\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      // Draw thin circle\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n      ctx.strokeStyle = 'rgba(191, 173, 127, 0.7)';\n      ctx.lineWidth = 1.5;\n      \n      // Add subtle glow\n      ctx.shadowColor = 'rgba(191, 173, 127, 0.3)';\n      ctx.shadowBlur = 10;\n      \n      ctx.stroke();\n      \n      // Draw a few thin lines across for texture (very subtle)\n      ctx.beginPath();\n      ctx.moveTo(centerX - radius * 0.7, centerY - radius * 0.3);\n      ctx.lineTo(centerX + radius * 0.7, centerY + radius * 0.3);\n      ctx.strokeStyle = 'rgba(191, 173, 127, 0.2)';\n      ctx.lineWidth = 0.5;\n      ctx.stroke();\n      \n      ctx.beginPath();\n      ctx.moveTo(centerX - radius * 0.5, centerY + radius * 0.5);\n      ctx.lineTo(centerX + radius * 0.5, centerY - radius * 0.5);\n      ctx.stroke();\n    };\n    \n    drawFooterMoon();\n    \n    window.addEventListener('resize', drawFooterMoon);\n    return () => {\n      window.removeEventListener('resize', drawFooterMoon);\n    };\n  }, []);\n  \n  // Canvas animation for background particles\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    \n    const animate = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      // Draw particles\n      particlesRef.current.forEach(particle => {\n        // Update position\n        particle.x += particle.speedX;\n        particle.y += particle.speedY;\n        \n        // Wrap around screen\n        if (particle.x < 0) particle.x = canvas.width;\n        if (particle.x > canvas.width) particle.x = 0;\n        if (particle.y < 0) particle.y = canvas.height;\n        if (particle.y > canvas.height) particle.y = 0;\n        \n        // Draw particle\n        ctx.beginPath();\n        ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\n        ctx.fillStyle = `rgba(191, 173, 127, ${particle.opacity})`;\n        ctx.fill();\n      });\n      \n      // Draw cursor influence - very subtle glow\n      if (cursorPosition.x && cursorPosition.y) {\n        const gradient = ctx.createRadialGradient(\n          cursorPosition.x, cursorPosition.y, 0,\n          cursorPosition.x, cursorPosition.y, 80\n        );\n        gradient.addColorStop(0, 'rgba(160, 142, 97, 0.03)');\n        gradient.addColorStop(1, 'rgba(160, 142, 97, 0)');\n        \n        ctx.beginPath();\n        ctx.arc(cursorPosition.x, cursorPosition.y, 80, 0, Math.PI * 2);\n        ctx.fillStyle = gradient;\n        ctx.fill();\n      }\n      \n      requestRef.current = requestAnimationFrame(animate);\n    };\n    \n    animate();\n    \n    // Resize handler\n    const handleResize = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    };\n    \n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      cancelAnimationFrame(requestRef.current);\n    };\n  }, [cursorPosition]);\n  \n  // Track mouse movement\n  const handleMouseMove = (e) => {\n    setCursorPosition({ x: e.clientX, y: e.clientY });\n  };\n  \n  // Skip intro\n  const handleSkipIntro = () => {\n    setShowIntro(false);\n    setIsLoaded(true);\n  };\n  \n  // Navigate to section\n  const handleNavigate = (path, event, isExpandable) => {\n    if (isExpandable) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    \n    // For demo purposes, just log the navigation\n    console.log(`Navigating to: ${path}`);\n    // In a real app, you'd use your routing library:\n    // window.location.href = path; or history.push(path);\n  };\n  \n  // Handle section hover\n  const handleSectionHover = (sectionId) => {\n    setActiveSection(sectionId);\n  };\n  \n  // Handle section click - for expanding sections\n  const handleSectionClick = (sectionId, event) => {\n    if (mainSections.find(section => section.id === sectionId && section.expandable)) {\n      event.stopPropagation();\n      \n      // Set animating flag to true\n      setAnimatingLayout(true);\n      \n      // If currently expanded, add collapse animation class first\n      if (expandedSection === sectionId) {\n        const container = document.querySelector(`.section-wrapper[data-id=\"${sectionId}\"] .subsections-container`);\n        if (container) {\n          // Add the collapse class to trigger the animation\n          container.classList.add('collapse');\n          \n          // Calculate the current height of the section wrapper for smooth transition\n          const sectionWrapper = document.querySelector(`.section-wrapper[data-id=\"${sectionId}\"]`);\n          const sectionRow = sectionWrapper.querySelector('.section-row');\n          const currentHeight = sectionWrapper.offsetHeight;\n          const rowHeight = sectionRow.offsetHeight;\n          \n          // Set explicit height to allow for transition\n          sectionWrapper.style.height = `${currentHeight}px`;\n          \n          // Force a reflow to ensure the browser recognizes the style change\n          void sectionWrapper.offsetHeight;\n          \n          // Set the target height (just the row)\n          sectionWrapper.style.height = `${rowHeight}px`;\n          \n          // After animation completes, collapse the section and reset height to auto\n          setTimeout(() => {\n            setExpandedSection(null);\n            \n            // Wait a bit more to reset the height to auto\n            setTimeout(() => {\n              sectionWrapper.style.height = 'auto';\n              \n              // Reset animating flag\n              setAnimatingLayout(false);\n            }, 50);\n          }, 300);\n        } else {\n          setExpandedSection(null);\n          setAnimatingLayout(false);\n        }\n      } else {\n        // If another section is already expanded, collapse it first\n        if (expandedSection) {\n          const previousWrapper = document.querySelector(`.section-wrapper[data-id=\"${expandedSection}\"]`);\n          const previousRow = previousWrapper?.querySelector('.section-row');\n          const previousContainer = previousWrapper?.querySelector('.subsections-container');\n          \n          if (previousWrapper && previousRow && previousContainer) {\n            // Set fixed height for transition\n            previousWrapper.style.height = `${previousWrapper.offsetHeight}px`;\n            \n            // Force reflow\n            void previousWrapper.offsetHeight;\n            \n            // Add collapse animation\n            previousContainer.classList.add('collapse');\n            \n            // Set height to just the row\n            previousWrapper.style.height = `${previousRow.offsetHeight}px`;\n            \n            // After animation, prepare to expand the new section\n            setTimeout(() => {\n              // Reset previous section\n              previousWrapper.style.height = 'auto';\n              previousContainer.classList.remove('collapse');\n              \n              // Setup and expand the new section\n              expandNewSection(sectionId);\n            }, 300);\n          } else {\n            // Previous section doesn't have the expected structure,\n            // just expand the new section\n            expandNewSection(sectionId);\n          }\n        } else {\n          // No section is expanded, just expand the new one\n          expandNewSection(sectionId);\n        }\n      }\n    }\n  };\n  \n  // Helper function to expand a section\n  const expandNewSection = (sectionId) => {\n    const sectionWrapper = document.querySelector(`.section-wrapper[data-id=\"${sectionId}\"]`);\n    const sectionRow = sectionWrapper.querySelector('.section-row');\n    \n    // Set initial height to just the row height\n    const rowHeight = sectionRow.offsetHeight;\n    sectionWrapper.style.height = `${rowHeight}px`;\n    \n    // Update the state to show the subsections\n    setExpandedSection(sectionId);\n    \n    // After the DOM updates with the expanded content, transition to the full height\n    // Increased timeout to ensure DOM is fully updated\n    setTimeout(() => {\n      // Force a reflow to ensure all elements are properly rendered\n      void sectionWrapper.offsetHeight;\n      \n      // Calculate the new height with a small buffer (2px) to prevent any rounding issues\n      const subsectionsHeight = sectionWrapper.querySelector('.subsections-container')?.offsetHeight || 0;\n      const newHeight = sectionRow.offsetHeight + subsectionsHeight + 2;\n      \n      sectionWrapper.style.height = `${newHeight}px`;\n      \n      // Use transitionend event instead of fixed timeout\n      const handleTransitionEnd = () => {\n        // Only set to auto after ensuring the transition is complete\n        requestAnimationFrame(() => {\n          sectionWrapper.style.height = 'auto';\n          setAnimatingLayout(false);\n        });\n        sectionWrapper.removeEventListener('transitionend', handleTransitionEnd);\n      };\n      \n      sectionWrapper.addEventListener('transitionend', handleTransitionEnd);\n      \n      // Backup timeout in case transitionend doesn't fire\n      const timeoutId = setTimeout(() => {\n        if (sectionWrapper.style.height !== 'auto') {\n          sectionWrapper.style.height = 'auto';\n          setAnimatingLayout(false);\n          sectionWrapper.removeEventListener('transitionend', handleTransitionEnd);\n        }\n      }, 500);\n    }, 100); // Increased from 50ms to 100ms\n  };\n  \n  // Handle subsection hover/click - auto-expand\n  const handleSubsectionHover = (sectionId, event) => {\n    // Make sure we have a valid event object\n    if (event) {\n      event.stopPropagation();\n    }\n    \n    const isClickEvent = event.type === 'click';\n    \n    if (isClickEvent) {\n      setAnimatingLayout(true);\n    }\n    \n    // If currently expanded and clicking the same subsection, add collapse animation first\n    if (expandedSubsection === sectionId && isClickEvent) {\n      const container = document.querySelector(`.subsection-wrapper[data-id=\"${sectionId}\"] .nested-subsections-container`);\n      if (container) {\n        // Add the collapse class to trigger the animation\n        container.classList.add('collapse');\n        \n        // Calculate the current height of the subsection wrapper for smooth transition\n        const subsectionWrapper = document.querySelector(`.subsection-wrapper[data-id=\"${sectionId}\"]`);\n        const subsectionRow = subsectionWrapper.querySelector('.subsection-row');\n        const currentHeight = subsectionWrapper.offsetHeight;\n        const rowHeight = subsectionRow.offsetHeight;\n        \n        // Set explicit height to allow for transition\n        subsectionWrapper.style.height = `${currentHeight}px`;\n        \n        // Force a reflow to ensure the browser recognizes the style change\n        void subsectionWrapper.offsetHeight;\n        \n        // Set the target height (just the row)\n        subsectionWrapper.style.height = `${rowHeight}px`;\n        \n        // After animation completes, collapse the subsection and reset height to auto\n        setTimeout(() => {\n          setExpandedSubsection(null);\n          setTimeout(() => {\n            subsectionWrapper.style.height = 'auto';\n            \n            if (isClickEvent) {\n              setAnimatingLayout(false);\n            }\n          }, 50);\n        }, 300);\n      } else {\n        setExpandedSubsection(null);\n        if (isClickEvent) {\n          setAnimatingLayout(false);\n        }\n      }\n    } else {\n      // For hover or first click, expand the subsection\n      if (sectionId !== expandedSubsection) {\n        // If another subsection is expanded, collapse it first\n        if (expandedSubsection && isClickEvent) {\n          const previousWrapper = document.querySelector(`.subsection-wrapper[data-id=\"${expandedSubsection}\"]`);\n          const previousRow = previousWrapper?.querySelector('.subsection-row');\n          const previousContainer = previousWrapper?.querySelector('.nested-subsections-container');\n          \n          if (previousWrapper && previousRow && previousContainer) {\n            // Set fixed height for transition\n            previousWrapper.style.height = `${previousWrapper.offsetHeight}px`;\n            \n            // Force reflow\n            void previousWrapper.offsetHeight;\n            \n            // Add collapse animation\n            previousContainer.classList.add('collapse');\n            \n            // Set height to just the row\n            previousWrapper.style.height = `${previousRow.offsetHeight}px`;\n            \n            // After animation, prepare to expand the new subsection\n            setTimeout(() => {\n              // Reset previous subsection\n              previousWrapper.style.height = 'auto';\n              previousContainer.classList.remove('collapse');\n              \n              // Expand new subsection\n              expandNewSubsection(sectionId, isClickEvent);\n            }, 300);\n          } else {\n            // Previous subsection doesn't have the expected structure,\n            // just expand the new subsection\n            expandNewSubsection(sectionId, isClickEvent);\n          }\n        } else {\n          // No subsection is expanded, just expand the new one\n          expandNewSubsection(sectionId, isClickEvent);\n        }\n      }\n    }\n  };\n  \n  // Helper function to expand a subsection\n  const expandNewSubsection = (sectionId, isClickEvent) => {\n    const subsectionWrapper = document.querySelector(`.subsection-wrapper[data-id=\"${sectionId}\"]`);\n    \n    if (subsectionWrapper && isClickEvent) {\n      const subsectionRow = subsectionWrapper.querySelector('.subsection-row');\n      \n      // Set initial height to just the row height\n      const rowHeight = subsectionRow.offsetHeight;\n      subsectionWrapper.style.height = `${rowHeight}px`;\n    }\n    \n    // Update the state to show the nested subsections\n    setExpandedSubsection(sectionId);\n    \n    // After the DOM updates with the expanded content, transition to the full height\n    if (isClickEvent) {\n      setTimeout(() => {\n        const subsectionWrapper = document.querySelector(`.subsection-wrapper[data-id=\"${sectionId}\"]`);\n        if (subsectionWrapper) {\n          const subsectionRow = subsectionWrapper.querySelector('.subsection-row');\n          const newHeight = subsectionRow.offsetHeight + \n            (subsectionWrapper.querySelector('.nested-subsections-container')?.offsetHeight || 0);\n          subsectionWrapper.style.height = `${newHeight}px`;\n          \n          // Reset to auto after transition completes\n          setTimeout(() => {\n            subsectionWrapper.style.height = 'auto';\n            setAnimatingLayout(false);\n          }, 400);\n        }\n      }, 50);\n    }\n  };\n  \n  // Handle section leave\n  const handleSectionLeave = () => {\n    setActiveSection(null);\n  };\n  \n  // Format quote with line breaks\n  const formatQuote = (text) => {\n    return text.split('\\n').map((line, i) => (\n      <span key={i} className=\"quote-line\">\n        {line}\n        {i < text.split('\\n').length - 1 && <br />}\n      </span>\n    ));\n  };\n  \n  // Render SVG icons for main sections\n  const renderIcon = (iconType) => {\n    switch(iconType) {\n      case 'circles':\n        return (\n          <div className=\"icon-container\">\n            <svg width=\"42\" height=\"42\" viewBox=\"0 0 42 42\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <circle cx=\"21\" cy=\"21\" r=\"14\" stroke=\"#A08E61\" strokeWidth=\"1.5\" opacity=\"0.9\" />\n              <circle cx=\"16\" cy=\"21\" r=\"9\" stroke=\"#A08E61\" strokeWidth=\"1.5\" opacity=\"0.7\" />\n              <circle cx=\"26\" cy=\"21\" r=\"9\" stroke=\"#A08E61\" strokeWidth=\"1.5\" opacity=\"0.7\" />\n            </svg>\n          </div>\n        );\n      case 'triangle':\n        return (\n          <div className=\"icon-container\">\n            <svg width=\"42\" height=\"42\" viewBox=\"0 0 42 42\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M21 7L35 32H7L21 7Z\" stroke=\"#A08E61\" strokeWidth=\"1.5\" opacity=\"0.9\" />\n            </svg>\n          </div>\n        );\n      case 'targetCircle':\n        return (\n          <div className=\"icon-container\">\n            <svg width=\"42\" height=\"42\" viewBox=\"0 0 42 42\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <circle cx=\"21\" cy=\"21\" r=\"14\" stroke=\"#A08E61\" strokeWidth=\"1.5\" opacity=\"0.9\" />\n              <circle cx=\"21\" cy=\"21\" r=\"5\" fill=\"#A08E61\" opacity=\"0.7\" />\n            </svg>\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n  \n  return (\n    <div \n      className=\"landing-container\"\n      onMouseMove={handleMouseMove}\n      onClick={showIntro ? handleSkipIntro : undefined}\n    >\n      <canvas ref={canvasRef} className=\"background-canvas\" />\n      \n      {/* Intro Sequence */}\n      {showIntro && (\n        <div className=\"intro-sequence\">\n          <div className=\"moon-animation\">\n            <canvas \n              ref={moonCanvasRef} \n              width=\"200\" \n              height=\"200\"\n              className=\"moon-canvas\"\n            />\n          </div>\n          \n          <div className={`quote-container ${quoteVisible ? 'visible' : ''}`}>\n            <div className=\"quote-text\">\n              {currentQuote && formatQuote(currentQuote.text)}\n            </div>\n            <div className=\"quote-author\">\n              {currentQuote && currentQuote.author}\n            </div>\n          </div>\n          \n          <div className=\"skip-intro\">tap to skip</div>\n        </div>\n      )}\n      \n      <div className={`content-wrapper ${isLoaded ? 'loaded' : ''}`}>\n        <div className=\"content-container\">\n          <div className=\"title-container\">\n            <h1 className=\"main-title\">CRESCENT</h1>\n            <div className=\"title-divider\" />\n            <p className=\"subtitle\">The world is locked into an endlessly recurring cycle of destruction and rebirth. Each new beginning brings a different world, shaped by the remnants of the past and the whims of the Moon.</p>\n          </div>\n          \n          <div \n            ref={sectionsContainerRef}\n            className={`sections-container ${animatingLayout ? 'animating' : ''}`}\n          >\n            {mainSections.map((section, index) => (\n              <div \n                key={section.id} \n                className={`section-wrapper ${expandedSection === section.id ? 'expanded-section' : ''}`} \n                data-id={section.id}\n              >\n                <div \n                  className={`section-row ${activeSection === section.id ? 'active' : ''} ${expandedSection === section.id ? 'expanded' : ''}`}\n                  onMouseEnter={() => handleSectionHover(section.id)}\n                  onMouseLeave={handleSectionLeave}\n                  onClick={(e) => {\n                    if (section.expandable) {\n                      handleSectionClick(section.id, e);\n                    } else {\n                      handleNavigate(section.path, e);\n                    }\n                  }}\n                  style={{ animationDelay: `${index * 0.15 + 0.3}s` }}\n                >\n                  <div className=\"section-content\">\n                    <div className=\"section-icon-wrapper\">\n                      {renderIcon(section.icon)}\n                    </div>\n                    <div className=\"section-text\">\n                      <h2 className=\"section-title\">{section.title}</h2>\n                      <p className=\"section-description\">{section.description}</p>\n                    </div>\n                    {section.expandable && (\n                      <div className={`expand-indicator ${expandedSection === section.id ? 'expanded' : ''}`}>\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                          <path d=\"M4 6L8 10L12 6\" stroke=\"#A08E61\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n                        </svg>\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"diagonal-cut\" />\n                </div>\n                \n                {/* Expandable Subsections */}\n                {section.expandable && expandedSection === section.id && (\n                  <div className=\"subsections-container\">\n                    {section.subsections.map((subsection) => (\n                      <div \n                        key={subsection.id} \n                        className={`subsection-wrapper ${expandedSubsection === subsection.id ? 'expanded-subsection' : ''}`} \n                        data-id={subsection.id}\n                      >\n                        <div \n                          className={`subsection-row ${expandedSubsection === subsection.id ? 'active' : ''}`}\n                          onMouseEnter={(e) => handleSubsectionHover(subsection.id, e)}\n                          onClick={(e) => subsection.expandable ? handleSubsectionHover(subsection.id, e) : handleNavigate(subsection.path, e)}\n                        >\n                          <div className=\"subsection-content\">\n                            <h3 className=\"subsection-title\">{subsection.title}</h3>\n                            <p className=\"subsection-description\">{subsection.description}</p>\n                            {subsection.expandable && (\n                              <div className={`expand-indicator small ${expandedSubsection === subsection.id ? 'expanded' : ''}`}>\n                                <svg width=\"12\" height=\"12\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                  <path d=\"M4 6L8 10L12 6\" stroke=\"#A08E61\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n                                </svg>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                        \n                        {/* Nested Subsections - automatically expanded on hover */}\n                        {subsection.expandable && expandedSubsection === subsection.id && (\n                          <div className=\"nested-subsections-container\">\n                            {subsection.subsections.map((nestedSubsection) => (\n                              <div \n                                key={nestedSubsection.id}\n                                className=\"nested-subsection-row\"\n                                onClick={(e) => handleNavigate(nestedSubsection.path, e)}\n                              >\n                                <div className=\"nested-subsection-content\">\n                                  <h4 className=\"nested-subsection-title\">{nestedSubsection.title}</h4>\n                                  <p className=\"nested-subsection-description\">{nestedSubsection.description}</p>\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n        \n        {/* Footer Moon */}\n        <div className=\"footer-section\">\n          <canvas ref={footerMoonRef} className=\"footer-moon\" width=\"200\" height=\"200\"></canvas>\n          <div className=\"brand-mark\">\n            <span className=\"symbol\">â—Š</span>\n            <span className=\"year\">2025</span>\n          </div>\n        </div>\n      </div>\n      \n      <style jsx>{`\n        .landing-container {\n          position: relative;\n          width: 100vw;\n          min-height: 100vh;\n          overflow-x: hidden;\n          background-color: #080808;\n          display: flex;\n          justify-content: center;\n          align-items: flex-start;\n          font-family: 'Avenir', 'Avenir Next', sans-serif;\n          -webkit-font-smoothing: antialiased;\n        }\n        \n        .background-canvas {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          z-index: 1;\n        }\n        \n        /* Intro Sequence Styles */\n        .intro-sequence {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          z-index: 1000;\n          background-color: #080808;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          cursor: pointer;\n          transition: opacity 0.4s ease;\n        }\n        \n        .intro-sequence.fade-out {\n          opacity: 0;\n        }\n        \n        .moon-animation {\n          position: relative;\n          margin-bottom: 3rem;\n        }\n        \n        .moon-canvas {\n          display: block;\n        }\n        \n        .quote-container {\n          max-width: 500px;\n          text-align: center;\n          opacity: 0;\n          transform: translateY(10px);\n          transition: opacity 0.6s ease, transform 0.6s ease;\n          padding: 0 2rem;\n        }\n        \n        .quote-container.visible {\n          opacity: 1;\n          transform: translateY(0);\n        }\n        \n        .quote-text {\n          font-family: 'Garamond', 'Adobe Caslon Pro', serif;\n          font-size: 1.2rem;\n          line-height: 1.7;\n          color: rgba(191, 173, 127, 0.7);\n          margin-bottom: 1.5rem;\n          font-weight: 300;\n          letter-spacing: 0.02em;\n        }\n        \n        .quote-line {\n          display: inline-block;\n        }\n        \n        .quote-author {\n          font-size: 0.9rem;\n          color: rgba(224, 224, 224, 0.5);\n          letter-spacing: 0.1em;\n          text-align: right;\n          padding-right: 2rem;\n          font-weight: 300;\n        }\n        \n        .skip-intro {\n          position: absolute;\n          bottom: 2rem;\n          font-size: 0.7rem;\n          color: rgba(224, 224, 224, 0.3);\n          letter-spacing: 0.15em;\n          animation: pulse 2s infinite;\n          font-weight: 300;\n          text-transform: uppercase;\n        }\n        \n        /* Main Content Styles */\n        .content-wrapper {\n          z-index: 2;\n          width: 100%;\n          min-height: 100vh;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          opacity: 0;\n          transition: opacity 0.8s ease;\n        }\n        \n        .content-wrapper.loaded {\n          opacity: 1;\n        }\n        \n        .content-container {\n          width: 100%;\n          max-width: 900px;\n          margin: 0 auto;\n          padding: 4rem 2rem 2rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center; /* Center all content */\n        }\n        \n        .title-container {\n          text-align: center;\n          margin-bottom: 5rem; /* Increased spacing significantly */\n          width: 100%;\n        }\n        \n        .main-title {\n          font-size: 3.5rem; /* Slightly larger */\n          letter-spacing: 0.25em;\n          margin-bottom: 0.5rem;\n          color: #bfad7f;\n          font-weight: 300;\n          text-transform: uppercase;\n        }\n        \n        .title-divider {\n          height: 1px;\n          width: 150px; /* Wider divider */\n          background: linear-gradient(to right, rgba(160, 142, 97, 0), rgba(160, 142, 97, 0.6), rgba(160, 142, 97, 0));\n          margin: 0.5rem auto;\n        }\n        \n        .subtitle {\n          font-size: 1.1rem; /* Slightly larger */\n          color: rgba(224, 224, 224, 0.6);\n          font-family: 'Garamond', 'Adobe Caslon Pro', serif;\n          font-style: italic;\n          font-weight: 300;\n          margin-top: 0.75rem;\n          letter-spacing: 0.05em;\n        }\n        \n        /* Sections Container - Added transitions for all children */\n        .sections-container {\n          display: flex;\n          flex-direction: column;\n          gap: 2.5rem; /* Significantly increased spacing */\n          margin-bottom: 5rem; /* More space at bottom */\n          width: 100%;\n          max-width: 800px; /* Control maximum width */\n          position: relative; /* For absolute positioning of children if needed */\n        }\n        \n        /* Add transition during layout changes */\n        .sections-container.animating .section-wrapper {\n          transition: all 0.4s ease;\n        }\n        \n        /* Ensure smooth transitions when sections expand/collapse */\n        .section-wrapper {\n          position: relative;\n          width: 100%;\n          transition: height 0.4s ease, transform 0.4s ease, margin 0.4s ease;\n        }\n        \n        /* Add transitions for expanded section */\n        .section-wrapper.expanded-section {\n          z-index: 10; /* Ensure expanded section is on top */\n        }\n        \n        .section-row {\n          position: relative;\n          height: 6rem; /* Taller rows for main sections */\n          background-color: rgba(15, 15, 15, 0.5);\n          border: 1px solid rgba(160, 142, 97, 0.2);\n          border-radius: 3px;\n          cursor: pointer;\n          transition: all 0.4s ease;\n          overflow: hidden;\n          animation: fadeIn 0.8s ease backwards;\n          display: flex;\n          align-items: center;\n          padding-right: 3rem; /* Space for diagonal cut */\n          width: 100%;\n          will-change: transform, background-color, border-color, box-shadow;\n        }\n        \n        .section-row::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 1px;\n          background: linear-gradient(to right, rgba(160, 142, 97, 0.7), rgba(160, 142, 97, 0));\n          transition: width 0.6s ease;\n        }\n        \n        .section-row.active {\n          background-color: rgba(20, 20, 20, 0.7);\n          transform: translateX(10px);\n          box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3), 0 0 10px rgba(160, 142, 97, 0.15);\n          border-color: rgba(160, 142, 97, 0.4);\n        }\n        \n        .section-row.expanded {\n          background-color: rgba(25, 25, 30, 0.7);\n          border-color: rgba(160, 142, 97, 0.5);\n          box-shadow: 0 5px 25px rgba(0, 0, 0, 0.4), 0 0 15px rgba(160, 142, 97, 0.2);\n        }\n        \n        .section-row.active::before,\n        .section-row.expanded::before {\n          width: 100%;\n        }\n        \n        .section-content {\n          display: flex;\n          align-items: center;\n          width: 100%;\n          height: 100%;\n          position: relative;\n          z-index: 2;\n        }\n        \n        .section-icon-wrapper {\n          width: 90px; /* Wider for larger icons */\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        \n        .icon-container {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          transition: all 0.3s ease;\n        }\n        \n        .section-row.active .icon-container,\n        .section-row.expanded .icon-container {\n          transform: scale(1.1);\n        }\n        \n        .section-text {\n          flex: 1;\n          padding-right: 1.5rem;\n        }\n        \n        .section-title {\n          font-size: 1.4rem; /* Larger titles */\n          margin-bottom: 0.3rem;\n          color: #bfad7f;\n          font-weight: 300;\n          letter-spacing: 0.05em;\n          transition: all 0.3s ease;\n        }\n        \n        .section-row.active .section-title,\n        .section-row.expanded .section-title {\n          transform: translateY(-2px);\n        }\n        \n        .section-description {\n          font-size: 0.9rem; /* Slightly larger descriptions */\n          color: rgba(224, 224, 224, 0.6);\n          line-height: 1.5;\n          max-width: 90%;\n          font-family: 'Garamond', 'Adobe Caslon Pro', serif;\n          font-weight: 300;\n          letter-spacing: 0.02em;\n        }\n        \n        .expand-indicator {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          margin-right: 1rem;\n          transition: transform 0.3s ease;\n          opacity: 0.7;\n        }\n        \n        .expand-indicator.expanded {\n          transform: rotate(180deg);\n          opacity: 1;\n        }\n        \n        .section-row.active .expand-indicator {\n          opacity: 1;\n        }\n        \n        .expand-indicator.small {\n          position: absolute;\n          right: 0;\n          top: 0.75rem;\n          transform: scale(0.8);\n        }\n        \n        .expand-indicator.small.expanded {\n          transform: scale(0.8) rotate(180deg);\n        }\n        \n        .diagonal-cut {\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 40px;\n          height: 100%;\n          overflow: hidden;\n          z-index: 1;\n        }\n        \n        .diagonal-cut::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 80px;\n          height: 150%;\n          background-color: #080808;\n          transform: rotate(15deg) translateX(20px);\n        }\n        \n        .diagonal-cut::after {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 1px;\n          height: 150%;\n          background-color: rgba(160, 142, 97, 0.2);\n          transform: rotate(15deg) translateX(20px);\n        }\n        \n        /* Subsection Styles */\n        .subsections-container {\n          margin-top: 0.75rem;\n          margin-left: 3rem; /* More indentation */\n          animation: fadeDown 0.3s ease forwards;\n          position: relative;\n          z-index: 1;\n          will-change: transform, opacity;\n          transition: transform 0.4s ease, opacity 0.4s ease;\n        }\n        \n        .subsections-container.collapse {\n          animation: fadeUp 0.3s ease forwards;\n          z-index: 0;\n        }\n\n        .subsection-wrapper {\n          position: relative;\n          width: 100%;\n          transition: height 0.4s ease, transform 0.4s ease, margin 0.4s ease;\n        }\n        \n        /* Add transitions for expanded subsection */\n        .subsection-wrapper.expanded-subsection {\n          z-index: 5; /* Ensure expanded subsection is on top of others */\n        }\n        \n        .subsection-row {\n          background-color: rgba(15, 15, 15, 0.4);\n          border: 1px solid rgba(160, 142, 97, 0.15);\n          border-radius: 3px;\n          padding: 0.75rem 1rem;\n          margin-bottom: 0.5rem;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          will-change: transform, background-color, border-color;\n        }\n        \n        .subsection-row.active,\n        .subsection-row:hover {\n          background-color: rgba(20, 20, 20, 0.6);\n          border-color: rgba(160, 142, 97, 0.3);\n          transform: translateX(5px);\n        }\n        \n        .subsection-content {\n          display: flex;\n          flex-direction: column; /* Changed from row to column */\n          align-items: flex-start; /* Align items to the start of the flex container */\n          position: relative; /* Added for absolute positioning of the expand indicator */\n          width: 100%; /* Ensure full width */\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        .subsection-title {\n          font-size: 1rem;\n          color: #bfad7f;\n          font-weight: 300;\n          margin: 0 0 0.5rem 0; /* Added bottom margin */\n          width: 100%; /* Take full width */\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        .subsection-description {\n          font-size: 0.8rem;\n          color: rgba(224, 224, 224, 0.6);\n          margin: 0;\n          width: 100%; /* Take full width */\n          display: block; /* Always display the description */\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        /* Nested Subsection Styles */\n        .nested-subsections-container {\n          margin-top: 0.5rem;\n          margin-left: 1.5rem;\n          animation: fadeDown 0.3s ease forwards;\n          position: relative;\n          z-index: 1;\n          will-change: transform, opacity;\n          transition: transform 0.4s ease, opacity 0.4s ease;\n        }\n        \n        .nested-subsections-container.collapse {\n          animation: fadeUp 0.3s ease forwards;\n          z-index: 0;\n        }\n        \n        .nested-subsection-row {\n          background-color: rgba(15, 15, 15, 0.3);\n          border: 1px solid rgba(160, 142, 97, 0.1);\n          border-radius: 3px;\n          padding: 0.6rem 0.75rem;\n          margin-bottom: 0.4rem;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          will-change: transform, background-color, border-color;\n        }\n        \n        .nested-subsection-row:hover {\n          background-color: rgba(20, 20, 20, 0.5);\n          border-color: rgba(160, 142, 97, 0.25);\n          transform: translateX(3px);\n        }\n        \n        .nested-subsection-content {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n          width: 100%;\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        .nested-subsection-title {\n          font-size: 0.9rem;\n          color: rgba(224, 224, 224, 0.9);\n          font-weight: 300;\n          margin: 0 0 0.4rem 0; /* Added bottom margin */\n          width: 100%;\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        .nested-subsection-description {\n          font-size: 0.75rem;\n          color: rgba(224, 224, 224, 0.6);\n          margin: 0;\n          width: 100%;\n          display: block; /* Always display the description */\n          transition: transform 0.3s ease, opacity 0.3s ease;\n        }\n        \n        /* Footer Moon Section */\n        .footer-section {\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          padding: 2rem 0 4rem;\n          position: relative;\n        }\n        \n        .footer-moon {\n          margin-bottom: 2rem;\n        }\n        \n        .brand-mark {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          opacity: 0.4;\n          transition: opacity 0.3s ease;\n        }\n        \n        .brand-mark:hover {\n          opacity: 0.7;\n        }\n        \n        .symbol {\n          font-size: 1.2rem;\n          color: #a08e61;\n          margin-bottom: 0.25rem;\n        }\n        \n        .year {\n          font-size: 0.65rem;\n          color: rgba(224, 224, 224, 0.4);\n          letter-spacing: 0.2em;\n          font-weight: 300;\n        }\n        \n        /* Animations */\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateX(-15px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n        \n        @keyframes fadeDown {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n            pointer-events: none;\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n            pointer-events: auto;\n          }\n        }\n        \n        @keyframes fadeUp {\n          from {\n            opacity: 1;\n            transform: translateY(0);\n            pointer-events: none;\n          }\n          to {\n            opacity: 0;\n            transform: translateY(-10px);\n            pointer-events: none;\n          }\n        }\n        \n        /* Apply to all children in collapsing containers */\n        .subsections-container.collapse *,\n        .nested-subsections-container.collapse * {\n          transition: all 0.3s ease;\n        }\n        \n        @keyframes pulse {\n          0% {\n            opacity: 0.15;\n          }\n          50% {\n            opacity: 0.4;\n          }\n          100% {\n            opacity: 0.15;\n          }\n        }\n        \n        /* Responsive Adjustments */\n        @media (max-width: 768px) {\n          .main-title {\n            font-size: 2.5rem;\n            letter-spacing: 0.2em;\n          }\n          \n          .section-row {\n            height: 5.5rem;\n          }\n          \n          .section-icon-wrapper {\n            width: 70px;\n          }\n          \n          .icon-container svg {\n            transform: scale(0.9);\n          }\n          \n          .section-title {\n            font-size: 1.2rem;\n          }\n          \n          .section-description {\n            font-size: 0.85rem;\n          }\n          \n          .quote-text {\n            font-size: 1rem;\n          }\n          \n          .subsections-container {\n            margin-left: 2rem;\n          }\n          \n          .nested-subsections-container {\n            margin-left: 1rem;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .content-container {\n            padding: 2rem 1rem 1rem;\n          }\n          \n          .main-title {\n            font-size: 2rem;\n            letter-spacing: 0.15em;\n          }\n          \n          .subtitle {\n            font-size: 0.85rem;\n          }\n          \n          .section-row {\n            height: 5rem;\n          }\n          \n          .section-icon-wrapper {\n            width: 60px;\n          }\n          \n          .icon-container svg {\n            transform: scale(0.8);\n          }\n          \n          .section-title {\n            font-size: 1.1rem;\n          }\n          \n          .quote-text {\n            font-size: 0.9rem;\n            line-height: 1.6;\n          }\n          \n          .quote-author {\n            font-size: 0.8rem;\n          }\n          \n          .subsections-container {\n            margin-left: 1rem;\n          }\n          \n          .nested-subsections-container {\n            margin-left: 0.5rem;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default RefinedLandingPage;"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAAC9J,EAAA,CA/+CID,kBAAkB;AAAAqL,EAAA,GAAlBrL,kBAAkB;AAi/CxB,eAAeA,kBAAkB;AAAC,IAAAqL,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
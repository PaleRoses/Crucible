{"ast":null,"code":"var _jsxFileName = \"/home/valeria/Documents/Crucible/frontend/src/components/core/effects/holdereffects/PersonProfileCard.jsx\",\n  _s2 = $RefreshSig$();\nimport React, { useRef, useState, useEffect, useCallback, useMemo } from 'react';\nimport { motion, useInView, useAnimation } from 'framer-motion';\n\n// Move static styles outside component to prevent recreation on each render\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst styles = {\n  profileName: {\n    fontWeight: '300',\n    letterSpacing: '0.05em',\n    marginBottom: '0.5rem'\n  },\n  profileRole: {\n    fontWeight: '300',\n    marginBottom: '2rem',\n    letterSpacing: '0.05em',\n    fontStyle: 'italic'\n  },\n  profileTagline: {\n    lineHeight: '1.6',\n    marginBottom: '3rem',\n    fontWeight: '300'\n  },\n  sectionContent: {\n    lineHeight: '1.8',\n    marginBottom: '1.5rem',\n    fontWeight: '300'\n  },\n  mobileNav: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    zIndex: 100,\n    backdropFilter: 'blur(10px)',\n    transition: 'all 0.3s ease',\n    padding: '0.75rem 1rem',\n    display: 'flex',\n    justifyContent: 'space-around',\n    alignItems: 'center'\n  },\n  navLine: {\n    position: 'absolute',\n    left: '0',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    height: '0.75px',\n    transition: 'width 0.3s ease, background-color 0.3s ease'\n  },\n  navLink: {\n    position: 'relative',\n    display: 'block',\n    padding: '0.5rem 0 0.5rem 40px',\n    fontSize: '0.85rem',\n    letterSpacing: '0.1em',\n    background: 'transparent',\n    border: 'none',\n    textAlign: 'left',\n    outline: 'none',\n    boxShadow: 'none',\n    transition: 'color 0.5s ease, transform 0.5s ease',\n    cursor: 'pointer',\n    width: 'fit-content'\n  }\n};\n\n/**\n * PersonProfileCard Component - Optimized Version\n * \n * A profile card with a three-phase scroll behavior:\n * 1. Normal Flow: Initially scrolls with the page\n * 2. Fixed Position: Sticks to viewport when scrolling through content\n * 3. Release: Returns to normal flow after scrolling past component\n * \n * Mobile improvements:\n * - Navigation bar moves to top of screen\n * - Content spans full width for better readability\n * - Simplified navigation display\n */\nconst PersonProfileCard = ({\n  person,\n  animationConfig = {\n    threshold: 0.2,\n    once: true,\n    initialY: 30,\n    duration: 0.8\n  },\n  additionalSections = [],\n  onSectionChange = null,\n  topOffset = 100,\n  showStats = true,\n  highlightColor = '#bfad7f',\n  textColor = 'rgba(224, 224, 224, 0.7)',\n  minLineWidth = 10,\n  maxLineWidth = 40,\n  fontFamily = '\"Garamond\", \"Adobe Caslon Pro\", serif',\n  navigationItems = [{\n    id: 'about',\n    label: 'ABOUT',\n    content: null\n  }, {\n    id: 'experience',\n    label: 'EXPERIENCE',\n    content: null\n  }, {\n    id: 'projects',\n    label: 'PROJECTS',\n    content: null\n  }],\n  contentCompression = 0\n}) => {\n  _s2();\n  var _navigationItems$,\n    _s = $RefreshSig$(),\n    _animationConfig$thre,\n    _animationConfig$once,\n    _animationConfig$init;\n  // Memoize calculation of compression-based values\n  const layoutValues = useMemo(() => {\n    const compressionFactor = Math.min(Math.max(contentCompression, 0), 10) / 10;\n    return {\n      sidebarWidth: 45 - compressionFactor * 5,\n      // 35-40% range\n      contentWidth: 55 - compressionFactor * 5,\n      // 55-60% range\n      contentPadding: 2 + compressionFactor * 2 // 2-4rem range\n    };\n  }, [contentCompression]);\n\n  // State management - Only use useState when necessary\n  const [activeSection, setActiveSection] = useState(((_navigationItems$ = navigationItems[0]) === null || _navigationItems$ === void 0 ? void 0 : _navigationItems$.id) || 'about');\n  const [expandedNavItem, setExpandedNavItem] = useState(null);\n  const [sidebarMode, setSidebarMode] = useState('normal'); // 'normal', 'fixed', or 'end'\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [mobileNavVisible, setMobileNavVisible] = useState(false);\n  const [lastScrollY, setLastScrollY] = useState(0);\n\n  // Refs for DOM elements - consolidated for clarity\n  const refs = {\n    container: useRef(null),\n    sidebar: useRef(null),\n    content: useRef(null),\n    sidebarWrapper: useRef(null),\n    mobileNav: useRef(null),\n    sections: _s(Array(8).fill().map(_s(() => {\n      _s();\n      return useRef(null);\n    }, \"J9pzIsEOVEZ74gjFtMkCj+5Po7s=\")), \"J9pzIsEOVEZ74gjFtMkCj+5Po7s=\")\n  };\n\n  // Animation controls\n  const controls = useAnimation();\n\n  // Memoize the section refs map to avoid recreating on every render\n  const sectionRefsMap = useMemo(() => {\n    const refsMap = {};\n    navigationItems.forEach((item, index) => {\n      if (index < refs.sections.length) {\n        refsMap[item.id] = refs.sections[index];\n      }\n    });\n    return refsMap;\n  }, [navigationItems]);\n\n  // Animation inView detection\n  const isInView = useInView(refs.container, {\n    threshold: (_animationConfig$thre = animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.threshold) !== null && _animationConfig$thre !== void 0 ? _animationConfig$thre : 0.2,\n    once: (_animationConfig$once = animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.once) !== null && _animationConfig$once !== void 0 ? _animationConfig$once : true\n  });\n\n  // Memoized function for checking if we're on mobile\n  const checkMobile = useCallback(() => {\n    setIsMobile(window.innerWidth <= 768);\n  }, []);\n\n  // Navigation item hover handlers - memoized to prevent recreation on every render\n  const handleNavItemHover = useCallback(section => {\n    if (!isMobile) {\n      setExpandedNavItem(section);\n    }\n  }, [isMobile]);\n  const handleNavItemLeave = useCallback(() => {\n    if (!isMobile) {\n      setExpandedNavItem(null);\n    }\n  }, [isMobile]);\n\n  // Scroll to section handler - memoized with dependencies\n  const scrollToSection = useCallback(sectionId => {\n    setActiveSection(sectionId);\n    if (onSectionChange) {\n      onSectionChange(sectionId);\n    }\n    const sectionRef = sectionRefsMap[sectionId];\n    if (sectionRef !== null && sectionRef !== void 0 && sectionRef.current) {\n      // Use different scroll methods for mobile vs desktop\n      if (isMobile) {\n        // For mobile, calculate position and use window.scrollTo\n        const offsetTop = sectionRef.current.getBoundingClientRect().top + window.pageYOffset;\n        const mobileNavHeight = refs.mobileNav.current ? refs.mobileNav.current.offsetHeight : 0;\n        window.scrollTo({\n          top: offsetTop - mobileNavHeight - 20,\n          // Additional offset for spacing\n          behavior: 'smooth'\n        });\n      } else {\n        // For desktop, use the original scrollIntoView method\n        sectionRef.current.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start'\n        });\n      }\n    }\n  }, [onSectionChange, sectionRefsMap, isMobile, refs.mobileNav]);\n\n  // Check mobile on mount and window resize\n  useEffect(() => {\n    // Initial check\n    checkMobile();\n\n    // Add resize event listener\n    window.addEventListener('resize', checkMobile);\n    return () => {\n      window.removeEventListener('resize', checkMobile);\n    };\n  }, [checkMobile]);\n\n  // Initial animation effect\n  useEffect(() => {\n    if (isInView) {\n      var _animationConfig$dura, _animationConfig$dura2;\n      controls.start({\n        opacity: 1,\n        y: 0,\n        transition: {\n          duration: (_animationConfig$dura = animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.duration) !== null && _animationConfig$dura !== void 0 ? _animationConfig$dura : 0.8,\n          ease: \"easeOut\",\n          delay: 0.1 // Small delay to ensure DOM is settled\n        }\n      });\n\n      // Mark as initialized after animation completes\n      const timeout = setTimeout(() => {\n        setIsInitialized(true);\n      }, ((_animationConfig$dura2 = animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.duration) !== null && _animationConfig$dura2 !== void 0 ? _animationConfig$dura2 : 0.8) * 1000 + 100);\n      return () => clearTimeout(timeout);\n    }\n  }, [isInView, controls, animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.duration]);\n\n  // Set up intersection observer for section detection - optimized with proper dependencies\n  useEffect(() => {\n    const sectionElements = Object.values(sectionRefsMap).map(ref => ref.current).filter(Boolean);\n    if (sectionElements.length === 0) return;\n\n    // Different margins for mobile and desktop to account for different layouts\n    const options = {\n      root: null,\n      rootMargin: isMobile ? '-80px 0px -70% 0px' // For mobile with fixed nav\n      : '-10% 0px -70% 0px',\n      // For desktop\n      threshold: 0\n    };\n    const callback = entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          const sectionId = entry.target.getAttribute('data-section');\n          if (sectionId && sectionId !== activeSection) {\n            setActiveSection(sectionId);\n            if (onSectionChange) {\n              onSectionChange(sectionId);\n            }\n          }\n        }\n      });\n    };\n    const observer = new IntersectionObserver(callback, options);\n    sectionElements.forEach(element => observer.observe(element));\n    return () => observer.disconnect();\n  }, [activeSection, onSectionChange, sectionRefsMap, isMobile]);\n\n  // Implement scroll behavior for desktop - optimized by separating logic and reducing recalculations\n  useEffect(() => {\n    if (!isInitialized || !refs.container.current || !refs.sidebar.current || !refs.sidebarWrapper.current || isMobile) {\n      return;\n    }\n    const container = refs.container.current;\n    const sidebar = refs.sidebar.current;\n    const sidebarWrapper = refs.sidebarWrapper.current;\n    let measurements = {\n      containerRect: null,\n      wrapperRect: null,\n      sidebarHeight: null\n    };\n\n    // Update measurements - only called when needed\n    const updateMeasurements = () => {\n      measurements.containerRect = container.getBoundingClientRect();\n      measurements.wrapperRect = sidebarWrapper.getBoundingClientRect();\n      measurements.sidebarHeight = sidebar.offsetHeight;\n    };\n\n    // Get initial measurements\n    updateMeasurements();\n\n    // Optimized scroll handler with throttling\n    const handleScroll = () => {\n      // Update measurements\n      updateMeasurements();\n\n      // Calculate phase transition points\n      const {\n        containerRect,\n        sidebarHeight\n      } = measurements;\n      const startFixPoint = containerRect.top <= topOffset;\n      const endFixPoint = containerRect.bottom <= sidebarHeight + topOffset;\n\n      // Determine the current scroll phase\n      let newMode;\n      if (!startFixPoint) {\n        newMode = 'normal';\n      } else if (startFixPoint && !endFixPoint) {\n        newMode = 'fixed';\n      } else {\n        newMode = 'end';\n      }\n\n      // Only update DOM if the mode changes\n      if (sidebarMode !== newMode) {\n        setSidebarMode(newMode);\n        if (newMode === 'normal') {\n          // Phase 1: Normal flow\n          sidebar.style.position = 'relative';\n          sidebar.style.top = '0';\n          sidebar.style.left = '0';\n          sidebar.style.width = '';\n          sidebar.style.bottom = '';\n        } else if (newMode === 'fixed') {\n          // Phase 2: Fixed position\n          sidebar.style.position = 'fixed';\n          sidebar.style.top = `${topOffset}px`;\n          sidebar.style.width = `${measurements.wrapperRect.width}px`;\n          sidebar.style.left = `${measurements.wrapperRect.left}px`;\n          sidebar.style.bottom = '';\n        } else if (newMode === 'end') {\n          // Phase 3: End position\n          sidebar.style.position = 'absolute';\n          sidebar.style.top = 'auto';\n          sidebar.style.bottom = '0';\n          sidebar.style.left = '0';\n          sidebar.style.width = '';\n        }\n      }\n    };\n\n    // Throttled scroll event handling for better performance\n    let ticking = false;\n    let lastScrollTime = 0;\n    const THROTTLE_MS = 100; // Throttle to max 10 updates per second\n\n    const scrollListener = () => {\n      const now = Date.now();\n      if (!ticking && now - lastScrollTime > THROTTLE_MS) {\n        window.requestAnimationFrame(() => {\n          handleScroll();\n          ticking = false;\n          lastScrollTime = now;\n        });\n        ticking = true;\n      }\n    };\n    window.addEventListener('scroll', scrollListener, {\n      passive: true\n    });\n\n    // Optimized resize handler\n    const handleResize = () => {\n      // Skip for mobile\n      if (window.innerWidth <= 768) return;\n\n      // Update measurements and apply current mode\n      updateMeasurements();\n      handleScroll();\n    };\n\n    // Use ResizeObserver instead of window resize for better performance\n    const resizeObserver = new ResizeObserver(handleResize);\n    resizeObserver.observe(container);\n\n    // Initial setup\n    handleResize();\n    handleScroll();\n    return () => {\n      window.removeEventListener('scroll', scrollListener);\n      resizeObserver.disconnect();\n    };\n  }, [isInitialized, topOffset, sidebarMode, isMobile]);\n\n  // Mobile nav scroll behavior with auto-hide - optimized with throttling\n  useEffect(() => {\n    if (!isInitialized || !isMobile || !refs.mobileNav.current) {\n      return;\n    }\n    const mobileNav = refs.mobileNav.current;\n\n    // Optimized scroll handler for mobile nav\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY;\n\n      // Show navbar when scrolling up or at the top of the page\n      if (currentScrollY < lastScrollY || currentScrollY < 50) {\n        setMobileNavVisible(true);\n      } else {\n        // Hide navbar when scrolling down past the threshold\n        setMobileNavVisible(false);\n      }\n\n      // Update background opacity based on scroll position - one-time calculation\n      const bgOpacity = currentScrollY > 50 ? 0.95 : 0.7;\n      mobileNav.style.backgroundColor = `rgba(17, 17, 17, ${bgOpacity})`;\n      mobileNav.style.boxShadow = currentScrollY > 50 ? '0 2px 10px rgba(0, 0, 0, 0.1)' : 'none';\n\n      // Store current scroll position\n      setLastScrollY(currentScrollY);\n    };\n\n    // Throttled scroll event handling for better performance\n    let ticking = false;\n    let lastScrollTime = 0;\n    const THROTTLE_MS = 100; // Throttle to max 10 updates per second\n\n    const scrollListener = () => {\n      const now = Date.now();\n      if (!ticking && now - lastScrollTime > THROTTLE_MS) {\n        window.requestAnimationFrame(() => {\n          handleScroll();\n          ticking = false;\n          lastScrollTime = now;\n        });\n        ticking = true;\n      }\n    };\n    window.addEventListener('scroll', scrollListener, {\n      passive: true\n    });\n\n    // Initial state - initialize once\n    mobileNav.style.backgroundColor = 'rgba(17, 17, 17, 0.7)';\n    mobileNav.style.boxShadow = 'none';\n    return () => {\n      window.removeEventListener('scroll', scrollListener);\n    };\n  }, [isInitialized, isMobile, lastScrollY]);\n\n  // Render functions - memoized to prevent recreation on every render\n\n  // Profile info section\n  const renderProfileInfo = useCallback(() => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-info\",\n    style: {\n      marginBottom: '2rem',\n      paddingLeft: '5px',\n      textAlign: isMobile ? 'center' : 'left',\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"profile-name\",\n      style: {\n        ...styles.profileName,\n        fontSize: isMobile ? '2.2rem' : '2.8rem',\n        color: highlightColor\n      },\n      children: person.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"profile-role\",\n      style: {\n        ...styles.profileRole,\n        fontSize: isMobile ? '1.1rem' : '1.2rem',\n        color: `${highlightColor}B3`,\n        // 70% opacity\n        fontFamily: fontFamily\n      },\n      children: person.role\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 7\n    }, this), person.tagline && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"profile-tagline\",\n      style: {\n        ...styles.profileTagline,\n        fontSize: '1.1rem',\n        maxWidth: isMobile ? '100%' : '90%',\n        color: textColor,\n        fontFamily: fontFamily\n      },\n      children: person.tagline\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 454,\n    columnNumber: 5\n  }, this), [isMobile, person.name, person.role, person.tagline, highlightColor, textColor, fontFamily]);\n\n  // Mobile navigation - extracted and memoized\n  const renderMobileNav = useCallback(() => {\n    if (!isMobile) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: refs.mobileNav,\n      className: \"mobile-nav\",\n      style: {\n        ...styles.mobileNav,\n        transform: mobileNavVisible ? 'translateY(0)' : 'translateY(-100%)',\n        opacity: mobileNavVisible ? 1 : 0\n      },\n      children: navigationItems.map(navItem => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-nav-item\",\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => scrollToSection(navItem.id),\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            background: 'transparent',\n            border: 'none',\n            cursor: 'pointer',\n            padding: '0.5rem',\n            outline: 'none'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: activeSection === navItem.id ? `${maxLineWidth}px` : `${minLineWidth}px`,\n              height: '2px',\n              backgroundColor: activeSection === navItem.id ? highlightColor : `${highlightColor}80`,\n              transition: 'width 0.3s ease, background-color 0.3s ease',\n              marginBottom: '0.5rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.75rem',\n              color: activeSection === navItem.id ? highlightColor : textColor,\n              letterSpacing: '0.1em',\n              transition: 'color 0.3s ease'\n            },\n            children: navItem.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 13\n        }, this)\n      }, navItem.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 7\n    }, this);\n  }, [isMobile, mobileNavVisible, navigationItems, activeSection, scrollToSection, maxLineWidth, minLineWidth, highlightColor, textColor]);\n\n  // Navigation links for desktop - extracted and memoized\n  const renderNavLinks = useCallback(() => {\n    if (isMobile) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav-links\",\n      style: {\n        marginTop: '3rem'\n      },\n      children: navigationItems.map(navItem => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-link-container\",\n        style: {\n          position: 'relative',\n          marginBottom: '1rem',\n          display: 'flex',\n          alignItems: 'center'\n        },\n        onMouseEnter: () => handleNavItemHover(navItem.id),\n        onMouseLeave: handleNavItemLeave,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-line\",\n          style: {\n            ...styles.navLine,\n            width: activeSection === navItem.id || expandedNavItem === navItem.id ? `${maxLineWidth}px` : `${minLineWidth}px`,\n            backgroundColor: activeSection === navItem.id || expandedNavItem === navItem.id ? `${highlightColor}E6` // 90% opacity \n            : `${highlightColor}80` // 50% opacity\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-link\",\n          onClick: () => scrollToSection(navItem.id),\n          style: {\n            ...styles.navLink,\n            color: activeSection === navItem.id || expandedNavItem === navItem.id ? highlightColor : textColor,\n            transform: activeSection === navItem.id || expandedNavItem === navItem.id ? 'translateX(10px)' : 'none'\n          },\n          children: navItem.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 13\n        }, this)]\n      }, navItem.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this);\n  }, [isMobile, navigationItems, activeSection, expandedNavItem, handleNavItemHover, handleNavItemLeave, scrollToSection, maxLineWidth, minLineWidth, highlightColor, textColor]);\n\n  // Stats section - extracted and memoized\n  const renderStats = useCallback(() => {\n    if (!showStats || !person.stats || person.stats.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-container\",\n      style: {\n        display: 'flex',\n        justifyContent: isMobile ? 'center' : 'space-between',\n        flexWrap: 'wrap',\n        marginTop: '3rem',\n        width: '100%',\n        gap: isMobile ? '2rem' : 0\n      },\n      children: person.stats.map((stat, statIdx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat\",\n        style: {\n          flex: isMobile ? '0 0 auto' : '1',\n          textAlign: 'center',\n          padding: '0 1rem',\n          minWidth: isMobile ? '140px' : '100px',\n          transition: 'transform 0.3s ease'\n        },\n        onMouseEnter: e => {\n          if (!isMobile) {\n            e.currentTarget.style.transform = 'translateY(-5px)';\n          }\n        },\n        onMouseLeave: e => {\n          if (!isMobile) {\n            e.currentTarget.style.transform = 'none';\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-value\",\n          style: {\n            fontSize: isMobile ? '2.2rem' : '2.5rem',\n            fontWeight: '100',\n            color: highlightColor,\n            marginBottom: '0.5rem'\n          },\n          children: stat.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-label\",\n          style: {\n            fontSize: '0.85rem',\n            color: `${textColor}CC`,\n            // 80% opacity\n            textTransform: 'uppercase',\n            letterSpacing: '0.1em'\n          },\n          children: stat.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 13\n        }, this)]\n      }, statIdx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 7\n    }, this);\n  }, [showStats, person.stats, isMobile, highlightColor, textColor]);\n\n  // Section content renderer - memoized for consistent rendering\n  const renderSectionContent = useCallback(content => {\n    if (!content) return null;\n    if (typeof content === 'string') {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"section-content\",\n        style: {\n          ...styles.sectionContent,\n          fontSize: '1rem',\n          color: textColor,\n          fontFamily: fontFamily\n        },\n        children: content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 9\n      }, this);\n    }\n    return content;\n  }, [textColor, fontFamily]);\n\n  // Section renderers - separated for clarity and optimization\n  const renderAboutSection = useCallback(() => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [person.bio && person.bio.map((paragraph, idx) => /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"section-content\",\n        style: {\n          ...styles.sectionContent,\n          fontSize: '1rem',\n          color: textColor,\n          fontFamily: fontFamily\n        },\n        children: paragraph\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 11\n      }, this)), renderStats()]\n    }, void 0, true);\n  }, [person.bio, renderStats, textColor, fontFamily]);\n  const renderExperienceSection = useCallback(() => {\n    if (person.experience) {\n      return person.experience.map((item, expIdx) => renderSectionContent(item.content));\n    }\n    return renderSectionContent(\"Throughout my career, I've specialized in developing software systems that seamlessly \" + \"integrate front-end experiences with robust back-end architectures. My experience spans \" + \"various domains, from interactive media to data visualization systems.\");\n  }, [person.experience, renderSectionContent]);\n  const renderProjectsSection = useCallback(() => {\n    if (person.projects) {\n      return person.projects.map((item, projIdx) => renderSectionContent(item.content));\n    }\n    return null;\n  }, [person.projects, renderSectionContent]);\n\n  // Main section renderer - unified logic for any section type\n  const renderSection = useCallback(section => {\n    if (section.content) {\n      return renderSectionContent(section.content);\n    }\n    switch (section.id) {\n      case 'about':\n        return renderAboutSection();\n      case 'experience':\n        return renderExperienceSection();\n      case 'projects':\n        return renderProjectsSection();\n      default:\n        return null;\n    }\n  }, [renderSectionContent, renderAboutSection, renderExperienceSection, renderProjectsSection]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [renderMobileNav(), /*#__PURE__*/_jsxDEV(motion.div, {\n      ref: refs.container,\n      className: \"profile-container\",\n      initial: {\n        opacity: 0,\n        y: (_animationConfig$init = animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.initialY) !== null && _animationConfig$init !== void 0 ? _animationConfig$init : 30\n      },\n      animate: controls,\n      style: {\n        display: 'flex',\n        flexDirection: isMobile ? 'column' : 'row',\n        width: '100%',\n        maxWidth: '1300px',\n        margin: '0 auto',\n        minHeight: isMobile ? 'auto' : '70vh',\n        position: 'relative',\n        paddingTop: isMobile ? '80px' : 0 // Add padding for fixed mobile nav\n      },\n      children: [!isMobile && /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: refs.sidebarWrapper,\n        className: \"sidebar-wrapper\",\n        style: {\n          width: `${layoutValues.sidebarWidth}%`,\n          position: 'relative'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: refs.sidebar,\n          className: \"profile-sidebar\",\n          style: {\n            padding: '3rem 2rem 2rem 0',\n            display: 'flex',\n            flexDirection: 'column',\n            width: '100%',\n            position: 'relative',\n            top: 0\n          },\n          children: [renderProfileInfo(), renderNavLinks()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 812,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 803,\n        columnNumber: 11\n      }, this), isMobile && renderProfileInfo(), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: refs.content,\n        className: \"content-section\",\n        style: {\n          width: isMobile ? '100%' : `${layoutValues.contentWidth}%`,\n          padding: isMobile ? '2rem 1.5rem' : `3rem 0 2rem ${layoutValues.contentPadding}rem`,\n          marginLeft: isMobile ? 0 : 'auto'\n        },\n        children: [navigationItems.map((section, index) => {\n          if (index >= refs.sections.length) return null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: refs.sections[index],\n            \"data-section\": section.id,\n            className: \"section\",\n            id: section.id,\n            style: {\n              marginBottom: '3rem',\n              scrollMarginTop: isMobile ? '80px' : '2rem'\n            },\n            children: renderSection(section)\n          }, section.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 850,\n            columnNumber: 15\n          }, this);\n        }), additionalSections.map((section, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section\",\n          style: {\n            marginBottom: '3rem',\n            scrollMarginTop: isMobile ? '80px' : '2rem'\n          },\n          children: [section.title && /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '1.4rem',\n              color: highlightColor,\n              marginBottom: '1rem',\n              fontWeight: '300'\n            },\n            children: section.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 877,\n            columnNumber: 17\n          }, this), renderSectionContent(section.content)]\n        }, `additional-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 868,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 785,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n// Using memo to prevent unnecessary re-renders\n_s2(PersonProfileCard, \"aVbocJwxHg9oBNXiq63ZUOfysi8=\", false, function () {\n  return [useAnimation, useInView];\n});\n_c = PersonProfileCard;\nexport default _c2 = /*#__PURE__*/React.memo(PersonProfileCard);\nvar _c, _c2;\n$RefreshReg$(_c, \"PersonProfileCard\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useRef","useState","useEffect","useCallback","useMemo","motion","useInView","useAnimation","jsxDEV","_jsxDEV","Fragment","_Fragment","styles","profileName","fontWeight","letterSpacing","marginBottom","profileRole","fontStyle","profileTagline","lineHeight","sectionContent","mobileNav","position","top","left","width","zIndex","backdropFilter","transition","padding","display","justifyContent","alignItems","navLine","transform","height","navLink","fontSize","background","border","textAlign","outline","boxShadow","cursor","PersonProfileCard","person","animationConfig","threshold","once","initialY","duration","additionalSections","onSectionChange","topOffset","showStats","highlightColor","textColor","minLineWidth","maxLineWidth","fontFamily","navigationItems","id","label","content","contentCompression","_s2","_navigationItems$","_s","$RefreshSig$","_animationConfig$thre","_animationConfig$once","_animationConfig$init","layoutValues","compressionFactor","Math","min","max","sidebarWidth","contentWidth","contentPadding","activeSection","setActiveSection","expandedNavItem","setExpandedNavItem","sidebarMode","setSidebarMode","isInitialized","setIsInitialized","isMobile","setIsMobile","mobileNavVisible","setMobileNavVisible","lastScrollY","setLastScrollY","refs","container","sidebar","sidebarWrapper","sections","Array","fill","map","controls","sectionRefsMap","refsMap","forEach","item","index","length","isInView","checkMobile","window","innerWidth","handleNavItemHover","section","handleNavItemLeave","scrollToSection","sectionId","sectionRef","current","offsetTop","getBoundingClientRect","pageYOffset","mobileNavHeight","offsetHeight","scrollTo","behavior","scrollIntoView","block","addEventListener","removeEventListener","_animationConfig$dura","_animationConfig$dura2","start","opacity","y","ease","delay","timeout","setTimeout","clearTimeout","sectionElements","Object","values","ref","filter","Boolean","options","root","rootMargin","callback","entries","entry","isIntersecting","target","getAttribute","observer","IntersectionObserver","element","observe","disconnect","measurements","containerRect","wrapperRect","sidebarHeight","updateMeasurements","handleScroll","startFixPoint","endFixPoint","bottom","newMode","style","ticking","lastScrollTime","THROTTLE_MS","scrollListener","now","Date","requestAnimationFrame","passive","handleResize","resizeObserver","ResizeObserver","currentScrollY","scrollY","bgOpacity","backgroundColor","renderProfileInfo","className","paddingLeft","children","color","name","fileName","_jsxFileName","lineNumber","columnNumber","role","tagline","maxWidth","renderMobileNav","navItem","flexDirection","onClick","renderNavLinks","marginTop","onMouseEnter","onMouseLeave","renderStats","stats","flexWrap","gap","stat","statIdx","flex","minWidth","e","currentTarget","value","textTransform","renderSectionContent","renderAboutSection","bio","paragraph","idx","renderExperienceSection","experience","expIdx","renderProjectsSection","projects","projIdx","renderSection","div","initial","animate","margin","minHeight","paddingTop","marginLeft","scrollMarginTop","title","_c","_c2","memo","$RefreshReg$"],"sources":["/home/valeria/Documents/Crucible/frontend/src/components/core/effects/holdereffects/PersonProfileCard.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect, useCallback, useMemo } from 'react';\nimport { motion, useInView, useAnimation } from 'framer-motion';\n\n// Move static styles outside component to prevent recreation on each render\nconst styles = {\n  profileName: {\n    fontWeight: '300',\n    letterSpacing: '0.05em',\n    marginBottom: '0.5rem',\n  },\n  profileRole: {\n    fontWeight: '300',\n    marginBottom: '2rem',\n    letterSpacing: '0.05em',\n    fontStyle: 'italic',\n  },\n  profileTagline: {\n    lineHeight: '1.6',\n    marginBottom: '3rem',\n    fontWeight: '300',\n  },\n  sectionContent: {\n    lineHeight: '1.8',\n    marginBottom: '1.5rem',\n    fontWeight: '300',\n  },\n  mobileNav: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    zIndex: 100,\n    backdropFilter: 'blur(10px)',\n    transition: 'all 0.3s ease',\n    padding: '0.75rem 1rem',\n    display: 'flex',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n  },\n  navLine: {\n    position: 'absolute',\n    left: '0',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    height: '0.75px',\n    transition: 'width 0.3s ease, background-color 0.3s ease',\n  },\n  navLink: {\n    position: 'relative',\n    display: 'block',\n    padding: '0.5rem 0 0.5rem 40px',\n    fontSize: '0.85rem',\n    letterSpacing: '0.1em',\n    background: 'transparent',\n    border: 'none',\n    textAlign: 'left',\n    outline: 'none',\n    boxShadow: 'none',\n    transition: 'color 0.5s ease, transform 0.5s ease',\n    cursor: 'pointer',\n    width: 'fit-content',\n  }\n};\n\n/**\n * PersonProfileCard Component - Optimized Version\n * \n * A profile card with a three-phase scroll behavior:\n * 1. Normal Flow: Initially scrolls with the page\n * 2. Fixed Position: Sticks to viewport when scrolling through content\n * 3. Release: Returns to normal flow after scrolling past component\n * \n * Mobile improvements:\n * - Navigation bar moves to top of screen\n * - Content spans full width for better readability\n * - Simplified navigation display\n */\nconst PersonProfileCard = ({\n  person,\n  animationConfig = {\n    threshold: 0.2,\n    once: true,\n    initialY: 30,\n    duration: 0.8\n  },\n  additionalSections = [],\n  onSectionChange = null,\n  topOffset = 100,\n  showStats = true,\n  highlightColor = '#bfad7f',\n  textColor = 'rgba(224, 224, 224, 0.7)',\n  minLineWidth = 10,\n  maxLineWidth = 40,\n  fontFamily = '\"Garamond\", \"Adobe Caslon Pro\", serif',\n  navigationItems = [\n    { id: 'about', label: 'ABOUT', content: null },\n    { id: 'experience', label: 'EXPERIENCE', content: null },\n    { id: 'projects', label: 'PROJECTS', content: null }\n  ],\n  contentCompression = 0\n}) => {\n  // Memoize calculation of compression-based values\n  const layoutValues = useMemo(() => {\n    const compressionFactor = Math.min(Math.max(contentCompression, 0), 10) / 10;\n    return {\n      sidebarWidth: 45 - (compressionFactor * 5), // 35-40% range\n      contentWidth: 55 - (compressionFactor * 5), // 55-60% range\n      contentPadding: 2 + (compressionFactor * 2), // 2-4rem range\n    };\n  }, [contentCompression]);\n  \n  // State management - Only use useState when necessary\n  const [activeSection, setActiveSection] = useState(navigationItems[0]?.id || 'about');\n  const [expandedNavItem, setExpandedNavItem] = useState(null);\n  const [sidebarMode, setSidebarMode] = useState('normal'); // 'normal', 'fixed', or 'end'\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [mobileNavVisible, setMobileNavVisible] = useState(false);\n  const [lastScrollY, setLastScrollY] = useState(0);\n\n  // Refs for DOM elements - consolidated for clarity\n  const refs = {\n    container: useRef(null),\n    sidebar: useRef(null),\n    content: useRef(null),\n    sidebarWrapper: useRef(null),\n    mobileNav: useRef(null),\n    sections: Array(8).fill().map(() => useRef(null))\n  };\n  \n  // Animation controls\n  const controls = useAnimation();\n  \n  // Memoize the section refs map to avoid recreating on every render\n  const sectionRefsMap = useMemo(() => {\n    const refsMap = {};\n    navigationItems.forEach((item, index) => {\n      if (index < refs.sections.length) {\n        refsMap[item.id] = refs.sections[index];\n      }\n    });\n    return refsMap;\n  }, [navigationItems]);\n\n  // Animation inView detection\n  const isInView = useInView(refs.container, {\n    threshold: animationConfig?.threshold ?? 0.2,\n    once: animationConfig?.once ?? true\n  });\n\n  // Memoized function for checking if we're on mobile\n  const checkMobile = useCallback(() => {\n    setIsMobile(window.innerWidth <= 768);\n  }, []);\n\n  // Navigation item hover handlers - memoized to prevent recreation on every render\n  const handleNavItemHover = useCallback((section) => {\n    if (!isMobile) {\n      setExpandedNavItem(section);\n    }\n  }, [isMobile]);\n  \n  const handleNavItemLeave = useCallback(() => {\n    if (!isMobile) {\n      setExpandedNavItem(null);\n    }\n  }, [isMobile]);\n\n  // Scroll to section handler - memoized with dependencies\n  const scrollToSection = useCallback((sectionId) => {\n    setActiveSection(sectionId);\n    \n    if (onSectionChange) {\n      onSectionChange(sectionId);\n    }\n    \n    const sectionRef = sectionRefsMap[sectionId];\n    if (sectionRef?.current) {\n      // Use different scroll methods for mobile vs desktop\n      if (isMobile) {\n        // For mobile, calculate position and use window.scrollTo\n        const offsetTop = sectionRef.current.getBoundingClientRect().top + window.pageYOffset;\n        const mobileNavHeight = refs.mobileNav.current ? refs.mobileNav.current.offsetHeight : 0;\n        \n        window.scrollTo({\n          top: offsetTop - mobileNavHeight - 20, // Additional offset for spacing\n          behavior: 'smooth'\n        });\n      } else {\n        // For desktop, use the original scrollIntoView method\n        sectionRef.current.scrollIntoView({ \n          behavior: 'smooth',\n          block: 'start'\n        });\n      }\n    }\n  }, [onSectionChange, sectionRefsMap, isMobile, refs.mobileNav]);\n\n  // Check mobile on mount and window resize\n  useEffect(() => {\n    // Initial check\n    checkMobile();\n    \n    // Add resize event listener\n    window.addEventListener('resize', checkMobile);\n    \n    return () => {\n      window.removeEventListener('resize', checkMobile);\n    };\n  }, [checkMobile]);\n\n  // Initial animation effect\n  useEffect(() => {\n    if (isInView) {\n      controls.start({ \n        opacity: 1, \n        y: 0,\n        transition: { \n          duration: animationConfig?.duration ?? 0.8,\n          ease: \"easeOut\",\n          delay: 0.1 // Small delay to ensure DOM is settled\n        }\n      });\n      \n      // Mark as initialized after animation completes\n      const timeout = setTimeout(() => {\n        setIsInitialized(true);\n      }, (animationConfig?.duration ?? 0.8) * 1000 + 100);\n      \n      return () => clearTimeout(timeout);\n    }\n  }, [isInView, controls, animationConfig?.duration]);\n\n  // Set up intersection observer for section detection - optimized with proper dependencies\n  useEffect(() => {\n    const sectionElements = Object.values(sectionRefsMap)\n      .map(ref => ref.current)\n      .filter(Boolean);\n    \n    if (sectionElements.length === 0) return;\n    \n    // Different margins for mobile and desktop to account for different layouts\n    const options = {\n      root: null,\n      rootMargin: isMobile \n        ? '-80px 0px -70% 0px'  // For mobile with fixed nav\n        : '-10% 0px -70% 0px',  // For desktop\n      threshold: 0\n    };\n    \n    const callback = (entries) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          const sectionId = entry.target.getAttribute('data-section');\n          if (sectionId && sectionId !== activeSection) {\n            setActiveSection(sectionId);\n            \n            if (onSectionChange) {\n              onSectionChange(sectionId);\n            }\n          }\n        }\n      });\n    };\n    \n    const observer = new IntersectionObserver(callback, options);\n    sectionElements.forEach(element => observer.observe(element));\n    \n    return () => observer.disconnect();\n  }, [activeSection, onSectionChange, sectionRefsMap, isMobile]);\n\n  // Implement scroll behavior for desktop - optimized by separating logic and reducing recalculations\n  useEffect(() => {\n    if (!isInitialized || !refs.container.current || !refs.sidebar.current || \n        !refs.sidebarWrapper.current || isMobile) {\n      return;\n    }\n    \n    const container = refs.container.current;\n    const sidebar = refs.sidebar.current;\n    const sidebarWrapper = refs.sidebarWrapper.current;\n    \n    let measurements = {\n      containerRect: null,\n      wrapperRect: null,\n      sidebarHeight: null\n    };\n    \n    // Update measurements - only called when needed\n    const updateMeasurements = () => {\n      measurements.containerRect = container.getBoundingClientRect();\n      measurements.wrapperRect = sidebarWrapper.getBoundingClientRect();\n      measurements.sidebarHeight = sidebar.offsetHeight;\n    };\n    \n    // Get initial measurements\n    updateMeasurements();\n    \n    // Optimized scroll handler with throttling\n    const handleScroll = () => {\n      // Update measurements\n      updateMeasurements();\n      \n      // Calculate phase transition points\n      const { containerRect, sidebarHeight } = measurements;\n      const startFixPoint = containerRect.top <= topOffset;\n      const endFixPoint = containerRect.bottom <= (sidebarHeight + topOffset);\n      \n      // Determine the current scroll phase\n      let newMode;\n      if (!startFixPoint) {\n        newMode = 'normal';\n      } else if (startFixPoint && !endFixPoint) {\n        newMode = 'fixed';\n      } else {\n        newMode = 'end';\n      }\n      \n      // Only update DOM if the mode changes\n      if (sidebarMode !== newMode) {\n        setSidebarMode(newMode);\n        \n        if (newMode === 'normal') {\n          // Phase 1: Normal flow\n          sidebar.style.position = 'relative';\n          sidebar.style.top = '0';\n          sidebar.style.left = '0';\n          sidebar.style.width = '';\n          sidebar.style.bottom = '';\n        } \n        else if (newMode === 'fixed') {\n          // Phase 2: Fixed position\n          sidebar.style.position = 'fixed';\n          sidebar.style.top = `${topOffset}px`;\n          sidebar.style.width = `${measurements.wrapperRect.width}px`;\n          sidebar.style.left = `${measurements.wrapperRect.left}px`;\n          sidebar.style.bottom = '';\n        } \n        else if (newMode === 'end') {\n          // Phase 3: End position\n          sidebar.style.position = 'absolute';\n          sidebar.style.top = 'auto';\n          sidebar.style.bottom = '0';\n          sidebar.style.left = '0';\n          sidebar.style.width = '';\n        }\n      }\n    };\n    \n    // Throttled scroll event handling for better performance\n    let ticking = false;\n    let lastScrollTime = 0;\n    const THROTTLE_MS = 100; // Throttle to max 10 updates per second\n    \n    const scrollListener = () => {\n      const now = Date.now();\n      if (!ticking && now - lastScrollTime > THROTTLE_MS) {\n        window.requestAnimationFrame(() => {\n          handleScroll();\n          ticking = false;\n          lastScrollTime = now;\n        });\n        ticking = true;\n      }\n    };\n    \n    window.addEventListener('scroll', scrollListener, { passive: true });\n    \n    // Optimized resize handler\n    const handleResize = () => {\n      // Skip for mobile\n      if (window.innerWidth <= 768) return;\n      \n      // Update measurements and apply current mode\n      updateMeasurements();\n      handleScroll();\n    };\n    \n    // Use ResizeObserver instead of window resize for better performance\n    const resizeObserver = new ResizeObserver(handleResize);\n    resizeObserver.observe(container);\n    \n    // Initial setup\n    handleResize();\n    handleScroll();\n    \n    return () => {\n      window.removeEventListener('scroll', scrollListener);\n      resizeObserver.disconnect();\n    };\n  }, [isInitialized, topOffset, sidebarMode, isMobile]);\n\n  // Mobile nav scroll behavior with auto-hide - optimized with throttling\n  useEffect(() => {\n    if (!isInitialized || !isMobile || !refs.mobileNav.current) {\n      return;\n    }\n    \n    const mobileNav = refs.mobileNav.current;\n    \n    // Optimized scroll handler for mobile nav\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY;\n      \n      // Show navbar when scrolling up or at the top of the page\n      if (currentScrollY < lastScrollY || currentScrollY < 50) {\n        setMobileNavVisible(true);\n      } else {\n        // Hide navbar when scrolling down past the threshold\n        setMobileNavVisible(false);\n      }\n      \n      // Update background opacity based on scroll position - one-time calculation\n      const bgOpacity = currentScrollY > 50 ? 0.95 : 0.7;\n      mobileNav.style.backgroundColor = `rgba(17, 17, 17, ${bgOpacity})`;\n      mobileNav.style.boxShadow = currentScrollY > 50 ? '0 2px 10px rgba(0, 0, 0, 0.1)' : 'none';\n      \n      // Store current scroll position\n      setLastScrollY(currentScrollY);\n    };\n    \n    // Throttled scroll event handling for better performance\n    let ticking = false;\n    let lastScrollTime = 0;\n    const THROTTLE_MS = 100; // Throttle to max 10 updates per second\n    \n    const scrollListener = () => {\n      const now = Date.now();\n      if (!ticking && now - lastScrollTime > THROTTLE_MS) {\n        window.requestAnimationFrame(() => {\n          handleScroll();\n          ticking = false;\n          lastScrollTime = now;\n        });\n        ticking = true;\n      }\n    };\n    \n    window.addEventListener('scroll', scrollListener, { passive: true });\n    \n    // Initial state - initialize once\n    mobileNav.style.backgroundColor = 'rgba(17, 17, 17, 0.7)';\n    mobileNav.style.boxShadow = 'none';\n    \n    return () => {\n      window.removeEventListener('scroll', scrollListener);\n    };\n  }, [isInitialized, isMobile, lastScrollY]);\n\n  // Render functions - memoized to prevent recreation on every render\n  \n  // Profile info section\n  const renderProfileInfo = useCallback(() => (\n    <div \n      className=\"profile-info\"\n      style={{\n        marginBottom: '2rem',\n        paddingLeft: '5px',\n        textAlign: isMobile ? 'center' : 'left',\n        width: '100%',\n      }}\n    >\n      <h1 \n        className=\"profile-name\"\n        style={{\n          ...styles.profileName,\n          fontSize: isMobile ? '2.2rem' : '2.8rem',\n          color: highlightColor,\n        }}\n      >\n        {person.name}\n      </h1>\n      \n      <h2 \n        className=\"profile-role\"\n        style={{\n          ...styles.profileRole,\n          fontSize: isMobile ? '1.1rem' : '1.2rem',\n          color: `${highlightColor}B3`, // 70% opacity\n          fontFamily: fontFamily,\n        }}\n      >\n        {person.role}\n      </h2>\n      \n      {person.tagline && (\n        <p \n          className=\"profile-tagline\"\n          style={{\n            ...styles.profileTagline,\n            fontSize: '1.1rem',\n            maxWidth: isMobile ? '100%' : '90%',\n            color: textColor,\n            fontFamily: fontFamily,\n          }}\n        >\n          {person.tagline}\n        </p>\n      )}\n    </div>\n  ), [isMobile, person.name, person.role, person.tagline, highlightColor, textColor, fontFamily]);\n\n  // Mobile navigation - extracted and memoized\n  const renderMobileNav = useCallback(() => {\n    if (!isMobile) return null;\n    \n    return (\n      <div\n        ref={refs.mobileNav}\n        className=\"mobile-nav\"\n        style={{\n          ...styles.mobileNav,\n          transform: mobileNavVisible ? 'translateY(0)' : 'translateY(-100%)',\n          opacity: mobileNavVisible ? 1 : 0,\n        }}\n      >\n        {navigationItems.map((navItem) => (\n          <div\n            key={navItem.id}\n            className=\"mobile-nav-item\"\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n            }}\n          >\n            <button\n              onClick={() => scrollToSection(navItem.id)}\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                background: 'transparent',\n                border: 'none',\n                cursor: 'pointer',\n                padding: '0.5rem',\n                outline: 'none',\n              }}\n            >\n              <div\n                style={{\n                  width: activeSection === navItem.id ? `${maxLineWidth}px` : `${minLineWidth}px`,\n                  height: '2px',\n                  backgroundColor: activeSection === navItem.id ? highlightColor : `${highlightColor}80`,\n                  transition: 'width 0.3s ease, background-color 0.3s ease',\n                  marginBottom: '0.5rem',\n                }}\n              ></div>\n              <div\n                style={{\n                  fontSize: '0.75rem',\n                  color: activeSection === navItem.id ? highlightColor : textColor,\n                  letterSpacing: '0.1em',\n                  transition: 'color 0.3s ease',\n                }}\n              >\n                {navItem.label}\n              </div>\n            </button>\n          </div>\n        ))}\n      </div>\n    );\n  }, [\n    isMobile, mobileNavVisible, navigationItems, activeSection, \n    scrollToSection, maxLineWidth, minLineWidth, highlightColor, textColor\n  ]);\n\n  // Navigation links for desktop - extracted and memoized\n  const renderNavLinks = useCallback(() => {\n    if (isMobile) return null;\n    \n    return (\n      <div className=\"nav-links\" style={{ marginTop: '3rem' }}>\n        {navigationItems.map((navItem) => (\n          <div \n            key={navItem.id}\n            className=\"nav-link-container\"\n            style={{\n              position: 'relative',\n              marginBottom: '1rem',\n              display: 'flex',\n              alignItems: 'center',\n            }}\n            onMouseEnter={() => handleNavItemHover(navItem.id)}\n            onMouseLeave={handleNavItemLeave}\n          >\n            <div\n              className=\"nav-line\"\n              style={{\n                ...styles.navLine,\n                width: activeSection === navItem.id || expandedNavItem === navItem.id \n                  ? `${maxLineWidth}px` \n                  : `${minLineWidth}px`,\n                backgroundColor: activeSection === navItem.id || expandedNavItem === navItem.id\n                  ? `${highlightColor}E6` // 90% opacity \n                  : `${highlightColor}80`, // 50% opacity\n              }}\n            ></div>\n            <button \n              className=\"nav-link\"\n              onClick={() => scrollToSection(navItem.id)}\n              style={{\n                ...styles.navLink,\n                color: activeSection === navItem.id || expandedNavItem === navItem.id \n                  ? highlightColor \n                  : textColor,\n                transform: activeSection === navItem.id || expandedNavItem === navItem.id \n                  ? 'translateX(10px)' \n                  : 'none',\n              }}\n            >\n              {navItem.label}\n            </button>\n          </div>\n        ))}\n      </div>\n    );\n  }, [\n    isMobile, navigationItems, activeSection, expandedNavItem, \n    handleNavItemHover, handleNavItemLeave, scrollToSection,\n    maxLineWidth, minLineWidth, highlightColor, textColor\n  ]);\n\n  // Stats section - extracted and memoized\n  const renderStats = useCallback(() => {\n    if (!showStats || !person.stats || person.stats.length === 0) return null;\n    \n    return (\n      <div \n        className=\"stats-container\"\n        style={{\n          display: 'flex',\n          justifyContent: isMobile ? 'center' : 'space-between',\n          flexWrap: 'wrap',\n          marginTop: '3rem',\n          width: '100%',\n          gap: isMobile ? '2rem' : 0,\n        }}\n      >\n        {person.stats.map((stat, statIdx) => (\n          <div \n            key={statIdx} \n            className=\"stat\"\n            style={{\n              flex: isMobile ? '0 0 auto' : '1',\n              textAlign: 'center',\n              padding: '0 1rem',\n              minWidth: isMobile ? '140px' : '100px',\n              transition: 'transform 0.3s ease',\n            }}\n            onMouseEnter={(e) => {\n              if (!isMobile) {\n                e.currentTarget.style.transform = 'translateY(-5px)';\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (!isMobile) {\n                e.currentTarget.style.transform = 'none';\n              }\n            }}\n          >\n            <div \n              className=\"stat-value\"\n              style={{\n                fontSize: isMobile ? '2.2rem' : '2.5rem',\n                fontWeight: '100',\n                color: highlightColor,\n                marginBottom: '0.5rem'\n              }}\n            >\n              {stat.value}\n            </div>\n            <div \n              className=\"stat-label\"\n              style={{\n                fontSize: '0.85rem',\n                color: `${textColor}CC`, // 80% opacity\n                textTransform: 'uppercase',\n                letterSpacing: '0.1em'\n              }}\n            >\n              {stat.label}\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }, [showStats, person.stats, isMobile, highlightColor, textColor]);\n\n  // Section content renderer - memoized for consistent rendering\n  const renderSectionContent = useCallback((content) => {\n    if (!content) return null;\n    \n    if (typeof content === 'string') {\n      return (\n        <p \n          className=\"section-content\"\n          style={{\n            ...styles.sectionContent,\n            fontSize: '1rem',\n            color: textColor,\n            fontFamily: fontFamily,\n          }}\n        >\n          {content}\n        </p>\n      );\n    }\n    \n    return content;\n  }, [textColor, fontFamily]);\n\n  // Section renderers - separated for clarity and optimization\n  const renderAboutSection = useCallback(() => {\n    return (\n      <>\n        {person.bio && person.bio.map((paragraph, idx) => (\n          <p \n            key={idx} \n            className=\"section-content\"\n            style={{\n              ...styles.sectionContent,\n              fontSize: '1rem',\n              color: textColor,\n              fontFamily: fontFamily,\n            }}\n          >\n            {paragraph}\n          </p>\n        ))}\n        \n        {renderStats()}\n      </>\n    );\n  }, [person.bio, renderStats, textColor, fontFamily]);\n\n  const renderExperienceSection = useCallback(() => {\n    if (person.experience) {\n      return person.experience.map((item, expIdx) => (\n        renderSectionContent(item.content)\n      ));\n    }\n    \n    return renderSectionContent(\n      \"Throughout my career, I've specialized in developing software systems that seamlessly \" +\n      \"integrate front-end experiences with robust back-end architectures. My experience spans \" +\n      \"various domains, from interactive media to data visualization systems.\"\n    );\n  }, [person.experience, renderSectionContent]);\n\n  const renderProjectsSection = useCallback(() => {\n    if (person.projects) {\n      return person.projects.map((item, projIdx) => (\n        renderSectionContent(item.content)\n      ));\n    }\n    \n    return null;\n  }, [person.projects, renderSectionContent]);\n\n  // Main section renderer - unified logic for any section type\n  const renderSection = useCallback((section) => {\n    if (section.content) {\n      return renderSectionContent(section.content);\n    }\n    \n    switch (section.id) {\n      case 'about':\n        return renderAboutSection();\n      case 'experience':\n        return renderExperienceSection();\n      case 'projects':\n        return renderProjectsSection();\n      default:\n        return null;\n    }\n  }, [renderSectionContent, renderAboutSection, renderExperienceSection, renderProjectsSection]);\n\n  return (\n    <>\n      {/* Mobile navigation */}\n      {renderMobileNav()}\n      \n      <motion.div \n        ref={refs.container}\n        className=\"profile-container\"\n        initial={{ opacity: 0, y: animationConfig?.initialY ?? 30 }}\n        animate={controls}\n        style={{\n          display: 'flex',\n          flexDirection: isMobile ? 'column' : 'row',\n          width: '100%',\n          maxWidth: '1300px',\n          margin: '0 auto',\n          minHeight: isMobile ? 'auto' : '70vh',\n          position: 'relative',\n          paddingTop: isMobile ? '80px' : 0, // Add padding for fixed mobile nav\n        }}\n      >\n        {/* Left sidebar wrapper - desktop only */}\n        {!isMobile && (\n          <div \n            ref={refs.sidebarWrapper}\n            className=\"sidebar-wrapper\"\n            style={{\n              width: `${layoutValues.sidebarWidth}%`,\n              position: 'relative',\n            }}\n          >\n            {/* Profile sidebar */}\n            <div \n              ref={refs.sidebar}\n              className=\"profile-sidebar\"\n              style={{\n                padding: '3rem 2rem 2rem 0',\n                display: 'flex',\n                flexDirection: 'column',\n                width: '100%',\n                position: 'relative',\n                top: 0,\n              }}\n            >\n              {renderProfileInfo()}\n              {renderNavLinks()}\n            </div>\n          </div>\n        )}\n        \n        {/* Profile Info for mobile */}\n        {isMobile && renderProfileInfo()}\n        \n        {/* Right content section */}\n        <div \n          ref={refs.content}\n          className=\"content-section\"\n          style={{\n            width: isMobile ? '100%' : `${layoutValues.contentWidth}%`,\n            padding: isMobile \n              ? '2rem 1.5rem' \n              : `3rem 0 2rem ${layoutValues.contentPadding}rem`,\n            marginLeft: isMobile ? 0 : 'auto',\n          }}\n        >\n          {/* Render sections based on navigationItems */}\n          {navigationItems.map((section, index) => {\n            if (index >= refs.sections.length) return null;\n            \n            return (\n              <div \n                key={section.id}\n                ref={refs.sections[index]}\n                data-section={section.id}\n                className=\"section\"\n                id={section.id}\n                style={{\n                  marginBottom: '3rem',\n                  scrollMarginTop: isMobile ? '80px' : '2rem',\n                }}\n              >\n                {renderSection(section)}\n              </div>\n            );\n          })}\n          \n          {/* Additional sections */}\n          {additionalSections.map((section, index) => (\n            <div \n              key={`additional-${index}`}\n              className=\"section\"\n              style={{\n                marginBottom: '3rem',\n                scrollMarginTop: isMobile ? '80px' : '2rem',\n              }}\n            >\n              {section.title && (\n                <h3 style={{\n                  fontSize: '1.4rem',\n                  color: highlightColor,\n                  marginBottom: '1rem',\n                  fontWeight: '300',\n                }}>\n                  {section.title}\n                </h3>\n              )}\n              {renderSectionContent(section.content)}\n            </div>\n          ))}\n        </div>\n      </motion.div>\n    </>\n  );\n};\n\n// Using memo to prevent unnecessary re-renders\nexport default React.memo(PersonProfileCard);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
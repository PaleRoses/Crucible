{"ast":null,"code":"var _jsxFileName = \"/home/valeria/Documents/Crucible/frontend/src/components/core/effects/ScrollingTextAnimation.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport { motion, useScroll, useTransform } from 'framer-motion';\nimport { createUseStyles } from 'react-jss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = createUseStyles({\n  animatedContainer: {\n    position: 'relative',\n    width: '100%',\n    textAlign: props => props.textAlign || 'center',\n    margin: props => props.margin || '0 0 3rem 0',\n    zIndex: 2,\n    // Simplified GPU optimization - only what's needed\n    willChange: 'transform, opacity'\n  },\n  content: {\n    width: '100%'\n  },\n  divider: props => ({\n    width: props.dividerWidth || '150px',\n    height: props.dividerHeight || '1px',\n    background: props.dividerBackground || 'linear-gradient(to right, rgba(160, 142, 97, 0), rgba(160, 142, 97, 0.6), rgba(160, 142, 97, 0))',\n    margin: props.dividerMargin || '1rem auto',\n    display: props.showDivider ? 'block' : 'none'\n  })\n});\n\n/**\n * ScrollingTextAnimation Component\n * \n * A streamlined, high-performance scroll animation component\n * that prioritizes smoothness across all devices.\n */\nconst ScrollingTextAnimation = ({\n  children,\n  scrollConfig = {},\n  textAlign = 'center',\n  margin = '0 0 3rem 0',\n  showDivider = true,\n  dividerWidth = '150px',\n  dividerHeight = '1px',\n  dividerBackground,\n  dividerMargin = '1rem auto',\n  style = {},\n  className = ''\n}) => {\n  _s();\n  // Simplified configuration with smart defaults\n  const {\n    startPosition = 0,\n    endPosition = 300,\n    initialY = -100,\n    finalY = 0,\n    reverseDirection = false,\n    opacityMax = 1,\n    opacityMin = 0.3\n  } = scrollConfig;\n  const containerRef = useRef(null);\n\n  // Simplified scroll handling with performance optimization\n  const {\n    scrollYProgress\n  } = useScroll({\n    target: containerRef,\n    offset: [\"start end\", \"end start\"]\n  });\n\n  // Calculate y-position based on scroll progress\n  const yRange = reverseDirection ? [finalY, initialY] : [initialY, finalY];\n  const y = useTransform(scrollYProgress, [0, 1], yRange);\n\n  // Simplified opacity transform\n  const opacity = useTransform(scrollYProgress, [0, 0.2, 1], [opacityMin, opacityMax, opacityMax]);\n\n  // Handle reduced motion preference with pure CSS\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n    if (mediaQuery.matches) {\n      document.documentElement.style.setProperty('--scroll-animation-enabled', 'none');\n    } else {\n      document.documentElement.style.setProperty('--scroll-animation-enabled', 'transform');\n    }\n  }, []);\n\n  // Memoize style props to prevent recalculations\n  const styleProps = useMemo(() => ({\n    textAlign,\n    margin,\n    showDivider,\n    dividerWidth,\n    dividerHeight,\n    dividerBackground,\n    dividerMargin\n  }), [textAlign, margin, showDivider, dividerWidth, dividerHeight, dividerBackground, dividerMargin]);\n  const classes = useStyles(styleProps);\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    ref: containerRef,\n    className: `${classes.animatedContainer} ${className}`,\n    style: {\n      ...style\n    },\n    initial: {\n      y: reverseDirection ? finalY : initialY,\n      opacity: opacityMin\n    },\n    animate: {\n      y,\n      opacity\n    }\n    // Remove transition property - let the scroll controls handle timing\n    ,\n    transition: {\n      type: false\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.content,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), showDivider && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.divider\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n\n// Wrap with memo to prevent unnecessary re-renders\n_s(ScrollingTextAnimation, \"X0HZCRPA3bOD4GcLr+yvXH/JD1A=\", false, function () {\n  return [useScroll, useTransform, useTransform, useStyles];\n});\n_c = ScrollingTextAnimation;\nexport default _c2 = /*#__PURE__*/React.memo(ScrollingTextAnimation);\nvar _c, _c2;\n$RefreshReg$(_c, \"ScrollingTextAnimation\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useRef","useEffect","useMemo","motion","useScroll","useTransform","createUseStyles","jsxDEV","_jsxDEV","useStyles","animatedContainer","position","width","textAlign","props","margin","zIndex","willChange","content","divider","dividerWidth","height","dividerHeight","background","dividerBackground","dividerMargin","display","showDivider","ScrollingTextAnimation","children","scrollConfig","style","className","_s","startPosition","endPosition","initialY","finalY","reverseDirection","opacityMax","opacityMin","containerRef","scrollYProgress","target","offset","yRange","y","opacity","window","mediaQuery","matchMedia","matches","document","documentElement","setProperty","styleProps","classes","div","ref","initial","animate","transition","type","fileName","_jsxFileName","lineNumber","columnNumber","_c","_c2","memo","$RefreshReg$"],"sources":["/home/valeria/Documents/Crucible/frontend/src/components/core/effects/ScrollingTextAnimation.jsx"],"sourcesContent":["import React, { useRef, useEffect, useMemo } from 'react';\nimport { motion, useScroll, useTransform } from 'framer-motion';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  animatedContainer: {\n    position: 'relative',\n    width: '100%',\n    textAlign: props => props.textAlign || 'center',\n    margin: props => props.margin || '0 0 3rem 0',\n    zIndex: 2,\n    // Simplified GPU optimization - only what's needed\n    willChange: 'transform, opacity',\n  },\n  content: {\n    width: '100%',\n  },\n  divider: props => ({\n    width: props.dividerWidth || '150px',\n    height: props.dividerHeight || '1px',\n    background: props.dividerBackground || 'linear-gradient(to right, rgba(160, 142, 97, 0), rgba(160, 142, 97, 0.6), rgba(160, 142, 97, 0))',\n    margin: props.dividerMargin || '1rem auto',\n    display: props.showDivider ? 'block' : 'none'\n  })\n});\n\n/**\n * ScrollingTextAnimation Component\n * \n * A streamlined, high-performance scroll animation component\n * that prioritizes smoothness across all devices.\n */\nconst ScrollingTextAnimation = ({\n  children,\n  scrollConfig = {},\n  textAlign = 'center',\n  margin = '0 0 3rem 0',\n  showDivider = true,\n  dividerWidth = '150px',\n  dividerHeight = '1px',\n  dividerBackground,\n  dividerMargin = '1rem auto',\n  style = {},\n  className = ''\n}) => {\n  // Simplified configuration with smart defaults\n  const {\n    startPosition = 0,\n    endPosition = 300,\n    initialY = -100,\n    finalY = 0,\n    reverseDirection = false,\n    opacityMax = 1,\n    opacityMin = 0.3\n  } = scrollConfig;\n\n  const containerRef = useRef(null);\n  \n  // Simplified scroll handling with performance optimization\n  const { scrollYProgress } = useScroll({\n    target: containerRef,\n    offset: [\"start end\", \"end start\"]\n  });\n  \n  // Calculate y-position based on scroll progress\n  const yRange = reverseDirection ? [finalY, initialY] : [initialY, finalY];\n  const y = useTransform(scrollYProgress, [0, 1], yRange);\n  \n  // Simplified opacity transform\n  const opacity = useTransform(\n    scrollYProgress, \n    [0, 0.2, 1], \n    [opacityMin, opacityMax, opacityMax]\n  );\n  \n  // Handle reduced motion preference with pure CSS\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    \n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n    if (mediaQuery.matches) {\n      document.documentElement.style.setProperty('--scroll-animation-enabled', 'none');\n    } else {\n      document.documentElement.style.setProperty('--scroll-animation-enabled', 'transform');\n    }\n  }, []);\n  \n  // Memoize style props to prevent recalculations\n  const styleProps = useMemo(() => ({\n    textAlign,\n    margin,\n    showDivider,\n    dividerWidth,\n    dividerHeight,\n    dividerBackground,\n    dividerMargin\n  }), [textAlign, margin, showDivider, dividerWidth, dividerHeight, dividerBackground, dividerMargin]);\n  \n  const classes = useStyles(styleProps);\n\n  return (\n    <motion.div \n      ref={containerRef}\n      className={`${classes.animatedContainer} ${className}`}\n      style={{ \n        ...style,\n      }}\n      initial={{ y: reverseDirection ? finalY : initialY, opacity: opacityMin }}\n      animate={{ y, opacity }}\n      // Remove transition property - let the scroll controls handle timing\n      transition={{ \n        type: false\n      }}\n    >\n      <div className={classes.content}>\n        {children}\n      </div>\n      {showDivider && <div className={classes.divider} />}\n    </motion.div>\n  );\n};\n\n// Wrap with memo to prevent unnecessary re-renders\nexport default React.memo(ScrollingTextAnimation);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
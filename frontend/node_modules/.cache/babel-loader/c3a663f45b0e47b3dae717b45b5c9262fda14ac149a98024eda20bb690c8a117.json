{"ast":null,"code":"var _jsxFileName = \"/home/valeria/Documents/Crucible/frontend/src/components/core/effects/holdereffects/PersonProfileCard.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useRef, useState, useEffect, useCallback, useMemo } from 'react';\nimport { motion, useInView, useAnimation } from 'framer-motion';\nimport styled from 'styled-components';\n\n// Styled Components\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled(motion.div)`\n  display: flex;\n  flex-direction: ${props => props.isMobile ? 'column' : 'row'};\n  width: 100%;\n  max-width: 1300px;\n  margin: 0 auto;\n  min-height: ${props => props.isMobile ? 'auto' : '70vh'};\n  position: relative;\n  padding-top: ${props => props.isMobile ? '80px' : '0'};\n`;\n_c = Container;\nconst SidebarWrapper = styled.div`\n  width: ${props => `${props.width}%`};\n  position: relative;\n`;\n_c2 = SidebarWrapper;\nconst Sidebar = styled.div`\n  padding: 3rem 2rem 2rem 0;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  position: relative;\n  top: 0;\n`;\n_c3 = Sidebar;\nconst ContentSection = styled.div`\n  width: ${props => props.isMobile ? '100%' : `${props.width}%`};\n  padding: ${props => props.isMobile ? '2rem 1.5rem' : `3rem 0 2rem ${props.contentPadding}rem`};\n  margin-left: ${props => props.isMobile ? '0' : 'auto'};\n`;\n_c4 = ContentSection;\nconst Section = styled.div`\n  margin-bottom: 3rem;\n  scroll-margin-top: ${props => props.isMobile ? '80px' : '2rem'};\n`;\n_c5 = Section;\nconst SectionTitle = styled.h3`\n  font-size: 1.4rem;\n  color: ${props => props.highlightColor};\n  margin-bottom: 1rem;\n  font-weight: 300;\n`;\n_c6 = SectionTitle;\nconst ProfileInfoContainer = styled.div`\n  margin-bottom: 2rem;\n  padding-left: 5px;\n  text-align: ${props => props.isMobile ? 'center' : 'left'};\n  width: 100%;\n`;\n_c7 = ProfileInfoContainer;\nconst ProfileName = styled.h1`\n  font-weight: 300;\n  letter-spacing: 0.05em;\n  margin-bottom: 0.5rem;\n  font-size: ${props => props.isMobile ? '2.2rem' : '2.8rem'};\n  color: ${props => props.highlightColor};\n`;\n_c8 = ProfileName;\nconst ProfileRole = styled.h2`\n  font-weight: 300;\n  margin-bottom: 2rem;\n  letter-spacing: 0.05em;\n  font-style: italic;\n  font-size: ${props => props.isMobile ? '1.1rem' : '1.2rem'};\n  color: ${props => props.color};\n  font-family: ${props => props.fontFamily};\n`;\n_c9 = ProfileRole;\nconst ProfileTagline = styled.p`\n  line-height: 1.6;\n  margin-bottom: 3rem;\n  font-weight: 300;\n  font-size: 1.1rem;\n  max-width: ${props => props.isMobile ? '100%' : '90%'};\n  color: ${props => props.color};\n  font-family: ${props => props.fontFamily};\n`;\n_c10 = ProfileTagline;\nconst NavLinks = styled.div`\n  margin-top: 3rem;\n`;\n_c11 = NavLinks;\nconst NavLinkContainer = styled.div`\n  position: relative;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n`;\n_c12 = NavLinkContainer;\nconst NavLine = styled.div`\n  position: absolute;\n  left: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 0.75px;\n  width: ${props => props.expanded ? `${props.maxWidth}px` : `${props.minWidth}px`};\n  background-color: ${props => props.expanded ? props.activeColor : props.inactiveColor};\n  transition: width 0.3s ease, background-color 0.3s ease;\n`;\n_c13 = NavLine;\nconst NavButton = styled.button`\n  position: relative;\n  display: block;\n  padding: 0.5rem 0 0.5rem 40px;\n  font-size: 0.85rem;\n  letter-spacing: 0.1em;\n  background: transparent;\n  border: none;\n  text-align: left;\n  outline: none;\n  box-shadow: none;\n  transition: color 0.5s ease, transform 0.5s ease;\n  cursor: pointer;\n  width: fit-content;\n  color: ${props => props.active ? props.activeColor : props.inactiveColor};\n  transform: ${props => props.active ? 'translateX(10px)' : 'none'};\n`;\n_c14 = NavButton;\nconst MobileNav = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 100;\n  backdrop-filter: blur(10px);\n  transition: all 0.3s ease;\n  padding: 0.75rem 1rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  transform: ${props => props.visible ? 'translateY(0)' : 'translateY(-100%)'};\n  opacity: ${props => props.visible ? 1 : 0};\n`;\n_c15 = MobileNav;\nconst MobileNavItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n_c16 = MobileNavItem;\nconst MobileNavButton = styled.button`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0.5rem;\n  outline: none;\n`;\n_c17 = MobileNavButton;\nconst MobileNavLine = styled.div`\n  width: ${props => props.active ? `${props.maxWidth}px` : `${props.minWidth}px`};\n  height: 2px;\n  background-color: ${props => props.active ? props.activeColor : props.inactiveColor};\n  transition: width 0.3s ease, background-color 0.3s ease;\n  margin-bottom: 0.5rem;\n`;\n_c18 = MobileNavLine;\nconst MobileNavLabel = styled.div`\n  font-size: 0.75rem;\n  color: ${props => props.active ? props.activeColor : props.inactiveColor};\n  letter-spacing: 0.1em;\n  transition: color 0.3s ease;\n`;\n_c19 = MobileNavLabel;\nconst StatsContainer = styled.div`\n  display: flex;\n  justify-content: ${props => props.isMobile ? 'center' : 'space-between'};\n  flex-wrap: wrap;\n  margin-top: 3rem;\n  width: 100%;\n  gap: ${props => props.isMobile ? '2rem' : '0'};\n`;\n_c20 = StatsContainer;\nconst StatItem = styled.div`\n  flex: ${props => props.isMobile ? '0 0 auto' : '1'};\n  text-align: center;\n  padding: 0 1rem;\n  min-width: ${props => props.isMobile ? '140px' : '100px'};\n  transition: transform 0.3s ease;\n  transform: ${props => props.isHovering ? 'translateY(-5px)' : 'none'};\n`;\n_c21 = StatItem;\nconst StatValue = styled.div`\n  font-size: ${props => props.isMobile ? '2.2rem' : '2.5rem'};\n  font-weight: 100;\n  color: ${props => props.color};\n  margin-bottom: 0.5rem;\n`;\n_c22 = StatValue;\nconst StatLabel = styled.div`\n  font-size: 0.85rem;\n  color: ${props => props.color};\n  text-transform: uppercase;\n  letter-spacing: 0.1em;\n`;\n_c23 = StatLabel;\nconst SectionContent = styled.p`\n  line-height: 1.8;\n  margin-bottom: 1.5rem;\n  font-weight: 300;\n  font-size: 1rem;\n  color: ${props => props.color};\n  font-family: ${props => props.fontFamily};\n`;\n\n// Component for ProfileInfo\n_c24 = SectionContent;\nconst ProfileInfo = /*#__PURE__*/React.memo(_c25 = ({\n  person,\n  isMobile,\n  highlightColor,\n  textColor,\n  fontFamily\n}) => {\n  return /*#__PURE__*/_jsxDEV(ProfileInfoContainer, {\n    isMobile: isMobile,\n    children: [/*#__PURE__*/_jsxDEV(ProfileName, {\n      isMobile: isMobile,\n      highlightColor: highlightColor,\n      children: person.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProfileRole, {\n      isMobile: isMobile,\n      color: `${highlightColor}B3`,\n      fontFamily: fontFamily,\n      children: person.role\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), person.tagline && /*#__PURE__*/_jsxDEV(ProfileTagline, {\n      isMobile: isMobile,\n      color: textColor,\n      fontFamily: fontFamily,\n      children: person.tagline\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n});\n\n// Component for MobileNavItem\n_c26 = ProfileInfo;\nconst MobileNavItemComponent = /*#__PURE__*/React.memo(_c27 = ({\n  navItem,\n  activeSection,\n  highlightColor,\n  textColor,\n  minLineWidth,\n  maxLineWidth\n}) => {\n  return /*#__PURE__*/_jsxDEV(MobileNavItem, {\n    children: /*#__PURE__*/_jsxDEV(MobileNavButton, {\n      \"data-section-id\": navItem.id,\n      children: [/*#__PURE__*/_jsxDEV(MobileNavLine, {\n        active: activeSection === navItem.id,\n        activeColor: highlightColor,\n        inactiveColor: `${highlightColor}80`,\n        minWidth: minLineWidth,\n        maxWidth: maxLineWidth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MobileNavLabel, {\n        active: activeSection === navItem.id,\n        activeColor: highlightColor,\n        inactiveColor: textColor,\n        children: navItem.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 5\n  }, this);\n});\n\n// Component for NavLink\n_c28 = MobileNavItemComponent;\nconst NavLinkComponent = /*#__PURE__*/React.memo(_c29 = ({\n  navItem,\n  activeSection,\n  expandedNavItem,\n  onMouseEnter,\n  onMouseLeave,\n  highlightColor,\n  textColor,\n  minLineWidth,\n  maxLineWidth\n}) => {\n  const isActive = activeSection === navItem.id || expandedNavItem === navItem.id;\n  return /*#__PURE__*/_jsxDEV(NavLinkContainer, {\n    \"data-section-id\": navItem.id,\n    onMouseEnter: () => onMouseEnter(navItem.id),\n    onMouseLeave: onMouseLeave,\n    children: [/*#__PURE__*/_jsxDEV(NavLine, {\n      expanded: isActive,\n      activeColor: `${highlightColor}E6`,\n      inactiveColor: `${highlightColor}80`,\n      minWidth: minLineWidth,\n      maxWidth: maxLineWidth\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavButton, {\n      active: isActive,\n      activeColor: highlightColor,\n      inactiveColor: textColor,\n      children: navItem.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 5\n  }, this);\n});\n\n// Component for StatItem\n_c30 = NavLinkComponent;\nconst StatItemComponent = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c31 = _s(({\n  stat,\n  isMobile,\n  highlightColor,\n  textColor\n}) => {\n  _s();\n  const [isHovering, setIsHovering] = useState(false);\n  const handleMouseEnter = () => {\n    if (!isMobile) {\n      setIsHovering(true);\n    }\n  };\n  const handleMouseLeave = () => {\n    if (!isMobile) {\n      setIsHovering(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(StatItem, {\n    isMobile: isMobile,\n    isHovering: isHovering,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    children: [/*#__PURE__*/_jsxDEV(StatValue, {\n      isMobile: isMobile,\n      color: highlightColor,\n      children: stat.value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n      color: `${textColor}CC`,\n      children: stat.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 344,\n    columnNumber: 5\n  }, this);\n}, \"N3N70ybifgF8Rh1duhSAoiTR/LI=\")), \"N3N70ybifgF8Rh1duhSAoiTR/LI=\");\n\n// Component for SectionContent\n_c32 = StatItemComponent;\nconst SectionContentComponent = /*#__PURE__*/React.memo(_c33 = ({\n  content,\n  textColor,\n  fontFamily\n}) => {\n  if (!content) return null;\n  if (typeof content === 'string') {\n    return /*#__PURE__*/_jsxDEV(SectionContent, {\n      color: textColor,\n      fontFamily: fontFamily,\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this);\n  }\n  return content;\n});\n\n/**\n * PersonProfileCard Component - Optimized Version with CSS-in-JS\n * \n * A profile card with a three-phase scroll behavior:\n * 1. Normal Flow: Initially scrolls with the page\n * 2. Fixed Position: Sticks to viewport when scrolling through content\n * 3. Release: Returns to normal flow after scrolling past component\n * \n * Mobile improvements:\n * - Navigation bar moves to top of screen\n * - Content spans full width for better readability\n * - Simplified navigation display\n * \n * Performance optimizations:\n * - Event delegation for navigation\n * - Extracted memoized child components\n * - Throttled scroll handlers\n * - ResizeObserver instead of window resize events\n * - Minimized style recalculations\n * - CSS-in-JS for better style organization\n */\n_c34 = SectionContentComponent;\nconst PersonProfileCard = ({\n  person,\n  animationConfig = {\n    threshold: 0.2,\n    once: true,\n    initialY: 30,\n    duration: 0.8\n  },\n  additionalSections = [],\n  onSectionChange = null,\n  topOffset = 100,\n  showStats = true,\n  highlightColor = '#bfad7f',\n  textColor = 'rgba(224, 224, 224, 0.7)',\n  minLineWidth = 10,\n  maxLineWidth = 40,\n  fontFamily = '\"Garamond\", \"Adobe Caslon Pro\", serif',\n  navigationItems = [{\n    id: 'about',\n    label: 'ABOUT',\n    content: null\n  }, {\n    id: 'experience',\n    label: 'EXPERIENCE',\n    content: null\n  }, {\n    id: 'projects',\n    label: 'PROJECTS',\n    content: null\n  }],\n  contentCompression = 0\n}) => {\n  _s2();\n  var _navigationItems$, _animationConfig$thre, _animationConfig$once, _animationConfig$init;\n  // State management\n  const [activeSection, setActiveSection] = useState(((_navigationItems$ = navigationItems[0]) === null || _navigationItems$ === void 0 ? void 0 : _navigationItems$.id) || 'about');\n  const [expandedNavItem, setExpandedNavItem] = useState(null);\n  const [sidebarMode, setSidebarMode] = useState('normal'); // 'normal', 'fixed', or 'end'\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [mobileNavVisible, setMobileNavVisible] = useState(false);\n  const [lastScrollY, setLastScrollY] = useState(0);\n\n  // Create individual refs at the top level of the component\n  const containerRef = useRef(null);\n  const sidebarRef = useRef(null);\n  const contentRef = useRef(null);\n  const sidebarWrapperRef = useRef(null);\n  const mobileNavRef = useRef(null);\n  const navLinksRef = useRef(null);\n\n  // Create individual section refs\n  const section0Ref = useRef(null);\n  const section1Ref = useRef(null);\n  const section2Ref = useRef(null);\n  const section3Ref = useRef(null);\n  const section4Ref = useRef(null);\n  const section5Ref = useRef(null);\n  const section6Ref = useRef(null);\n  const section7Ref = useRef(null);\n\n  // Animation controls\n  const controls = useAnimation();\n\n  // Memoize the array of section refs so it's stable across renders\n  const sectionRefs = useMemo(() => [section0Ref, section1Ref, section2Ref, section3Ref, section4Ref, section5Ref, section6Ref, section7Ref], []);\n\n  // Memoize the section refs map to avoid recreating on every render\n  const sectionRefsMap = useMemo(() => {\n    const refsMap = {};\n    navigationItems.forEach((item, index) => {\n      if (index < sectionRefs.length) {\n        refsMap[item.id] = sectionRefs[index];\n      }\n    });\n    return refsMap;\n  }, [navigationItems, sectionRefs]);\n\n  // Memoize calculation of compression-based values\n  const layoutValues = useMemo(() => {\n    const compressionFactor = Math.min(Math.max(contentCompression, 0), 10) / 10;\n    return {\n      sidebarWidth: 45 - compressionFactor * 5,\n      // 35-40% range\n      contentWidth: 55 - compressionFactor * 5,\n      // 55-60% range\n      contentPadding: 2 + compressionFactor * 2 // 2-4rem range\n    };\n  }, [contentCompression]);\n\n  // Animation inView detection\n  const isInView = useInView(containerRef, {\n    threshold: (_animationConfig$thre = animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.threshold) !== null && _animationConfig$thre !== void 0 ? _animationConfig$thre : 0.2,\n    once: (_animationConfig$once = animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.once) !== null && _animationConfig$once !== void 0 ? _animationConfig$once : true\n  });\n\n  // Memoized function for checking if we're on mobile\n  const checkMobile = useCallback(() => {\n    setIsMobile(window.innerWidth <= 768);\n  }, []);\n\n  // Scroll to section handler - memoized with dependencies\n  const scrollToSection = useCallback(sectionId => {\n    setActiveSection(sectionId);\n    if (onSectionChange) {\n      onSectionChange(sectionId);\n    }\n    const sectionRef = sectionRefsMap[sectionId];\n    if (sectionRef !== null && sectionRef !== void 0 && sectionRef.current) {\n      // Use different scroll methods for mobile vs desktop\n      if (isMobile) {\n        // For mobile, calculate position and use window.scrollTo\n        const offsetTop = sectionRef.current.getBoundingClientRect().top + window.pageYOffset;\n        const mobileNavHeight = mobileNavRef.current ? mobileNavRef.current.offsetHeight : 0;\n        window.scrollTo({\n          top: offsetTop - mobileNavHeight - 20,\n          // Additional offset for spacing\n          behavior: 'smooth'\n        });\n      } else {\n        // For desktop, use the original scrollIntoView method\n        sectionRef.current.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start'\n        });\n      }\n    }\n  }, [onSectionChange, sectionRefsMap, isMobile, mobileNavRef]);\n\n  // Event delegation for all navigation items\n  const handleNavEvent = useCallback(e => {\n    const target = e.target.closest('[data-section-id]');\n    if (target) {\n      const sectionId = target.getAttribute('data-section-id');\n      if (sectionId) {\n        e.preventDefault();\n        scrollToSection(sectionId);\n      }\n    }\n  }, [scrollToSection]);\n\n  // Navigation item hover handlers - memoized to prevent recreation on every render\n  const handleNavItemHover = useCallback(section => {\n    if (!isMobile) {\n      setExpandedNavItem(section);\n    }\n  }, [isMobile]);\n  const handleNavItemLeave = useCallback(() => {\n    if (!isMobile) {\n      setExpandedNavItem(null);\n    }\n  }, [isMobile]);\n\n  // Check mobile on mount and window resize\n  useEffect(() => {\n    // Initial check\n    checkMobile();\n\n    // Add resize event listener\n    window.addEventListener('resize', checkMobile);\n    return () => {\n      window.removeEventListener('resize', checkMobile);\n    };\n  }, [checkMobile]);\n\n  // Set up event delegation for navigation\n  useEffect(() => {\n    // Store current ref values at the time the effect runs\n    const mobileNavElement = mobileNavRef.current;\n    const navLinksElement = navLinksRef.current;\n\n    // Add click event listeners with event delegation\n    if (mobileNavElement) {\n      mobileNavElement.addEventListener('click', handleNavEvent);\n    }\n    if (navLinksElement) {\n      navLinksElement.addEventListener('click', handleNavEvent);\n    }\n    return () => {\n      if (mobileNavElement) {\n        mobileNavElement.removeEventListener('click', handleNavEvent);\n      }\n      if (navLinksElement) {\n        navLinksElement.removeEventListener('click', handleNavEvent);\n      }\n    };\n  }, [handleNavEvent]);\n\n  // Initial animation effect\n  useEffect(() => {\n    if (isInView) {\n      var _animationConfig$dura, _animationConfig$dura2;\n      controls.start({\n        opacity: 1,\n        y: 0,\n        transition: {\n          duration: (_animationConfig$dura = animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.duration) !== null && _animationConfig$dura !== void 0 ? _animationConfig$dura : 0.8,\n          ease: \"easeOut\",\n          delay: 0.1 // Small delay to ensure DOM is settled\n        }\n      });\n\n      // Mark as initialized after animation completes\n      const timeout = setTimeout(() => {\n        setIsInitialized(true);\n      }, ((_animationConfig$dura2 = animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.duration) !== null && _animationConfig$dura2 !== void 0 ? _animationConfig$dura2 : 0.8) * 1000 + 100);\n      return () => clearTimeout(timeout);\n    }\n  }, [isInView, controls, animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.duration]);\n\n  // Set up intersection observer for section detection - optimized with proper dependencies\n  useEffect(() => {\n    const sectionElements = Object.values(sectionRefsMap).map(ref => ref.current).filter(Boolean);\n    if (sectionElements.length === 0) return;\n\n    // Different margins for mobile and desktop to account for different layouts\n    const options = {\n      root: null,\n      rootMargin: isMobile ? '-80px 0px -70% 0px' // For mobile with fixed nav\n      : '-10% 0px -70% 0px',\n      // For desktop\n      threshold: [0, 0.25, 0.5, 0.75] // Multiple thresholds for smoother transitions\n    };\n    const callback = entries => {\n      // Find the most visible section\n      const visibleEntries = entries.filter(entry => entry.isIntersecting);\n      if (visibleEntries.length > 0) {\n        // Sort by visibility ratio, highest first\n        visibleEntries.sort((a, b) => b.intersectionRatio - a.intersectionRatio);\n        const topEntry = visibleEntries[0];\n        const sectionId = topEntry.target.getAttribute('data-section');\n        if (sectionId && sectionId !== activeSection) {\n          setActiveSection(sectionId);\n          if (onSectionChange) {\n            onSectionChange(sectionId);\n          }\n        }\n      }\n    };\n    const observer = new IntersectionObserver(callback, options);\n    sectionElements.forEach(element => observer.observe(element));\n    return () => observer.disconnect();\n  }, [activeSection, onSectionChange, sectionRefsMap, isMobile]);\n\n  // Implement scroll behavior for desktop - optimized to fix positioning bugs\n  useEffect(() => {\n    if (!isInitialized || !containerRef.current || !sidebarRef.current || !sidebarWrapperRef.current || isMobile) {\n      return;\n    }\n    const container = containerRef.current;\n    const sidebar = sidebarRef.current;\n    const sidebarWrapper = sidebarWrapperRef.current;\n\n    // Add will-change to hint browser about upcoming transforms\n    sidebar.style.willChange = 'position, top, left, width, bottom';\n\n    // Create a single measurements object that persists between scroll events\n    let measurements = {\n      containerRect: null,\n      wrapperRect: null,\n      sidebarHeight: null,\n      windowHeight: window.innerHeight,\n      lastScrollY: window.scrollY,\n      scrollDirection: 'none' // Track scroll direction\n    };\n\n    // More comprehensive measurement update function\n    const updateMeasurements = (force = false) => {\n      // Track scroll direction\n      const currentScrollY = window.scrollY;\n      measurements.scrollDirection = currentScrollY < measurements.lastScrollY ? 'up' : currentScrollY > measurements.lastScrollY ? 'down' : 'none';\n      measurements.lastScrollY = currentScrollY;\n\n      // Only update expensive DOM measurements when necessary or forced\n      if (force || !measurements.containerRect || !measurements.wrapperRect) {\n        measurements.containerRect = container.getBoundingClientRect();\n        measurements.wrapperRect = sidebarWrapper.getBoundingClientRect();\n        measurements.sidebarHeight = sidebar.offsetHeight;\n        measurements.windowHeight = window.innerHeight;\n      } else {\n        // For better performance, just update top position based on scroll delta\n        const oldTop = measurements.containerRect.top;\n        const scrollDelta = measurements.lastScrollY - currentScrollY;\n        measurements.containerRect = {\n          ...measurements.containerRect,\n          top: oldTop + scrollDelta,\n          bottom: measurements.containerRect.bottom + scrollDelta\n        };\n      }\n    };\n\n    // Initial measurements\n    updateMeasurements(true);\n\n    // Improved state determination with better boundary logic\n    const determineScrollPhase = () => {\n      const {\n        containerRect,\n        sidebarHeight,\n        scrollDirection\n      } = measurements;\n\n      // Phase transition points with additional buffer for smoother transitions\n      const startFixPoint = containerRect.top <= topOffset + 2;\n      const endFixPoint = containerRect.bottom <= sidebarHeight + topOffset + 2;\n\n      // Add hysteresis to prevent flickering at transition boundaries\n      // Apply different thresholds based on scroll direction\n      if (scrollDirection === 'up') {\n        // When scrolling up, make it slightly harder to transition to previous state\n        if (sidebarMode === 'end' && !endFixPoint) {\n          return 'fixed';\n        } else if (sidebarMode === 'fixed' && containerRect.top > topOffset + 10) {\n          return 'normal';\n        }\n      } else if (scrollDirection === 'down') {\n        // When scrolling down, make transitions cleaner\n        if (!startFixPoint) {\n          return 'normal';\n        } else if (startFixPoint && !endFixPoint) {\n          return 'fixed';\n        } else {\n          return 'end';\n        }\n      }\n\n      // Default state determination\n      if (!startFixPoint) {\n        return 'normal';\n      } else if (startFixPoint && !endFixPoint) {\n        return 'fixed';\n      } else {\n        return 'end';\n      }\n    };\n\n    // Apply styles based on mode with enhanced position validation\n    const applyStyles = mode => {\n      // Double-check measurements before applying styles\n      if (mode === 'fixed') {\n        // Ensure we have fresh measurements for fixed positioning\n        const wrapperRect = sidebarWrapper.getBoundingClientRect();\n        sidebar.style.position = 'fixed';\n        sidebar.style.top = `${topOffset}px`;\n        sidebar.style.width = `${wrapperRect.width}px`;\n        sidebar.style.left = `${wrapperRect.left}px`;\n        sidebar.style.bottom = '';\n      } else if (mode === 'end') {\n        sidebar.style.position = 'absolute';\n        sidebar.style.top = 'auto';\n        sidebar.style.bottom = '0';\n        sidebar.style.left = '0';\n        sidebar.style.width = '';\n      } else {\n        // 'normal'\n        sidebar.style.position = 'relative';\n        sidebar.style.top = '0';\n        sidebar.style.left = '0';\n        sidebar.style.width = '';\n        sidebar.style.bottom = '';\n      }\n    };\n\n    // Enhanced scroll handler with better state management\n    const handleScroll = () => {\n      // Update measurements with the latest scroll information\n      updateMeasurements();\n\n      // Determine the appropriate mode based on scroll position and direction\n      const newMode = determineScrollPhase();\n\n      // Only update DOM and state if the mode is changing\n      if (sidebarMode !== newMode) {\n        setSidebarMode(newMode);\n\n        // Use RAF for style updates to sync with browser rendering\n        requestAnimationFrame(() => {\n          applyStyles(newMode);\n        });\n      }\n    };\n\n    // Modified throttling that prioritizes direction changes\n    let lastHandledScrollTime = 0;\n    let pendingScrollTimeout = null;\n    const THROTTLE_MS = 16; // ~60fps - more responsive\n    const IDLE_THRESHOLD_MS = 100; // Time to wait after scrolling stops\n\n    const scrollListener = () => {\n      const now = Date.now();\n      const timeSinceLastScroll = now - lastHandledScrollTime;\n\n      // Clear any pending timeouts\n      if (pendingScrollTimeout) {\n        clearTimeout(pendingScrollTimeout);\n      }\n\n      // Check if current scroll direction differs from last known direction\n      const currentScrollY = window.scrollY;\n      const currentDirection = currentScrollY < measurements.lastScrollY ? 'up' : currentScrollY > measurements.lastScrollY ? 'down' : 'none';\n      const isDirectionChange = currentDirection !== measurements.scrollDirection && currentDirection !== 'none';\n\n      // Handle immediately for direction changes or if throttle time has passed\n      if (isDirectionChange || timeSinceLastScroll > THROTTLE_MS) {\n        handleScroll();\n        lastHandledScrollTime = now;\n      } else {\n        // Schedule a final update after scrolling appears to have stopped\n        pendingScrollTimeout = setTimeout(() => {\n          // Force a measurement update to ensure accuracy\n          updateMeasurements(true);\n          handleScroll();\n        }, IDLE_THRESHOLD_MS);\n      }\n    };\n    window.addEventListener('scroll', scrollListener, {\n      passive: true\n    });\n\n    // Handle window resize with debouncing\n    let resizeTimeout = null;\n    const handleResize = () => {\n      // Skip for mobile\n      if (window.innerWidth <= 768) return;\n\n      // Clear any existing timeout\n      if (resizeTimeout) {\n        clearTimeout(resizeTimeout);\n      }\n\n      // Debounce the resize handler\n      resizeTimeout = setTimeout(() => {\n        // Force measurement update on resize\n        updateMeasurements(true);\n        handleScroll();\n      }, 100);\n    };\n\n    // Use ResizeObserver for container size changes\n    const resizeObserver = new ResizeObserver(() => {\n      if (window.innerWidth <= 768) return;\n      updateMeasurements(true);\n      handleScroll();\n    });\n    resizeObserver.observe(container);\n    window.addEventListener('resize', handleResize);\n\n    // Initial setup\n    handleScroll();\n    return () => {\n      window.removeEventListener('scroll', scrollListener);\n      window.removeEventListener('resize', handleResize);\n      resizeObserver.disconnect();\n      if (pendingScrollTimeout) {\n        clearTimeout(pendingScrollTimeout);\n      }\n      if (resizeTimeout) {\n        clearTimeout(resizeTimeout);\n      }\n\n      // Remove will-change to free up resources\n      sidebar.style.willChange = 'auto';\n    };\n  }, [isInitialized, topOffset, sidebarMode, isMobile, containerRef, sidebarRef, sidebarWrapperRef]);\n\n  // Mobile nav scroll behavior with auto-hide - optimized with throttling\n  useEffect(() => {\n    if (!isInitialized || !isMobile || !mobileNavRef.current) {\n      return;\n    }\n    const mobileNav = mobileNavRef.current;\n\n    // Add will-change to hint browser about transforms\n    mobileNav.style.willChange = 'transform, opacity, background-color';\n\n    // Optimized scroll handler for mobile nav\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY;\n\n      // Show navbar when scrolling up or at the top of the page\n      if (currentScrollY < lastScrollY || currentScrollY < 50) {\n        setMobileNavVisible(true);\n      } else {\n        // Hide navbar when scrolling down past the threshold\n        setMobileNavVisible(false);\n      }\n\n      // Update background opacity based on scroll position - one-time calculation\n      requestAnimationFrame(() => {\n        const bgOpacity = currentScrollY > 50 ? 0.95 : 0.7;\n        mobileNav.style.backgroundColor = `rgba(17, 17, 17, ${bgOpacity})`;\n        mobileNav.style.boxShadow = currentScrollY > 50 ? '0 2px 10px rgba(0, 0, 0, 0.1)' : 'none';\n      });\n\n      // Store current scroll position\n      setLastScrollY(currentScrollY);\n    };\n\n    // Throttled scroll event handling for better performance\n    let ticking = false;\n    let lastScrollTime = 0;\n    const THROTTLE_MS = 100; // Throttle to max 10 updates per second\n\n    const scrollListener = () => {\n      const now = Date.now();\n      if (!ticking && now - lastScrollTime > THROTTLE_MS) {\n        requestAnimationFrame(() => {\n          handleScroll();\n          ticking = false;\n          lastScrollTime = now;\n        });\n        ticking = true;\n      }\n    };\n    window.addEventListener('scroll', scrollListener, {\n      passive: true\n    });\n\n    // Initial state - initialize once\n    mobileNav.style.backgroundColor = 'rgba(17, 17, 17, 0.7)';\n    mobileNav.style.boxShadow = 'none';\n    return () => {\n      window.removeEventListener('scroll', scrollListener);\n      // Remove will-change to free up resources when not needed\n      mobileNav.style.willChange = 'auto';\n    };\n  }, [isInitialized, isMobile, lastScrollY, mobileNavRef]);\n\n  // Stats section - extracted and memoized\n  const renderStats = useMemo(() => {\n    if (!showStats || !person.stats || person.stats.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(StatsContainer, {\n      isMobile: isMobile,\n      children: person.stats.map((stat, statIdx) => /*#__PURE__*/_jsxDEV(StatItemComponent, {\n        stat: stat,\n        isMobile: isMobile,\n        highlightColor: highlightColor,\n        textColor: textColor\n      }, statIdx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 958,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 956,\n      columnNumber: 7\n    }, this);\n  }, [showStats, person.stats, isMobile, highlightColor, textColor]);\n\n  // Section renderers - separated for clarity and optimization\n  const renderAboutSection = useMemo(() => {\n    if (!person.bio) return null;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [person.bio.map((paragraph, idx) => /*#__PURE__*/_jsxDEV(SectionContentComponent, {\n        content: paragraph,\n        textColor: textColor,\n        fontFamily: fontFamily\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 977,\n        columnNumber: 11\n      }, this)), renderStats]\n    }, void 0, true);\n  }, [person.bio, renderStats, textColor, fontFamily]);\n  const renderExperienceSection = useMemo(() => {\n    if (!person.experience) {\n      return /*#__PURE__*/_jsxDEV(SectionContentComponent, {\n        content: \"Throughout my career, I've specialized in developing software systems that seamlessly integrate front-end experiences with robust back-end architectures. My experience spans various domains, from interactive media to data visualization systems.\",\n        textColor: textColor,\n        fontFamily: fontFamily\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 993,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: person.experience.map((item, expIdx) => /*#__PURE__*/_jsxDEV(SectionContentComponent, {\n        content: item.content,\n        textColor: textColor,\n        fontFamily: fontFamily\n      }, expIdx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 11\n      }, this))\n    }, void 0, false);\n  }, [person.experience, textColor, fontFamily]);\n  const renderProjectsSection = useMemo(() => {\n    if (!person.projects) return null;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: person.projects.map((item, projIdx) => /*#__PURE__*/_jsxDEV(SectionContentComponent, {\n        content: item.content,\n        textColor: textColor,\n        fontFamily: fontFamily\n      }, projIdx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 11\n      }, this))\n    }, void 0, false);\n  }, [person.projects, textColor, fontFamily]);\n\n  // Main section renderer - unified logic for any section type using memoization\n  const getRenderedSection = useCallback(sectionId => {\n    // Find section from navigationItems\n    const section = navigationItems.find(item => item.id === sectionId);\n    if (!section) return null;\n    if (section.content) {\n      return /*#__PURE__*/_jsxDEV(SectionContentComponent, {\n        content: section.content,\n        textColor: textColor,\n        fontFamily: fontFamily\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1040,\n        columnNumber: 9\n      }, this);\n    }\n    switch (sectionId) {\n      case 'about':\n        return renderAboutSection;\n      case 'experience':\n        return renderExperienceSection;\n      case 'projects':\n        return renderProjectsSection;\n      default:\n        return null;\n    }\n  }, [navigationItems, renderAboutSection, renderExperienceSection, renderProjectsSection, textColor, fontFamily]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isMobile && /*#__PURE__*/_jsxDEV(MobileNav, {\n      ref: mobileNavRef,\n      visible: mobileNavVisible,\n      children: navigationItems.map(navItem => /*#__PURE__*/_jsxDEV(MobileNavItemComponent, {\n        navItem: navItem,\n        activeSection: activeSection,\n        highlightColor: highlightColor,\n        textColor: textColor,\n        minLineWidth: minLineWidth,\n        maxLineWidth: maxLineWidth\n      }, navItem.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1076,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1071,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      ref: containerRef,\n      isMobile: isMobile,\n      initial: {\n        opacity: 0,\n        y: (_animationConfig$init = animationConfig === null || animationConfig === void 0 ? void 0 : animationConfig.initialY) !== null && _animationConfig$init !== void 0 ? _animationConfig$init : 30\n      },\n      animate: controls,\n      children: [!isMobile && /*#__PURE__*/_jsxDEV(SidebarWrapper, {\n        ref: sidebarWrapperRef,\n        width: layoutValues.sidebarWidth,\n        children: /*#__PURE__*/_jsxDEV(Sidebar, {\n          ref: sidebarRef,\n          children: [/*#__PURE__*/_jsxDEV(ProfileInfo, {\n            person: person,\n            isMobile: isMobile,\n            highlightColor: highlightColor,\n            textColor: textColor,\n            fontFamily: fontFamily\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1103,\n            columnNumber: 15\n          }, this), !isMobile && /*#__PURE__*/_jsxDEV(NavLinks, {\n            ref: navLinksRef,\n            children: navigationItems.map(navItem => /*#__PURE__*/_jsxDEV(NavLinkComponent, {\n              navItem: navItem,\n              activeSection: activeSection,\n              expandedNavItem: expandedNavItem,\n              onMouseEnter: handleNavItemHover,\n              onMouseLeave: handleNavItemLeave,\n              highlightColor: highlightColor,\n              textColor: textColor,\n              minLineWidth: minLineWidth,\n              maxLineWidth: maxLineWidth\n            }, navItem.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1115,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1113,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1102,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1097,\n        columnNumber: 11\n      }, this), isMobile && /*#__PURE__*/_jsxDEV(ProfileInfo, {\n        person: person,\n        isMobile: isMobile,\n        highlightColor: highlightColor,\n        textColor: textColor,\n        fontFamily: fontFamily\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1136,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ContentSection, {\n        ref: contentRef,\n        isMobile: isMobile,\n        width: layoutValues.contentWidth,\n        contentPadding: layoutValues.contentPadding,\n        children: [navigationItems.map((section, index) => {\n          if (index >= sectionRefs.length) return null;\n          return /*#__PURE__*/_jsxDEV(Section, {\n            ref: sectionRefs[index],\n            \"data-section\": section.id,\n            id: section.id,\n            isMobile: isMobile,\n            children: getRenderedSection(section.id)\n          }, section.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1157,\n            columnNumber: 15\n          }, this);\n        }), additionalSections.map((section, index) => /*#__PURE__*/_jsxDEV(Section, {\n          isMobile: isMobile,\n          children: [section.title && /*#__PURE__*/_jsxDEV(SectionTitle, {\n            highlightColor: highlightColor,\n            children: section.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1176,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(SectionContentComponent, {\n            content: section.content,\n            textColor: textColor,\n            fontFamily: fontFamily\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1180,\n            columnNumber: 15\n          }, this)]\n        }, `additional-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1171,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1089,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n// Using memo to prevent unnecessary re-renders\n_s2(PersonProfileCard, \"tEe6Jq45Qq/Zn1qhBZzC3S5MRjs=\", false, function () {\n  return [useAnimation, useInView];\n});\n_c35 = PersonProfileCard;\nexport default _c36 = /*#__PURE__*/React.memo(PersonProfileCard);\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31, _c32, _c33, _c34, _c35, _c36;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"SidebarWrapper\");\n$RefreshReg$(_c3, \"Sidebar\");\n$RefreshReg$(_c4, \"ContentSection\");\n$RefreshReg$(_c5, \"Section\");\n$RefreshReg$(_c6, \"SectionTitle\");\n$RefreshReg$(_c7, \"ProfileInfoContainer\");\n$RefreshReg$(_c8, \"ProfileName\");\n$RefreshReg$(_c9, \"ProfileRole\");\n$RefreshReg$(_c10, \"ProfileTagline\");\n$RefreshReg$(_c11, \"NavLinks\");\n$RefreshReg$(_c12, \"NavLinkContainer\");\n$RefreshReg$(_c13, \"NavLine\");\n$RefreshReg$(_c14, \"NavButton\");\n$RefreshReg$(_c15, \"MobileNav\");\n$RefreshReg$(_c16, \"MobileNavItem\");\n$RefreshReg$(_c17, \"MobileNavButton\");\n$RefreshReg$(_c18, \"MobileNavLine\");\n$RefreshReg$(_c19, \"MobileNavLabel\");\n$RefreshReg$(_c20, \"StatsContainer\");\n$RefreshReg$(_c21, \"StatItem\");\n$RefreshReg$(_c22, \"StatValue\");\n$RefreshReg$(_c23, \"StatLabel\");\n$RefreshReg$(_c24, \"SectionContent\");\n$RefreshReg$(_c25, \"ProfileInfo$React.memo\");\n$RefreshReg$(_c26, \"ProfileInfo\");\n$RefreshReg$(_c27, \"MobileNavItemComponent$React.memo\");\n$RefreshReg$(_c28, \"MobileNavItemComponent\");\n$RefreshReg$(_c29, \"NavLinkComponent$React.memo\");\n$RefreshReg$(_c30, \"NavLinkComponent\");\n$RefreshReg$(_c31, \"StatItemComponent$React.memo\");\n$RefreshReg$(_c32, \"StatItemComponent\");\n$RefreshReg$(_c33, \"SectionContentComponent$React.memo\");\n$RefreshReg$(_c34, \"SectionContentComponent\");\n$RefreshReg$(_c35, \"PersonProfileCard\");\n$RefreshReg$(_c36, \"%default%\");","map":{"version":3,"names":["React","useRef","useState","useEffect","useCallback","useMemo","motion","useInView","useAnimation","styled","jsxDEV","_jsxDEV","Fragment","_Fragment","Container","div","props","isMobile","_c","SidebarWrapper","width","_c2","Sidebar","_c3","ContentSection","contentPadding","_c4","Section","_c5","SectionTitle","h3","highlightColor","_c6","ProfileInfoContainer","_c7","ProfileName","h1","_c8","ProfileRole","h2","color","fontFamily","_c9","ProfileTagline","p","_c10","NavLinks","_c11","NavLinkContainer","_c12","NavLine","expanded","maxWidth","minWidth","activeColor","inactiveColor","_c13","NavButton","button","active","_c14","MobileNav","visible","_c15","MobileNavItem","_c16","MobileNavButton","_c17","MobileNavLine","_c18","MobileNavLabel","_c19","StatsContainer","_c20","StatItem","isHovering","_c21","StatValue","_c22","StatLabel","_c23","SectionContent","_c24","ProfileInfo","memo","_c25","person","textColor","children","name","fileName","_jsxFileName","lineNumber","columnNumber","role","tagline","_c26","MobileNavItemComponent","_c27","navItem","activeSection","minLineWidth","maxLineWidth","id","label","_c28","NavLinkComponent","_c29","expandedNavItem","onMouseEnter","onMouseLeave","isActive","_c30","StatItemComponent","_s","_c31","stat","setIsHovering","handleMouseEnter","handleMouseLeave","value","_c32","SectionContentComponent","_c33","content","_c34","PersonProfileCard","animationConfig","threshold","once","initialY","duration","additionalSections","onSectionChange","topOffset","showStats","navigationItems","contentCompression","_s2","_navigationItems$","_animationConfig$thre","_animationConfig$once","_animationConfig$init","setActiveSection","setExpandedNavItem","sidebarMode","setSidebarMode","isInitialized","setIsInitialized","setIsMobile","mobileNavVisible","setMobileNavVisible","lastScrollY","setLastScrollY","containerRef","sidebarRef","contentRef","sidebarWrapperRef","mobileNavRef","navLinksRef","section0Ref","section1Ref","section2Ref","section3Ref","section4Ref","section5Ref","section6Ref","section7Ref","controls","sectionRefs","sectionRefsMap","refsMap","forEach","item","index","length","layoutValues","compressionFactor","Math","min","max","sidebarWidth","contentWidth","isInView","checkMobile","window","innerWidth","scrollToSection","sectionId","sectionRef","current","offsetTop","getBoundingClientRect","top","pageYOffset","mobileNavHeight","offsetHeight","scrollTo","behavior","scrollIntoView","block","handleNavEvent","e","target","closest","getAttribute","preventDefault","handleNavItemHover","section","handleNavItemLeave","addEventListener","removeEventListener","mobileNavElement","navLinksElement","_animationConfig$dura","_animationConfig$dura2","start","opacity","y","transition","ease","delay","timeout","setTimeout","clearTimeout","sectionElements","Object","values","map","ref","filter","Boolean","options","root","rootMargin","callback","entries","visibleEntries","entry","isIntersecting","sort","a","b","intersectionRatio","topEntry","observer","IntersectionObserver","element","observe","disconnect","container","sidebar","sidebarWrapper","style","willChange","measurements","containerRect","wrapperRect","sidebarHeight","windowHeight","innerHeight","scrollY","scrollDirection","updateMeasurements","force","currentScrollY","oldTop","scrollDelta","bottom","determineScrollPhase","startFixPoint","endFixPoint","applyStyles","mode","position","left","handleScroll","newMode","requestAnimationFrame","lastHandledScrollTime","pendingScrollTimeout","THROTTLE_MS","IDLE_THRESHOLD_MS","scrollListener","now","Date","timeSinceLastScroll","currentDirection","isDirectionChange","passive","resizeTimeout","handleResize","resizeObserver","ResizeObserver","mobileNav","bgOpacity","backgroundColor","boxShadow","ticking","lastScrollTime","renderStats","stats","statIdx","renderAboutSection","bio","paragraph","idx","renderExperienceSection","experience","expIdx","renderProjectsSection","projects","projIdx","getRenderedSection","find","initial","animate","title","_c35","_c36","$RefreshReg$"],"sources":["/home/valeria/Documents/Crucible/frontend/src/components/core/effects/holdereffects/PersonProfileCard.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect, useCallback, useMemo } from 'react';\nimport { motion, useInView, useAnimation } from 'framer-motion';\nimport styled from 'styled-components';\n\n// Styled Components\nconst Container = styled(motion.div)`\n  display: flex;\n  flex-direction: ${props => props.isMobile ? 'column' : 'row'};\n  width: 100%;\n  max-width: 1300px;\n  margin: 0 auto;\n  min-height: ${props => props.isMobile ? 'auto' : '70vh'};\n  position: relative;\n  padding-top: ${props => props.isMobile ? '80px' : '0'};\n`;\n\nconst SidebarWrapper = styled.div`\n  width: ${props => `${props.width}%`};\n  position: relative;\n`;\n\nconst Sidebar = styled.div`\n  padding: 3rem 2rem 2rem 0;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  position: relative;\n  top: 0;\n`;\n\nconst ContentSection = styled.div`\n  width: ${props => props.isMobile ? '100%' : `${props.width}%`};\n  padding: ${props => props.isMobile ? \n    '2rem 1.5rem' : \n    `3rem 0 2rem ${props.contentPadding}rem`};\n  margin-left: ${props => props.isMobile ? '0' : 'auto'};\n`;\n\nconst Section = styled.div`\n  margin-bottom: 3rem;\n  scroll-margin-top: ${props => props.isMobile ? '80px' : '2rem'};\n`;\n\nconst SectionTitle = styled.h3`\n  font-size: 1.4rem;\n  color: ${props => props.highlightColor};\n  margin-bottom: 1rem;\n  font-weight: 300;\n`;\n\nconst ProfileInfoContainer = styled.div`\n  margin-bottom: 2rem;\n  padding-left: 5px;\n  text-align: ${props => props.isMobile ? 'center' : 'left'};\n  width: 100%;\n`;\n\nconst ProfileName = styled.h1`\n  font-weight: 300;\n  letter-spacing: 0.05em;\n  margin-bottom: 0.5rem;\n  font-size: ${props => props.isMobile ? '2.2rem' : '2.8rem'};\n  color: ${props => props.highlightColor};\n`;\n\nconst ProfileRole = styled.h2`\n  font-weight: 300;\n  margin-bottom: 2rem;\n  letter-spacing: 0.05em;\n  font-style: italic;\n  font-size: ${props => props.isMobile ? '1.1rem' : '1.2rem'};\n  color: ${props => props.color};\n  font-family: ${props => props.fontFamily};\n`;\n\nconst ProfileTagline = styled.p`\n  line-height: 1.6;\n  margin-bottom: 3rem;\n  font-weight: 300;\n  font-size: 1.1rem;\n  max-width: ${props => props.isMobile ? '100%' : '90%'};\n  color: ${props => props.color};\n  font-family: ${props => props.fontFamily};\n`;\n\nconst NavLinks = styled.div`\n  margin-top: 3rem;\n`;\n\nconst NavLinkContainer = styled.div`\n  position: relative;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n`;\n\nconst NavLine = styled.div`\n  position: absolute;\n  left: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 0.75px;\n  width: ${props => props.expanded ? `${props.maxWidth}px` : `${props.minWidth}px`};\n  background-color: ${props => props.expanded ? props.activeColor : props.inactiveColor};\n  transition: width 0.3s ease, background-color 0.3s ease;\n`;\n\nconst NavButton = styled.button`\n  position: relative;\n  display: block;\n  padding: 0.5rem 0 0.5rem 40px;\n  font-size: 0.85rem;\n  letter-spacing: 0.1em;\n  background: transparent;\n  border: none;\n  text-align: left;\n  outline: none;\n  box-shadow: none;\n  transition: color 0.5s ease, transform 0.5s ease;\n  cursor: pointer;\n  width: fit-content;\n  color: ${props => props.active ? props.activeColor : props.inactiveColor};\n  transform: ${props => props.active ? 'translateX(10px)' : 'none'};\n`;\n\nconst MobileNav = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 100;\n  backdrop-filter: blur(10px);\n  transition: all 0.3s ease;\n  padding: 0.75rem 1rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  transform: ${props => props.visible ? 'translateY(0)' : 'translateY(-100%)'};\n  opacity: ${props => props.visible ? 1 : 0};\n`;\n\nconst MobileNavItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst MobileNavButton = styled.button`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0.5rem;\n  outline: none;\n`;\n\nconst MobileNavLine = styled.div`\n  width: ${props => props.active ? `${props.maxWidth}px` : `${props.minWidth}px`};\n  height: 2px;\n  background-color: ${props => props.active ? props.activeColor : props.inactiveColor};\n  transition: width 0.3s ease, background-color 0.3s ease;\n  margin-bottom: 0.5rem;\n`;\n\nconst MobileNavLabel = styled.div`\n  font-size: 0.75rem;\n  color: ${props => props.active ? props.activeColor : props.inactiveColor};\n  letter-spacing: 0.1em;\n  transition: color 0.3s ease;\n`;\n\nconst StatsContainer = styled.div`\n  display: flex;\n  justify-content: ${props => props.isMobile ? 'center' : 'space-between'};\n  flex-wrap: wrap;\n  margin-top: 3rem;\n  width: 100%;\n  gap: ${props => props.isMobile ? '2rem' : '0'};\n`;\n\nconst StatItem = styled.div`\n  flex: ${props => props.isMobile ? '0 0 auto' : '1'};\n  text-align: center;\n  padding: 0 1rem;\n  min-width: ${props => props.isMobile ? '140px' : '100px'};\n  transition: transform 0.3s ease;\n  transform: ${props => props.isHovering ? 'translateY(-5px)' : 'none'};\n`;\n\nconst StatValue = styled.div`\n  font-size: ${props => props.isMobile ? '2.2rem' : '2.5rem'};\n  font-weight: 100;\n  color: ${props => props.color};\n  margin-bottom: 0.5rem;\n`;\n\nconst StatLabel = styled.div`\n  font-size: 0.85rem;\n  color: ${props => props.color};\n  text-transform: uppercase;\n  letter-spacing: 0.1em;\n`;\n\nconst SectionContent = styled.p`\n  line-height: 1.8;\n  margin-bottom: 1.5rem;\n  font-weight: 300;\n  font-size: 1rem;\n  color: ${props => props.color};\n  font-family: ${props => props.fontFamily};\n`;\n\n// Component for ProfileInfo\nconst ProfileInfo = React.memo(({ \n  person, \n  isMobile, \n  highlightColor, \n  textColor, \n  fontFamily \n}) => {\n  return (\n    <ProfileInfoContainer isMobile={isMobile}>\n      <ProfileName \n        isMobile={isMobile} \n        highlightColor={highlightColor}\n      >\n        {person.name}\n      </ProfileName>\n      \n      <ProfileRole \n        isMobile={isMobile} \n        color={`${highlightColor}B3`} \n        fontFamily={fontFamily}\n      >\n        {person.role}\n      </ProfileRole>\n      \n      {person.tagline && (\n        <ProfileTagline \n          isMobile={isMobile} \n          color={textColor} \n          fontFamily={fontFamily}\n        >\n          {person.tagline}\n        </ProfileTagline>\n      )}\n    </ProfileInfoContainer>\n  );\n});\n\n// Component for MobileNavItem\nconst MobileNavItemComponent = React.memo(({ \n  navItem, \n  activeSection, \n  highlightColor, \n  textColor,\n  minLineWidth,\n  maxLineWidth \n}) => {\n  return (\n    <MobileNavItem>\n      <MobileNavButton data-section-id={navItem.id}>\n        <MobileNavLine \n          active={activeSection === navItem.id}\n          activeColor={highlightColor}\n          inactiveColor={`${highlightColor}80`}\n          minWidth={minLineWidth}\n          maxWidth={maxLineWidth}\n        />\n        <MobileNavLabel \n          active={activeSection === navItem.id}\n          activeColor={highlightColor}\n          inactiveColor={textColor}\n        >\n          {navItem.label}\n        </MobileNavLabel>\n      </MobileNavButton>\n    </MobileNavItem>\n  );\n});\n\n// Component for NavLink\nconst NavLinkComponent = React.memo(({ \n  navItem, \n  activeSection, \n  expandedNavItem,\n  onMouseEnter,\n  onMouseLeave, \n  highlightColor, \n  textColor,\n  minLineWidth,\n  maxLineWidth \n}) => {\n  const isActive = activeSection === navItem.id || expandedNavItem === navItem.id;\n  \n  return (\n    <NavLinkContainer \n      data-section-id={navItem.id}\n      onMouseEnter={() => onMouseEnter(navItem.id)}\n      onMouseLeave={onMouseLeave}\n    >\n      <NavLine \n        expanded={isActive}\n        activeColor={`${highlightColor}E6`}\n        inactiveColor={`${highlightColor}80`}\n        minWidth={minLineWidth}\n        maxWidth={maxLineWidth}\n      />\n      <NavButton \n        active={isActive}\n        activeColor={highlightColor}\n        inactiveColor={textColor}\n      >\n        {navItem.label}\n      </NavButton>\n    </NavLinkContainer>\n  );\n});\n\n// Component for StatItem\nconst StatItemComponent = React.memo(({ \n  stat, \n  isMobile, \n  highlightColor, \n  textColor \n}) => {\n  const [isHovering, setIsHovering] = useState(false);\n\n  const handleMouseEnter = () => {\n    if (!isMobile) {\n      setIsHovering(true);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (!isMobile) {\n      setIsHovering(false);\n    }\n  };\n\n  return (\n    <StatItem \n      isMobile={isMobile}\n      isHovering={isHovering}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <StatValue \n        isMobile={isMobile} \n        color={highlightColor}\n      >\n        {stat.value}\n      </StatValue>\n      <StatLabel color={`${textColor}CC`}>\n        {stat.label}\n      </StatLabel>\n    </StatItem>\n  );\n});\n\n// Component for SectionContent\nconst SectionContentComponent = React.memo(({ \n  content, \n  textColor, \n  fontFamily \n}) => {\n  if (!content) return null;\n  \n  if (typeof content === 'string') {\n    return (\n      <SectionContent \n        color={textColor}\n        fontFamily={fontFamily}\n      >\n        {content}\n      </SectionContent>\n    );\n  }\n  \n  return content;\n});\n\n/**\n * PersonProfileCard Component - Optimized Version with CSS-in-JS\n * \n * A profile card with a three-phase scroll behavior:\n * 1. Normal Flow: Initially scrolls with the page\n * 2. Fixed Position: Sticks to viewport when scrolling through content\n * 3. Release: Returns to normal flow after scrolling past component\n * \n * Mobile improvements:\n * - Navigation bar moves to top of screen\n * - Content spans full width for better readability\n * - Simplified navigation display\n * \n * Performance optimizations:\n * - Event delegation for navigation\n * - Extracted memoized child components\n * - Throttled scroll handlers\n * - ResizeObserver instead of window resize events\n * - Minimized style recalculations\n * - CSS-in-JS for better style organization\n */\nconst PersonProfileCard = ({\n  person,\n  animationConfig = {\n    threshold: 0.2,\n    once: true,\n    initialY: 30,\n    duration: 0.8\n  },\n  additionalSections = [],\n  onSectionChange = null,\n  topOffset = 100,\n  showStats = true,\n  highlightColor = '#bfad7f',\n  textColor = 'rgba(224, 224, 224, 0.7)',\n  minLineWidth = 10,\n  maxLineWidth = 40,\n  fontFamily = '\"Garamond\", \"Adobe Caslon Pro\", serif',\n  navigationItems = [\n    { id: 'about', label: 'ABOUT', content: null },\n    { id: 'experience', label: 'EXPERIENCE', content: null },\n    { id: 'projects', label: 'PROJECTS', content: null }\n  ],\n  contentCompression = 0\n}) => {\n  // State management\n  const [activeSection, setActiveSection] = useState(navigationItems[0]?.id || 'about');\n  const [expandedNavItem, setExpandedNavItem] = useState(null);\n  const [sidebarMode, setSidebarMode] = useState('normal'); // 'normal', 'fixed', or 'end'\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [mobileNavVisible, setMobileNavVisible] = useState(false);\n  const [lastScrollY, setLastScrollY] = useState(0);\n\n  // Create individual refs at the top level of the component\n  const containerRef = useRef(null);\n  const sidebarRef = useRef(null);\n  const contentRef = useRef(null);\n  const sidebarWrapperRef = useRef(null);\n  const mobileNavRef = useRef(null);\n  const navLinksRef = useRef(null);\n  \n  // Create individual section refs\n  const section0Ref = useRef(null);\n  const section1Ref = useRef(null);\n  const section2Ref = useRef(null);\n  const section3Ref = useRef(null);\n  const section4Ref = useRef(null);\n  const section5Ref = useRef(null);\n  const section6Ref = useRef(null);\n  const section7Ref = useRef(null);\n  \n  // Animation controls\n  const controls = useAnimation();\n  \n  // Memoize the array of section refs so it's stable across renders\n  const sectionRefs = useMemo(() => [\n    section0Ref, section1Ref, section2Ref, section3Ref,\n    section4Ref, section5Ref, section6Ref, section7Ref\n  ], []);\n  \n  // Memoize the section refs map to avoid recreating on every render\n  const sectionRefsMap = useMemo(() => {\n    const refsMap = {};\n    navigationItems.forEach((item, index) => {\n      if (index < sectionRefs.length) {\n        refsMap[item.id] = sectionRefs[index];\n      }\n    });\n    return refsMap;\n  }, [navigationItems, sectionRefs]);\n  \n  // Memoize calculation of compression-based values\n  const layoutValues = useMemo(() => {\n    const compressionFactor = Math.min(Math.max(contentCompression, 0), 10) / 10;\n    return {\n      sidebarWidth: 45 - (compressionFactor * 5), // 35-40% range\n      contentWidth: 55 - (compressionFactor * 5), // 55-60% range\n      contentPadding: 2 + (compressionFactor * 2), // 2-4rem range\n    };\n  }, [contentCompression]);\n\n  // Animation inView detection\n  const isInView = useInView(containerRef, {\n    threshold: animationConfig?.threshold ?? 0.2,\n    once: animationConfig?.once ?? true\n  });\n\n  // Memoized function for checking if we're on mobile\n  const checkMobile = useCallback(() => {\n    setIsMobile(window.innerWidth <= 768);\n  }, []);\n\n  // Scroll to section handler - memoized with dependencies\n  const scrollToSection = useCallback((sectionId) => {\n    setActiveSection(sectionId);\n    \n    if (onSectionChange) {\n      onSectionChange(sectionId);\n    }\n    \n    const sectionRef = sectionRefsMap[sectionId];\n    if (sectionRef?.current) {\n      // Use different scroll methods for mobile vs desktop\n      if (isMobile) {\n        // For mobile, calculate position and use window.scrollTo\n        const offsetTop = sectionRef.current.getBoundingClientRect().top + window.pageYOffset;\n        const mobileNavHeight = mobileNavRef.current ? mobileNavRef.current.offsetHeight : 0;\n        \n        window.scrollTo({\n          top: offsetTop - mobileNavHeight - 20, // Additional offset for spacing\n          behavior: 'smooth'\n        });\n      } else {\n        // For desktop, use the original scrollIntoView method\n        sectionRef.current.scrollIntoView({ \n          behavior: 'smooth',\n          block: 'start'\n        });\n      }\n    }\n  }, [onSectionChange, sectionRefsMap, isMobile, mobileNavRef]);\n\n  // Event delegation for all navigation items\n  const handleNavEvent = useCallback((e) => {\n    const target = e.target.closest('[data-section-id]');\n    if (target) {\n      const sectionId = target.getAttribute('data-section-id');\n      if (sectionId) {\n        e.preventDefault();\n        scrollToSection(sectionId);\n      }\n    }\n  }, [scrollToSection]);\n  \n  // Navigation item hover handlers - memoized to prevent recreation on every render\n  const handleNavItemHover = useCallback((section) => {\n    if (!isMobile) {\n      setExpandedNavItem(section);\n    }\n  }, [isMobile]);\n  \n  const handleNavItemLeave = useCallback(() => {\n    if (!isMobile) {\n      setExpandedNavItem(null);\n    }\n  }, [isMobile]);\n\n  // Check mobile on mount and window resize\n  useEffect(() => {\n    // Initial check\n    checkMobile();\n    \n    // Add resize event listener\n    window.addEventListener('resize', checkMobile);\n    \n    return () => {\n      window.removeEventListener('resize', checkMobile);\n    };\n  }, [checkMobile]);\n\n  // Set up event delegation for navigation\n  useEffect(() => {\n    // Store current ref values at the time the effect runs\n    const mobileNavElement = mobileNavRef.current;\n    const navLinksElement = navLinksRef.current;\n    \n    // Add click event listeners with event delegation\n    if (mobileNavElement) {\n      mobileNavElement.addEventListener('click', handleNavEvent);\n    }\n    \n    if (navLinksElement) {\n      navLinksElement.addEventListener('click', handleNavEvent);\n    }\n    \n    return () => {\n      if (mobileNavElement) {\n        mobileNavElement.removeEventListener('click', handleNavEvent);\n      }\n      \n      if (navLinksElement) {\n        navLinksElement.removeEventListener('click', handleNavEvent);\n      }\n    };\n  }, [handleNavEvent]);\n\n  // Initial animation effect\n  useEffect(() => {\n    if (isInView) {\n      controls.start({ \n        opacity: 1, \n        y: 0,\n        transition: { \n          duration: animationConfig?.duration ?? 0.8,\n          ease: \"easeOut\",\n          delay: 0.1 // Small delay to ensure DOM is settled\n        }\n      });\n      \n      // Mark as initialized after animation completes\n      const timeout = setTimeout(() => {\n        setIsInitialized(true);\n      }, (animationConfig?.duration ?? 0.8) * 1000 + 100);\n      \n      return () => clearTimeout(timeout);\n    }\n  }, [isInView, controls, animationConfig?.duration]);\n\n  // Set up intersection observer for section detection - optimized with proper dependencies\n  useEffect(() => {\n    const sectionElements = Object.values(sectionRefsMap)\n      .map(ref => ref.current)\n      .filter(Boolean);\n    \n    if (sectionElements.length === 0) return;\n    \n    // Different margins for mobile and desktop to account for different layouts\n    const options = {\n      root: null,\n      rootMargin: isMobile \n        ? '-80px 0px -70% 0px'  // For mobile with fixed nav\n        : '-10% 0px -70% 0px',  // For desktop\n      threshold: [0, 0.25, 0.5, 0.75] // Multiple thresholds for smoother transitions\n    };\n    \n    const callback = (entries) => {\n      // Find the most visible section\n      const visibleEntries = entries.filter(entry => entry.isIntersecting);\n      \n      if (visibleEntries.length > 0) {\n        // Sort by visibility ratio, highest first\n        visibleEntries.sort((a, b) => b.intersectionRatio - a.intersectionRatio);\n        const topEntry = visibleEntries[0];\n        \n        const sectionId = topEntry.target.getAttribute('data-section');\n        if (sectionId && sectionId !== activeSection) {\n          setActiveSection(sectionId);\n          \n          if (onSectionChange) {\n            onSectionChange(sectionId);\n          }\n        }\n      }\n    };\n    \n    const observer = new IntersectionObserver(callback, options);\n    sectionElements.forEach(element => observer.observe(element));\n    \n    return () => observer.disconnect();\n  }, [activeSection, onSectionChange, sectionRefsMap, isMobile]);\n\n  // Implement scroll behavior for desktop - optimized to fix positioning bugs\n  useEffect(() => {\n    if (!isInitialized || !containerRef.current || !sidebarRef.current || \n        !sidebarWrapperRef.current || isMobile) {\n      return;\n    }\n    \n    const container = containerRef.current;\n    const sidebar = sidebarRef.current;\n    const sidebarWrapper = sidebarWrapperRef.current;\n    \n    // Add will-change to hint browser about upcoming transforms\n    sidebar.style.willChange = 'position, top, left, width, bottom';\n    \n    // Create a single measurements object that persists between scroll events\n    let measurements = {\n      containerRect: null,\n      wrapperRect: null,\n      sidebarHeight: null,\n      windowHeight: window.innerHeight,\n      lastScrollY: window.scrollY,\n      scrollDirection: 'none' // Track scroll direction\n    };\n    \n    // More comprehensive measurement update function\n    const updateMeasurements = (force = false) => {\n      // Track scroll direction\n      const currentScrollY = window.scrollY;\n      measurements.scrollDirection = \n        currentScrollY < measurements.lastScrollY ? 'up' : \n        currentScrollY > measurements.lastScrollY ? 'down' : 'none';\n      measurements.lastScrollY = currentScrollY;\n      \n      // Only update expensive DOM measurements when necessary or forced\n      if (force || !measurements.containerRect || !measurements.wrapperRect) {\n        measurements.containerRect = container.getBoundingClientRect();\n        measurements.wrapperRect = sidebarWrapper.getBoundingClientRect();\n        measurements.sidebarHeight = sidebar.offsetHeight;\n        measurements.windowHeight = window.innerHeight;\n      } else {\n        // For better performance, just update top position based on scroll delta\n        const oldTop = measurements.containerRect.top;\n        const scrollDelta = measurements.lastScrollY - currentScrollY;\n        measurements.containerRect = {\n          ...measurements.containerRect,\n          top: oldTop + scrollDelta,\n          bottom: measurements.containerRect.bottom + scrollDelta\n        };\n      }\n    };\n    \n    // Initial measurements\n    updateMeasurements(true);\n    \n    // Improved state determination with better boundary logic\n    const determineScrollPhase = () => {\n      const { containerRect, sidebarHeight, scrollDirection } = measurements;\n      \n      // Phase transition points with additional buffer for smoother transitions\n      const startFixPoint = containerRect.top <= (topOffset + 2);\n      const endFixPoint = containerRect.bottom <= (sidebarHeight + topOffset + 2);\n      \n      // Add hysteresis to prevent flickering at transition boundaries\n      // Apply different thresholds based on scroll direction\n      if (scrollDirection === 'up') {\n        // When scrolling up, make it slightly harder to transition to previous state\n        if (sidebarMode === 'end' && !endFixPoint) {\n          return 'fixed';\n        } else if (sidebarMode === 'fixed' && containerRect.top > (topOffset + 10)) {\n          return 'normal';\n        }\n      } else if (scrollDirection === 'down') {\n        // When scrolling down, make transitions cleaner\n        if (!startFixPoint) {\n          return 'normal';\n        } else if (startFixPoint && !endFixPoint) {\n          return 'fixed';\n        } else {\n          return 'end';\n        }\n      }\n      \n      // Default state determination\n      if (!startFixPoint) {\n        return 'normal';\n      } else if (startFixPoint && !endFixPoint) {\n        return 'fixed';\n      } else {\n        return 'end';\n      }\n    };\n    \n    // Apply styles based on mode with enhanced position validation\n    const applyStyles = (mode) => {\n      // Double-check measurements before applying styles\n      if (mode === 'fixed') {\n        // Ensure we have fresh measurements for fixed positioning\n        const wrapperRect = sidebarWrapper.getBoundingClientRect();\n        \n        sidebar.style.position = 'fixed';\n        sidebar.style.top = `${topOffset}px`;\n        sidebar.style.width = `${wrapperRect.width}px`;\n        sidebar.style.left = `${wrapperRect.left}px`;\n        sidebar.style.bottom = '';\n      } \n      else if (mode === 'end') {\n        sidebar.style.position = 'absolute';\n        sidebar.style.top = 'auto';\n        sidebar.style.bottom = '0';\n        sidebar.style.left = '0';\n        sidebar.style.width = '';\n      }\n      else { // 'normal'\n        sidebar.style.position = 'relative';\n        sidebar.style.top = '0';\n        sidebar.style.left = '0';\n        sidebar.style.width = '';\n        sidebar.style.bottom = '';\n      }\n    };\n    \n    // Enhanced scroll handler with better state management\n    const handleScroll = () => {\n      // Update measurements with the latest scroll information\n      updateMeasurements();\n      \n      // Determine the appropriate mode based on scroll position and direction\n      const newMode = determineScrollPhase();\n      \n      // Only update DOM and state if the mode is changing\n      if (sidebarMode !== newMode) {\n        setSidebarMode(newMode);\n        \n        // Use RAF for style updates to sync with browser rendering\n        requestAnimationFrame(() => {\n          applyStyles(newMode);\n        });\n      }\n    };\n    \n    // Modified throttling that prioritizes direction changes\n    let lastHandledScrollTime = 0;\n    let pendingScrollTimeout = null;\n    const THROTTLE_MS = 16; // ~60fps - more responsive\n    const IDLE_THRESHOLD_MS = 100; // Time to wait after scrolling stops\n    \n    const scrollListener = () => {\n      const now = Date.now();\n      const timeSinceLastScroll = now - lastHandledScrollTime;\n      \n      // Clear any pending timeouts\n      if (pendingScrollTimeout) {\n        clearTimeout(pendingScrollTimeout);\n      }\n      \n      // Check if current scroll direction differs from last known direction\n      const currentScrollY = window.scrollY;\n      const currentDirection = \n        currentScrollY < measurements.lastScrollY ? 'up' : \n        currentScrollY > measurements.lastScrollY ? 'down' : 'none';\n      \n      const isDirectionChange = currentDirection !== measurements.scrollDirection && \n                               currentDirection !== 'none';\n      \n      // Handle immediately for direction changes or if throttle time has passed\n      if (isDirectionChange || timeSinceLastScroll > THROTTLE_MS) {\n        handleScroll();\n        lastHandledScrollTime = now;\n      } else {\n        // Schedule a final update after scrolling appears to have stopped\n        pendingScrollTimeout = setTimeout(() => {\n          // Force a measurement update to ensure accuracy\n          updateMeasurements(true);\n          handleScroll();\n        }, IDLE_THRESHOLD_MS);\n      }\n    };\n    \n    window.addEventListener('scroll', scrollListener, { passive: true });\n    \n    // Handle window resize with debouncing\n    let resizeTimeout = null;\n    const handleResize = () => {\n      // Skip for mobile\n      if (window.innerWidth <= 768) return;\n      \n      // Clear any existing timeout\n      if (resizeTimeout) {\n        clearTimeout(resizeTimeout);\n      }\n      \n      // Debounce the resize handler\n      resizeTimeout = setTimeout(() => {\n        // Force measurement update on resize\n        updateMeasurements(true);\n        handleScroll();\n      }, 100);\n    };\n    \n    // Use ResizeObserver for container size changes\n    const resizeObserver = new ResizeObserver(() => {\n      if (window.innerWidth <= 768) return;\n      updateMeasurements(true);\n      handleScroll();\n    });\n    \n    resizeObserver.observe(container);\n    window.addEventListener('resize', handleResize);\n    \n    // Initial setup\n    handleScroll();\n    \n    return () => {\n      window.removeEventListener('scroll', scrollListener);\n      window.removeEventListener('resize', handleResize);\n      resizeObserver.disconnect();\n      \n      if (pendingScrollTimeout) {\n        clearTimeout(pendingScrollTimeout);\n      }\n      \n      if (resizeTimeout) {\n        clearTimeout(resizeTimeout);\n      }\n      \n      // Remove will-change to free up resources\n      sidebar.style.willChange = 'auto';\n    };\n  }, [isInitialized, topOffset, sidebarMode, isMobile, containerRef, sidebarRef, sidebarWrapperRef]);\n\n  // Mobile nav scroll behavior with auto-hide - optimized with throttling\n  useEffect(() => {\n    if (!isInitialized || !isMobile || !mobileNavRef.current) {\n      return;\n    }\n    \n    const mobileNav = mobileNavRef.current;\n    \n    // Add will-change to hint browser about transforms\n    mobileNav.style.willChange = 'transform, opacity, background-color';\n    \n    // Optimized scroll handler for mobile nav\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY;\n      \n      // Show navbar when scrolling up or at the top of the page\n      if (currentScrollY < lastScrollY || currentScrollY < 50) {\n        setMobileNavVisible(true);\n      } else {\n        // Hide navbar when scrolling down past the threshold\n        setMobileNavVisible(false);\n      }\n      \n      // Update background opacity based on scroll position - one-time calculation\n      requestAnimationFrame(() => {\n        const bgOpacity = currentScrollY > 50 ? 0.95 : 0.7;\n        mobileNav.style.backgroundColor = `rgba(17, 17, 17, ${bgOpacity})`;\n        mobileNav.style.boxShadow = currentScrollY > 50 ? '0 2px 10px rgba(0, 0, 0, 0.1)' : 'none';\n      });\n      \n      // Store current scroll position\n      setLastScrollY(currentScrollY);\n    };\n    \n    // Throttled scroll event handling for better performance\n    let ticking = false;\n    let lastScrollTime = 0;\n    const THROTTLE_MS = 100; // Throttle to max 10 updates per second\n    \n    const scrollListener = () => {\n      const now = Date.now();\n      if (!ticking && now - lastScrollTime > THROTTLE_MS) {\n        requestAnimationFrame(() => {\n          handleScroll();\n          ticking = false;\n          lastScrollTime = now;\n        });\n        ticking = true;\n      }\n    };\n    \n    window.addEventListener('scroll', scrollListener, { passive: true });\n    \n    // Initial state - initialize once\n    mobileNav.style.backgroundColor = 'rgba(17, 17, 17, 0.7)';\n    mobileNav.style.boxShadow = 'none';\n    \n    return () => {\n      window.removeEventListener('scroll', scrollListener);\n      // Remove will-change to free up resources when not needed\n      mobileNav.style.willChange = 'auto';\n    };\n  }, [isInitialized, isMobile, lastScrollY, mobileNavRef]);\n\n  // Stats section - extracted and memoized\n  const renderStats = useMemo(() => {\n    if (!showStats || !person.stats || person.stats.length === 0) return null;\n    \n    return (\n      <StatsContainer isMobile={isMobile}>\n        {person.stats.map((stat, statIdx) => (\n          <StatItemComponent\n            key={statIdx}\n            stat={stat}\n            isMobile={isMobile}\n            highlightColor={highlightColor}\n            textColor={textColor}\n          />\n        ))}\n      </StatsContainer>\n    );\n  }, [showStats, person.stats, isMobile, highlightColor, textColor]);\n\n  // Section renderers - separated for clarity and optimization\n  const renderAboutSection = useMemo(() => {\n    if (!person.bio) return null;\n    \n    return (\n      <>\n        {person.bio.map((paragraph, idx) => (\n          <SectionContentComponent\n            key={idx}\n            content={paragraph}\n            textColor={textColor}\n            fontFamily={fontFamily}\n          />\n        ))}\n        \n        {renderStats}\n      </>\n    );\n  }, [person.bio, renderStats, textColor, fontFamily]);\n\n  const renderExperienceSection = useMemo(() => {\n    if (!person.experience) {\n      return (\n        <SectionContentComponent\n          content=\"Throughout my career, I've specialized in developing software systems that seamlessly integrate front-end experiences with robust back-end architectures. My experience spans various domains, from interactive media to data visualization systems.\"\n          textColor={textColor}\n          fontFamily={fontFamily}\n        />\n      );\n    }\n    \n    return (\n      <>\n        {person.experience.map((item, expIdx) => (\n          <SectionContentComponent\n            key={expIdx}\n            content={item.content}\n            textColor={textColor}\n            fontFamily={fontFamily}\n          />\n        ))}\n      </>\n    );\n  }, [person.experience, textColor, fontFamily]);\n\n  const renderProjectsSection = useMemo(() => {\n    if (!person.projects) return null;\n    \n    return (\n      <>\n        {person.projects.map((item, projIdx) => (\n          <SectionContentComponent\n            key={projIdx}\n            content={item.content}\n            textColor={textColor}\n            fontFamily={fontFamily}\n          />\n        ))}\n      </>\n    );\n  }, [person.projects, textColor, fontFamily]);\n\n  // Main section renderer - unified logic for any section type using memoization\n  const getRenderedSection = useCallback((sectionId) => {\n    // Find section from navigationItems\n    const section = navigationItems.find(item => item.id === sectionId);\n    if (!section) return null;\n    \n    if (section.content) {\n      return (\n        <SectionContentComponent\n          content={section.content}\n          textColor={textColor}\n          fontFamily={fontFamily}\n        />\n      );\n    }\n    \n    switch (sectionId) {\n      case 'about':\n        return renderAboutSection;\n      case 'experience':\n        return renderExperienceSection;\n      case 'projects':\n        return renderProjectsSection;\n      default:\n        return null;\n    }\n  }, [\n    navigationItems, \n    renderAboutSection, \n    renderExperienceSection, \n    renderProjectsSection, \n    textColor, \n    fontFamily\n  ]);\n\n  return (\n    <>\n      {/* Mobile navigation with event delegation */}\n      {isMobile && (\n        <MobileNav\n          ref={mobileNavRef}\n          visible={mobileNavVisible}\n        >\n          {navigationItems.map((navItem) => (\n            <MobileNavItemComponent\n              key={navItem.id}\n              navItem={navItem}\n              activeSection={activeSection}\n              highlightColor={highlightColor}\n              textColor={textColor}\n              minLineWidth={minLineWidth}\n              maxLineWidth={maxLineWidth}\n            />\n          ))}\n        </MobileNav>\n      )}\n      \n      <Container \n        ref={containerRef}\n        isMobile={isMobile}\n        initial={{ opacity: 0, y: animationConfig?.initialY ?? 30 }}\n        animate={controls}\n      >\n        {/* Left sidebar wrapper - desktop only */}\n        {!isMobile && (\n          <SidebarWrapper \n            ref={sidebarWrapperRef}\n            width={layoutValues.sidebarWidth}\n          >\n            {/* Profile sidebar */}\n            <Sidebar ref={sidebarRef}>\n              <ProfileInfo\n                person={person}\n                isMobile={isMobile}\n                highlightColor={highlightColor}\n                textColor={textColor}\n                fontFamily={fontFamily}\n              />\n              \n              {/* Navigation links with event delegation */}\n              {!isMobile && (\n                <NavLinks ref={navLinksRef}>\n                  {navigationItems.map((navItem) => (\n                    <NavLinkComponent\n                      key={navItem.id}\n                      navItem={navItem}\n                      activeSection={activeSection}\n                      expandedNavItem={expandedNavItem}\n                      onMouseEnter={handleNavItemHover}\n                      onMouseLeave={handleNavItemLeave}\n                      highlightColor={highlightColor}\n                      textColor={textColor}\n                      minLineWidth={minLineWidth}\n                      maxLineWidth={maxLineWidth}\n                    />\n                  ))}\n                </NavLinks>\n              )}\n            </Sidebar>\n          </SidebarWrapper>\n        )}\n        \n        {/* Profile Info for mobile */}\n        {isMobile && (\n          <ProfileInfo\n            person={person}\n            isMobile={isMobile}\n            highlightColor={highlightColor}\n            textColor={textColor}\n            fontFamily={fontFamily}\n          />\n        )}\n        \n        {/* Right content section */}\n        <ContentSection \n          ref={contentRef}\n          isMobile={isMobile}\n          width={layoutValues.contentWidth}\n          contentPadding={layoutValues.contentPadding}\n        >\n          {/* Render sections based on navigationItems */}\n          {navigationItems.map((section, index) => {\n            if (index >= sectionRefs.length) return null;\n            \n            return (\n              <Section \n                key={section.id}\n                ref={sectionRefs[index]}\n                data-section={section.id}\n                id={section.id}\n                isMobile={isMobile}\n              >\n                {getRenderedSection(section.id)}\n              </Section>\n            );\n          })}\n          \n          {/* Additional sections */}\n          {additionalSections.map((section, index) => (\n            <Section \n              key={`additional-${index}`}\n              isMobile={isMobile}\n            >\n              {section.title && (\n                <SectionTitle highlightColor={highlightColor}>\n                  {section.title}\n                </SectionTitle>\n              )}\n              <SectionContentComponent\n                content={section.content}\n                textColor={textColor}\n                fontFamily={fontFamily}\n              />\n            </Section>\n          ))}\n        </ContentSection>\n      </Container>\n    </>\n  );\n};\n\n// Using memo to prevent unnecessary re-renders\nexport default React.memo(PersonProfileCard);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
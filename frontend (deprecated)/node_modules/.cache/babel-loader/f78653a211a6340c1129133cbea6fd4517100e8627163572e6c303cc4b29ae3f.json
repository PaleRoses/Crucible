{"ast":null,"code":"var _jsxFileName = \"/home/valeria/Documents/Crucible/frontend/src/components/sections/landingpage/IntroSequence.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IntroSequence = ({\n  showIntro,\n  moonDrawn,\n  setMoonDrawn,\n  quoteVisible,\n  currentQuote,\n  handleSkipIntro\n}) => {\n  _s();\n  const moonCanvasRef = useRef(null);\n  const moonAnimationRef = useRef(null);\n\n  // Vector moon animation for intro\n  useEffect(() => {\n    if (!moonCanvasRef.current || moonDrawn === 0) return;\n    const canvas = moonCanvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const centerX = canvas.width / 2;\n    const centerY = canvas.height / 2;\n    const radius = 70;\n    let angle = 0;\n    let direction = 1; // 1 for drawing, -1 for undoing\n    let lastTimestamp = 0;\n\n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    const drawMoonAnimation = timestamp => {\n      if (!lastTimestamp) lastTimestamp = timestamp;\n      const deltaTime = timestamp - lastTimestamp;\n      lastTimestamp = timestamp;\n\n      // Speed control - faster animation to complete in ~2.3 seconds\n      const speed = 1.3 * deltaTime / 16.67; // Significantly faster\n\n      angle += speed * direction;\n\n      // Clear canvas\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      // Draw moon outline\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, 0, angle * Math.PI / 180, false);\n      ctx.strokeStyle = 'rgba(191, 173, 127, 0.7)';\n      ctx.lineWidth = 1.5;\n      ctx.stroke();\n\n      // Add subtle glow\n      ctx.shadowColor = 'rgba(191, 173, 127, 0.3)';\n      ctx.shadowBlur = 8;\n\n      // Reverse direction when full circle is drawn\n      if (angle >= 360 && direction === 1) {\n        direction = -1; // Start undoing\n      }\n\n      // Stop when animation is complete or when we reach moonDrawn state 2\n      if (angle <= 0 && direction === -1 || moonDrawn === 2) {\n        cancelAnimationFrame(moonAnimationRef.current);\n        return;\n      }\n      moonAnimationRef.current = requestAnimationFrame(drawMoonAnimation);\n    };\n    if (moonDrawn === 1) {\n      moonAnimationRef.current = requestAnimationFrame(drawMoonAnimation);\n    }\n    return () => {\n      if (moonAnimationRef.current) {\n        cancelAnimationFrame(moonAnimationRef.current);\n      }\n    };\n  }, [moonDrawn]);\n\n  // Format quote with line breaks\n  const formatQuote = text => {\n    return text.split('\\n').map((line, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"quote-line\",\n      children: [line, i < text.split('\\n').length - 1 && /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 45\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this));\n  };\n  if (!showIntro) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"intro-sequence\",\n    onClick: handleSkipIntro,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"moon-animation\",\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: moonCanvasRef,\n        width: \"200\",\n        height: \"200\",\n        className: \"moon-canvas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `quote-container ${quoteVisible ? 'visible' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quote-text\",\n        children: currentQuote && formatQuote(currentQuote.text)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quote-author\",\n        children: currentQuote && currentQuote.author\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skip-intro\",\n      children: \"tap to skip\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s(IntroSequence, \"izmJMhWlNSCd8oAt44G3nwPfW3Q=\");\n_c = IntroSequence;\nexport default IntroSequence;\nvar _c;\n$RefreshReg$(_c, \"IntroSequence\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","IntroSequence","showIntro","moonDrawn","setMoonDrawn","quoteVisible","currentQuote","handleSkipIntro","_s","moonCanvasRef","moonAnimationRef","current","canvas","ctx","getContext","centerX","width","centerY","height","radius","angle","direction","lastTimestamp","clearRect","drawMoonAnimation","timestamp","deltaTime","speed","beginPath","arc","Math","PI","strokeStyle","lineWidth","stroke","shadowColor","shadowBlur","cancelAnimationFrame","requestAnimationFrame","formatQuote","text","split","map","line","i","className","children","length","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","author","_c","$RefreshReg$"],"sources":["/home/valeria/Documents/Crucible/frontend/src/components/sections/landingpage/IntroSequence.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\nconst IntroSequence = ({ \n  showIntro, \n  moonDrawn, \n  setMoonDrawn, \n  quoteVisible, \n  currentQuote, \n  handleSkipIntro \n}) => {\n  const moonCanvasRef = useRef(null);\n  const moonAnimationRef = useRef(null);\n  \n  // Vector moon animation for intro\n  useEffect(() => {\n    if (!moonCanvasRef.current || moonDrawn === 0) return;\n    \n    const canvas = moonCanvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const centerX = canvas.width / 2;\n    const centerY = canvas.height / 2;\n    const radius = 70;\n    let angle = 0;\n    let direction = 1; // 1 for drawing, -1 for undoing\n    let lastTimestamp = 0;\n    \n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    const drawMoonAnimation = (timestamp) => {\n      if (!lastTimestamp) lastTimestamp = timestamp;\n      const deltaTime = timestamp - lastTimestamp;\n      lastTimestamp = timestamp;\n      \n      // Speed control - faster animation to complete in ~2.3 seconds\n      const speed = 1.3 * deltaTime / 16.67; // Significantly faster\n      \n      angle += speed * direction;\n      \n      // Clear canvas\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      // Draw moon outline\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, 0, angle * Math.PI / 180, false);\n      ctx.strokeStyle = 'rgba(191, 173, 127, 0.7)';\n      ctx.lineWidth = 1.5;\n      ctx.stroke();\n      \n      // Add subtle glow\n      ctx.shadowColor = 'rgba(191, 173, 127, 0.3)';\n      ctx.shadowBlur = 8;\n      \n      // Reverse direction when full circle is drawn\n      if (angle >= 360 && direction === 1) {\n        direction = -1; // Start undoing\n      }\n      \n      // Stop when animation is complete or when we reach moonDrawn state 2\n      if ((angle <= 0 && direction === -1) || moonDrawn === 2) {\n        cancelAnimationFrame(moonAnimationRef.current);\n        return;\n      }\n      \n      moonAnimationRef.current = requestAnimationFrame(drawMoonAnimation);\n    };\n    \n    if (moonDrawn === 1) {\n      moonAnimationRef.current = requestAnimationFrame(drawMoonAnimation);\n    }\n    \n    return () => {\n      if (moonAnimationRef.current) {\n        cancelAnimationFrame(moonAnimationRef.current);\n      }\n    };\n  }, [moonDrawn]);\n  \n  // Format quote with line breaks\n  const formatQuote = (text) => {\n    return text.split('\\n').map((line, i) => (\n      <span key={i} className=\"quote-line\">\n        {line}\n        {i < text.split('\\n').length - 1 && <br />}\n      </span>\n    ));\n  };\n  \n  if (!showIntro) return null;\n  \n  return (\n    <div className=\"intro-sequence\" onClick={handleSkipIntro}>\n      <div className=\"moon-animation\">\n        <canvas \n          ref={moonCanvasRef} \n          width=\"200\" \n          height=\"200\"\n          className=\"moon-canvas\"\n        />\n      </div>\n      \n      <div className={`quote-container ${quoteVisible ? 'visible' : ''}`}>\n        <div className=\"quote-text\">\n          {currentQuote && formatQuote(currentQuote.text)}\n        </div>\n        <div className=\"quote-author\">\n          {currentQuote && currentQuote.author}\n        </div>\n      </div>\n      \n      <div className=\"skip-intro\">tap to skip</div>\n    </div>\n  );\n};\n\nexport default IntroSequence;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
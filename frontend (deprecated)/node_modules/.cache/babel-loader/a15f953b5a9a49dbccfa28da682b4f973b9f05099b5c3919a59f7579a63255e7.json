{"ast":null,"code":"var _jsxFileName = \"/home/valeria/Documents/Crucible/frontend/src/components/core/effects/ScrollingTextAnimation.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { motion, useScroll, useTransform, useReducedMotion } from 'framer-motion';\nimport { createUseStyles } from 'react-jss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = createUseStyles({\n  container: {\n    position: 'relative',\n    width: '100%',\n    textAlign: props => props.textAlign || 'center',\n    margin: props => props.margin || '0 0 3rem 0',\n    zIndex: 2,\n    willChange: 'transform, opacity',\n    // Simplified GPU acceleration properties\n    '-webkit-font-smoothing': 'antialiased'\n  },\n  content: {\n    width: '100%'\n  },\n  divider: props => ({\n    width: props.dividerWidth || '150px',\n    height: props.dividerHeight || '1px',\n    background: props.dividerBackground || 'linear-gradient(to right, rgba(160, 142, 97, 0), rgba(160, 142, 97, 0.6), rgba(160, 142, 97, 0))',\n    margin: props.dividerMargin || '1rem auto',\n    display: props.showDivider ? 'block' : 'none'\n  })\n});\n\n/**\n * ScrollingTextAnimation Component\n * \n * A high-performance, butter-smooth scroll-based animation component\n * that \"just works\" with exceptional performance and minimal configuration.\n */\nconst ScrollingTextAnimation = ({\n  children,\n  scrollConfig = {},\n  textAlign = 'center',\n  margin = '0 0 3rem 0',\n  showDivider = true,\n  dividerWidth = '150px',\n  dividerHeight = '1px',\n  dividerBackground,\n  dividerMargin = '1rem auto',\n  style = {},\n  className = ''\n}) => {\n  _s();\n  // Set default scroll configuration with optimized defaults\n  const {\n    scrollRange = 200,\n    // How many pixels of scroll the animation spans\n    initialY = 50,\n    // Starting offset for the Y position\n    reverseDirection = false,\n    throttleAmount = 16 // Optimal throttling for smooth 60fps\n  } = scrollConfig;\n  const ref = useRef(null);\n  const prefersReducedMotion = useReducedMotion();\n  const [elementTop, setElementTop] = useState(0);\n  const [isMounted, setIsMounted] = useState(false);\n\n  // Measure the element's position on mount and resize\n  useEffect(() => {\n    setIsMounted(true);\n    const measureElement = () => {\n      if (ref.current && typeof window !== 'undefined') {\n        const rect = ref.current.getBoundingClientRect();\n        const scrollY = window.scrollY || window.pageYOffset;\n        const top = rect.top + scrollY;\n        setElementTop(top);\n      }\n    };\n    measureElement();\n\n    // Re-measure on resize with throttling\n    let resizeTimer;\n    const handleResize = () => {\n      clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(measureElement, 100);\n    };\n    if (typeof window !== 'undefined') {\n      window.addEventListener('resize', handleResize);\n      return () => {\n        window.removeEventListener('resize', handleResize);\n        clearTimeout(resizeTimer);\n      };\n    }\n  }, []);\n\n  // Calculate scroll-based animations with proper throttling\n  const {\n    scrollY\n  } = useScroll({\n    throttle: throttleAmount\n  });\n\n  // Determine scroll range based on element position\n  const scrollStart = Math.max(0, elementTop - (typeof window !== 'undefined' ? window.innerHeight : 0));\n  const scrollEnd = scrollStart + scrollRange;\n\n  // Create transform values - no layering of transforms to avoid computational overhead\n  const y = useTransform(scrollY, [scrollStart, scrollEnd], reverseDirection ? [0, initialY] : [initialY, 0], {\n    clamp: true\n  });\n  const opacity = useTransform(scrollY, [scrollStart, scrollEnd * 0.7], [0, 1], {\n    clamp: true\n  });\n  const styleProps = {\n    textAlign,\n    margin,\n    showDivider,\n    dividerWidth,\n    dividerHeight,\n    dividerBackground,\n    dividerMargin\n  };\n  const classes = useStyles(styleProps);\n\n  // Create appropriate animation based on reduced motion preferences\n  const animationStyle = prefersReducedMotion ? {\n    opacity: 1,\n    y: 0\n  } : {\n    opacity,\n    y\n  };\n\n  // Don't use motion animations until client-side hydration to prevent flashes\n  if (!isMounted) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ref,\n      className: `${classes.container} ${className}`,\n      style: {\n        ...style,\n        opacity: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.content,\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), showDivider && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.divider\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    ref: ref,\n    className: `${classes.container} ${className}`,\n    style: {\n      ...style,\n      ...animationStyle\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.content,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), showDivider && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.divider\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n};\n_s(ScrollingTextAnimation, \"99xkg+fYnfkL7Kho9gNIlvC8BxU=\", false, function () {\n  return [useReducedMotion, useScroll, useTransform, useTransform, useStyles];\n});\n_c = ScrollingTextAnimation;\nexport default ScrollingTextAnimation;\nvar _c;\n$RefreshReg$(_c, \"ScrollingTextAnimation\");","map":{"version":3,"names":["React","useRef","useEffect","useState","motion","useScroll","useTransform","useReducedMotion","createUseStyles","jsxDEV","_jsxDEV","useStyles","container","position","width","textAlign","props","margin","zIndex","willChange","content","divider","dividerWidth","height","dividerHeight","background","dividerBackground","dividerMargin","display","showDivider","ScrollingTextAnimation","children","scrollConfig","style","className","_s","scrollRange","initialY","reverseDirection","throttleAmount","ref","prefersReducedMotion","elementTop","setElementTop","isMounted","setIsMounted","measureElement","current","window","rect","getBoundingClientRect","scrollY","pageYOffset","top","resizeTimer","handleResize","clearTimeout","setTimeout","addEventListener","removeEventListener","throttle","scrollStart","Math","max","innerHeight","scrollEnd","y","clamp","opacity","styleProps","classes","animationStyle","fileName","_jsxFileName","lineNumber","columnNumber","div","_c","$RefreshReg$"],"sources":["/home/valeria/Documents/Crucible/frontend/src/components/core/effects/ScrollingTextAnimation.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport { motion, useScroll, useTransform, useReducedMotion } from 'framer-motion';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  container: {\n    position: 'relative',\n    width: '100%',\n    textAlign: props => props.textAlign || 'center',\n    margin: props => props.margin || '0 0 3rem 0',\n    zIndex: 2,\n    willChange: 'transform, opacity',\n    // Simplified GPU acceleration properties\n    '-webkit-font-smoothing': 'antialiased'\n  },\n  content: {\n    width: '100%',\n  },\n  divider: props => ({\n    width: props.dividerWidth || '150px',\n    height: props.dividerHeight || '1px',\n    background: props.dividerBackground || 'linear-gradient(to right, rgba(160, 142, 97, 0), rgba(160, 142, 97, 0.6), rgba(160, 142, 97, 0))',\n    margin: props.dividerMargin || '1rem auto',\n    display: props.showDivider ? 'block' : 'none'\n  })\n});\n\n/**\n * ScrollingTextAnimation Component\n * \n * A high-performance, butter-smooth scroll-based animation component\n * that \"just works\" with exceptional performance and minimal configuration.\n */\nconst ScrollingTextAnimation = ({\n  children,\n  scrollConfig = {},\n  textAlign = 'center',\n  margin = '0 0 3rem 0',\n  showDivider = true,\n  dividerWidth = '150px',\n  dividerHeight = '1px',\n  dividerBackground,\n  dividerMargin = '1rem auto',\n  style = {},\n  className = ''\n}) => {\n  // Set default scroll configuration with optimized defaults\n  const {\n    scrollRange = 200,      // How many pixels of scroll the animation spans\n    initialY = 50,          // Starting offset for the Y position\n    reverseDirection = false,\n    throttleAmount = 16     // Optimal throttling for smooth 60fps\n  } = scrollConfig;\n\n  const ref = useRef(null);\n  const prefersReducedMotion = useReducedMotion();\n  const [elementTop, setElementTop] = useState(0);\n  const [isMounted, setIsMounted] = useState(false);\n  \n  // Measure the element's position on mount and resize\n  useEffect(() => {\n    setIsMounted(true);\n    \n    const measureElement = () => {\n      if (ref.current && typeof window !== 'undefined') {\n        const rect = ref.current.getBoundingClientRect();\n        const scrollY = window.scrollY || window.pageYOffset;\n        const top = rect.top + scrollY;\n        setElementTop(top);\n      }\n    };\n    \n    measureElement();\n    \n    // Re-measure on resize with throttling\n    let resizeTimer;\n    const handleResize = () => {\n      clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(measureElement, 100);\n    };\n    \n    if (typeof window !== 'undefined') {\n      window.addEventListener('resize', handleResize);\n      return () => {\n        window.removeEventListener('resize', handleResize);\n        clearTimeout(resizeTimer);\n      };\n    }\n  }, []);\n  \n  // Calculate scroll-based animations with proper throttling\n  const { scrollY } = useScroll({ throttle: throttleAmount });\n  \n  // Determine scroll range based on element position\n  const scrollStart = Math.max(0, elementTop - (typeof window !== 'undefined' ? window.innerHeight : 0));\n  const scrollEnd = scrollStart + scrollRange;\n  \n  // Create transform values - no layering of transforms to avoid computational overhead\n  const y = useTransform(\n    scrollY,\n    [scrollStart, scrollEnd],\n    reverseDirection ? [0, initialY] : [initialY, 0],\n    { clamp: true }\n  );\n  \n  const opacity = useTransform(\n    scrollY,\n    [scrollStart, scrollEnd * 0.7],\n    [0, 1],\n    { clamp: true }\n  );\n  \n  const styleProps = {\n    textAlign,\n    margin,\n    showDivider,\n    dividerWidth,\n    dividerHeight,\n    dividerBackground,\n    dividerMargin\n  };\n  \n  const classes = useStyles(styleProps);\n  \n  // Create appropriate animation based on reduced motion preferences\n  const animationStyle = prefersReducedMotion ? \n    { opacity: 1, y: 0 } : \n    { opacity, y };\n\n  // Don't use motion animations until client-side hydration to prevent flashes\n  if (!isMounted) {\n    return (\n      <div \n        ref={ref}\n        className={`${classes.container} ${className}`}\n        style={{ ...style, opacity: 0 }}\n      >\n        <div className={classes.content}>\n          {children}\n        </div>\n        {showDivider && <div className={classes.divider} />}\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      ref={ref}\n      className={`${classes.container} ${className}`}\n      style={{\n        ...style,\n        ...animationStyle\n      }}\n    >\n      <div className={classes.content}>\n        {children}\n      </div>\n      {showDivider && <div className={classes.divider} />}\n    </motion.div>\n  );\n};\n\nexport default ScrollingTextAnimation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}